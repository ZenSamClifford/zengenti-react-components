{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./src/app/lib.js","webpack:///./src/server/internalServer.js","webpack:///external \"isomorphic-fetch\"","webpack:///external \"express\"","webpack:///external \"react-loadable\"","webpack:///./src/server/util/displayStartupConfiguration.js","webpack:///./src/server/core/localDns.js","webpack:///external \"evil-dns\"","webpack:///./src/server/util/fetchMyIp.js","webpack:///./src/server/core/reverseProxies.js","webpack:///external \"http-proxy\"","webpack:///./src/server/core/webApp.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./node_modules/react-dom/server.js","webpack:///./node_modules/react-dom/server.node.js","webpack:///./node_modules/react-dom/cjs/react-dom-server.node.production.min.js","webpack:///./node_modules/object-assign/index.js","webpack:///external \"react\"","webpack:///external \"stream\"","webpack:///./node_modules/react-loadable/webpack.js","webpack:///./node_modules/react-loadable/lib/webpack.js","webpack:///external \"fs\"","webpack:///external \"path\"","webpack:///external \"url\"","webpack:///external \"styled-components\"","webpack:///external \"react-helmet\"","webpack:///external \"serialize-javascript\"","webpack:///external \"minify-css-string\"","webpack:///./src/server/util/types.js","webpack:///./src/app/core/util/pickProject.js"],"names":["LIB","require","default","exports","app","start","options","disable","reverseProxyPaths","ConfigureFeatures","use","express","static","maxage","on","Loadable","preloadAll","then","server","listen","console","info","setTimeout","emit","close","DisplayStartupConfiguration","servers","projects","log","JSON","stringify","SERVERS","apiConfig","DELIVERY_API_CONFIG","localDns","disableDnsChanges","configureLocalEndpoint","evilDns","add","alias","internalVip","internalIp","rootUrl","fetchMyIp","env","fetch","method","headers","response","json","error","ipJson","ip","startsWith","catch","apiProxy","httpProxy","createProxyServer","reverseProxies","deliveryApiProxy","all","req","res","target","iis","web","changeOrigin","e","path","hostname","cms","addStandardHeaders","state","selectors","packagejson","navDepends","selectNavigationDepends","recordDepends","selectRouteEntryDepends","toJS","length","allDepends","allDependsHeaderValue","join","name","header","addVarnishAuthenticationHeaders","setHeader","stateEntry","selectRouteEntry","project","selectCurrentProject","getIn","webApp","get","request","next","originalUrl","url","accessMethod","isDynamicNormalised","query","dynamic","toLowerCase","onlyDynamic","dynamicPaths","includes","isReduxRequestNormalised","redux","isFragmentNormalised","fragment","isStaticNormalised","DYNAMIC","AccessMethods","REDUX","FRAGMENT","STATIC","context","store","createStore","status","versionStatusFromHostname","helpers","GetDeliveryApiStatusFromHostname","versionInfo","version","dispatch","actions","setVersionStatus","setVersion","commitRef","buildNo","groups","setCurrentProject","modules","jsx","templates","templateHTML","templateHTMLFragment","templateHTMLStatic","isDynamicHint","dynamicBundles","stats","dynamicBundleScripts","map","bundle","publicPath","responseHtmlDynamic","replace","send","runSaga","rootSaga","toPromise","sheet","ServerStyleSheet","html","collectStyles","helmet","Helmet","renderStatic","rewind","title","toString","metadata","meta","redirect","reduxState","getState","styleTags","getStyleTags","bundles","bundleScripts","serialisedReduxData","DISABLE_SSR_REDUX","responseHTML","err","stack","publicUri","PUBLIC_URI","PROJECTS","pickProject","p","id","forEach","allowedGroups","ALLOWED_GROUPS"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;AClFA;AACA;AACA;AACA;AACA;;AAEA,wC;;;;;;;;;ACNA,IAAMA,GAAG,GAAGC,mBAAO,CAAC,EAAR,CAAoCC,OAAhD;;AAEAC,OAAO,CAACC,GAAR,GAAcJ,GAAG,CAACI,GAAlB;AACAD,OAAO,CAACE,KAAR,GAAgBL,GAAG,CAACK,KAApB,C;;;;;;;;;;;;;;;;ACHA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;AADA;AAGA,IAAMD,GAAG,GAAG,uBAAZ;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAAAC,OAAO,EAAI;AACvBF,KAAG,CAACG,OAAJ,CAAY,cAAZ,EADuB,CAGvB;;AACA,4CAA4BD,OAA5B,EAJuB,CAMvB;;AACA,2BAPuB,CASvB;;AACA,+BAAwBF,GAAxB,EAA6BE,OAAO,CAACE,iBAArC;AACAF,SAAO,CAACG,iBAAR,CAA0BL,GAA1B;AACA,uBAAgBA,GAAhB,EAAqBE,OAArB;AAEAF,KAAG,CAACM,GAAJ,CAAQ,SAAR,EAAmBC,iBAAQC,MAAR,CAAe,aAAf,EAA8B;AAAEC,UAAM,EAAE;AAAV,GAA9B,CAAnB;AAEAT,KAAG,CAACU,EAAJ,CAAO,OAAP,EAAgB,YAAM;AACpBC,2BAASC,UAAT,GAAsBC,IAAtB,CAA2B,YAAM;AAC/B,UAAIC,MAAM,GAAGd,GAAG,CAACe,MAAJ,CAAW,IAAX,EAAiB,YAAM;AAClCC,eAAO,CAACC,IAAR;AACAC,kBAAU,CAAC,YAAW;AACpBlB,aAAG,CAACmB,IAAJ,CAAS,aAAT;AACD,SAFS,EAEP,GAFO,CAAV;AAGD,OALY,CAAb;AAMAnB,SAAG,CAACU,EAAJ,CAAO,MAAP,EAAe,YAAM;AACnBI,cAAM,CAACM,KAAP,CAAa,YAAW;AACtBJ,iBAAO,CAACC,IAAR,CAAa,YAAb;AACD,SAFD;AAGD,OAJD;AAKD,KAZD;AAaD,GAdD;AAeD,CA/BD;;eAiCe;AAAEjB,KAAG,EAAHA,GAAF;AAAOC,OAAK,EAALA;AAAP,C;;;;;;;AC7Cf,gD;;;;;;ACAA,gD;;;;;;ACAA,gD;;;;;;;;;;;;;;ACAA,IAAMoB,2BAA2B,GAAG,SAA9BA,2BAA8B,OAI9B;AAAA,MAHJC,OAGI,QAHJA,OAGI;AAAA,MAFJC,QAEI,QAFJA,QAEI;AAAA,MADJnB,iBACI,QADJA,iBACI;;AACJ;AACAY,SAAO,CAACQ,GAAR;AACAR,SAAO,CAACQ,GAAR,0BAGEC,IAAI,CAACC,SAAL,CAAeJ,OAAf,EAAwB,IAAxB,EAA8B,CAA9B,CAHF;AAKAN,SAAO,CAACQ,GAAR;AACAR,SAAO,CAACQ,GAAR,2BAGEC,IAAI,CAACC,SAAL,CAAeH,QAAf,EAAyB,IAAzB,EAA+B,CAA/B,CAHF;AAKAP,SAAO,CAACQ,GAAR;AACAR,SAAO,CAACQ,GAAR,CACE,uBADF,EAEEC,IAAI,CAACC,SAAL,CAAetB,iBAAf,EAAkC,IAAlC,EAAwC,CAAxC,CAFF;AAIAY,SAAO,CAACQ,GAAR;AAEA;AACD,CA1BD;;eA4BeH,2B;;;;;;;;;;;;;;;;;AC5Bf;;AACA;;AAEA,IAAMC,OAAO,GAAGK,OAAhB;AAAyB;;AACzB,IAAMC,SAAS,GAAGC,mBAAlB;AAAuC;;AAEvC,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM;AACrB,MAAMC,iBAAiB,GAAG,KAA1B;;AAEA,MAAMC,sBAAsB,GAAG,SAAzBA,sBAAyB,GAAM;AACnC,QAAI,CAACD,iBAAL,EAAwB;AACtBE,uBAAQC,GAAR,YAAgBZ,OAAO,CAACa,KAAxB,2BAAqDb,OAAO,CAACc,WAA7D;;AAEA,UAAIR,SAAS,CAACS,UAAd,EACEJ,iBAAQC,GAAR,CAAYN,SAAS,CAACU,OAAtB,EAA+BV,SAAS,CAACS,UAAzC;AACH;AACF,GAPD,CAHqB,CAYrB;AACA;;;AACA,0BAAUf,OAAV,EAAmBU,sBAAnB;AACD,CAfD;;eAiBeF,Q;;;;;;;ACvBf,gD;;;;;;;;;;;;;;ACAA,IAAMS,SAAS,GAAG,SAAZA,SAAY,CAACC,GAAD,EAAMR,sBAAN,EAAiC;AACjD;AACAS,OAAK,CAAC,mCAAD,EAAsC;AACzCC,UAAM,EAAE,KADiC;AAEzCC,WAAO,EAAE;AACP,sBAAgB;AADT;AAFgC,GAAtC,CAAL,CAMG9B,IANH,CAOI,UAAA+B,QAAQ,EAAI;AACV,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,GATL,EAUI,UAAAC,KAAK,EAAI;AACP9B,WAAO,CAACQ,GAAR,yLACmLsB,KADnL;AAGAd,0BAAsB;AACvB,GAfL,EAiBGnB,IAjBH,CAiBQ,UAAAkC,MAAM,EAAI;AACd/B,WAAO,CAACQ,GAAR,gCAAoCC,IAAI,CAACC,SAAL,CAAeqB,MAAf,CAApC;;AACA,QAAIA,MAAM,CAACC,EAAP,CAAUC,UAAV,CAAqB,WAArB,CAAJ,EAAuC;AACrCjC,aAAO,CAACQ,GAAR,oCAC8BgB,GAAG,CAACL,KADlC,iBAC8CK,GAAG,CAACJ,WADlD;AAGAJ,4BAAsB;AACvB,KALD,MAKO;AACLhB,aAAO,CAACQ,GAAR;AACD;AACF,GA3BH,EA4BG0B,KA5BH,CA4BS,UAAAJ,KAAK,EAAI;AACdd,0BAAsB;AACtBhB,WAAO,CAACQ,GAAR,yLACmLsB,KADnL;AAGD,GAjCH;AAkCA;AACD,CArCD;;eAuCeP,S;;;;;;;;;;;;;;;;;ACvCf;;AAEA,IAAMjB,OAAO,GAAGK,OAAhB;AAAyB;;AACzB,IAAIwB,QAAQ,GAAGC,mBAAUC,iBAAV,EAAf;;AAEA,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACtD,GAAD,EAAMI,iBAAN,EAA4B;AACjDmD,kBAAgB,CAACJ,QAAD,EAAWnD,GAAX,CAAhB;AAEAA,KAAG,CAACwD,GAAJ,CAAQpD,iBAAR,EAA2B,UAACqD,GAAD,EAAMC,GAAN,EAAc;AACvC,QAAMC,MAAM,GAAGrC,OAAO,CAACsC,GAAvB;AAEAT,YAAQ,CAACU,GAAT,CAAaJ,GAAb,EAAkBC,GAAlB,EAAuB;AAAEC,YAAM,EAANA,MAAF;AAAUG,kBAAY,EAAE;AAAxB,KAAvB;AACAX,YAAQ,CAACzC,EAAT,CAAY,OAAZ,EAAqB,UAAAqD,CAAC,EAAI;AACxB;AACA/C,aAAO,CAACQ,GAAR,6BACuBiC,GAAG,CAACO,IAD3B,uBAC4CP,GAAG,CAACQ,QADhD,0BACwEF,CADxE;AAGA;AACD,KAND;AAOD,GAXD;AAYD,CAfD;;AAiBA,IAAMR,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACJ,QAAD,EAAWnD,GAAX,EAAmB;AAC1C;AACAA,KAAG,CAACwD,GAAJ,CAAQ,CAAC,iBAAD,CAAR,EAA6B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzC;AACA,QAAMC,MAAM,GAAGrC,OAAO,CAAC4C,GAAvB;AACAlD,WAAO,CAACQ,GAAR,mCAAuCF,OAAO,CAACa,KAA/C;AACAgB,YAAQ,CAACU,GAAT,CAAaJ,GAAb,EAAkBC,GAAlB,EAAuB;AACrBC,YAAM,EAANA,MADqB;AAErBG,kBAAY,EAAE;AAFO,KAAvB;AAIAX,YAAQ,CAACzC,EAAT,CAAY,OAAZ,EAAqB,UAAAqD,CAAC,EAAI;AACxB;AACA/C,aAAO,CAACQ,GAAR,6BACuBiC,GAAG,CAACO,IAD3B,uBAC4CP,GAAG,CAACQ,QADhD,0BACwEF,CADxE;AAGA;AACD,KAND;AAOD,GAfD;AAgBD,CAlBD;;eAoBeT,c;;;;;;;AC1Cf,iD;;;;;;;;;;;;;;;;;;;;ACAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAGA;;AACA;;AAHA;AAKA,IAAMa,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,KAAD,EAAQxB,QAAR,EAAkByB,SAAlB,EAA6BC,WAA7B,EAA6C;AACtE,MAAIF,KAAJ,EAAW;AACT;AACA,QAAI;AACFpD,aAAO,CAACQ,GAAR,CAAY,qBAAZ;AACA,UAAI+C,UAAU,GAAGF,SAAS,CAACG,uBAAV,CAAkCJ,KAAlC,CAAjB;AACA,UAAIK,aAAa,GAAGJ,SAAS,CAACK,uBAAV,CAAkCN,KAAlC,CAApB;AACAG,gBAAU,GAAGA,UAAU,CAACI,IAAX,EAAb;AACAF,mBAAa,GAAGA,aAAa,CAACE,IAAd,EAAhB;AACA3D,aAAO,CAACQ,GAAR,6BAAiC+C,UAAU,CAACK,MAA5C;AACA5D,aAAO,CAACQ,GAAR,gCAAoCiD,aAAa,CAACG,MAAlD;AACA,UAAMC,UAAU,8CAAON,UAAP,oCAAsBE,aAAtB,EAAhB;AACA,UAAIK,qBAAqB,GAAGD,UAAU,CAACE,IAAX,CAAgB,GAAhB,CAA5B;AACAD,2BAAqB,cAAOR,WAAW,CAACU,IAAnB,kBAA+BF,qBAA/B,cAAwDR,WAAW,CAACU,IAApE,SAArB;AACApC,cAAQ,CAACqC,MAAT,CAAgB,eAAhB,EAAiCH,qBAAjC;AAEAI,qCAA+B,CAACd,KAAD,EAAQxB,QAAR,EAAkByB,SAAlB,CAA/B;AACD,KAdD,CAcE,OAAON,CAAP,EAAU;AACV/C,aAAO,CAACQ,GAAR,CAAY,sBAAZ;AACAR,aAAO,CAACQ,GAAR,CAAYuC,CAAZ;AACD;AACF;;AACDnB,UAAQ,CAACuC,SAAT,CAAmB,mBAAnB,EAAwC,cAAxC;AACD,CAvBD;;AAyBA,IAAMD,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACd,KAAD,EAAQxB,QAAR,EAAkByB,SAAlB,EAAgC;AACtE,MAAID,KAAJ,EAAW;AACT,QAAI;AACF,UAAMgB,UAAU,GAAGf,SAAS,CAACgB,gBAAV,CAA2BjB,KAA3B,CAAnB;AACA,UAAMkB,OAAO,GAAGjB,SAAS,CAACkB,oBAAV,CAA+BnB,KAA/B,CAAhB;;AACA,UACEgB,UAAU,IACVA,UAAU,CAACI,KAAX,CAAiB,CAAC,gBAAD,EAAmB,iBAAnB,CAAjB,CAFF,EAGE;AACA5C,gBAAQ,CAACqC,MAAT,CACE,2BADF,EAEE,gCAAcK,OAAd,EAAuBP,IAAvB,CAA4B,GAA5B,CAFF;AAID;AACF,KAZD,CAYE,OAAOhB,CAAP,EAAU;AACV/C,aAAO,CAACQ,GAAR,CAAY,oCAAZ;AACAR,aAAO,CAACQ,GAAR,CAAYuC,CAAZ;AACD;AACF;AACF,CAnBD;;AAqBA,IAAM0B,MAAM,GAAG,SAATA,MAAS,CAACzF,GAAD,EAAME,OAAN,EAAkB;AAC/BF,KAAG,CAAC0F,GAAJ,CAAQ,IAAR,EAAc,UAACC,OAAD,EAAU/C,QAAV,EAAoBgD,IAApB,EAA6B;AACzC,QAAID,OAAO,CAACE,WAAR,CAAoB5C,UAApB,CAA+B,UAA/B,CAAJ,EAAgD,OAAO2C,IAAI,EAAX;AADP,QAGjCE,GAHiC,GAGzBH,OAHyB,CAGjCG,GAHiC,EAKzC;;AACA,QAAIC,YAAY,GAAG,EAAnB;AAEA,QAAMC,mBAAmB,GAAGL,OAAO,CAACM,KAAR,CAAcC,OAAd,GACxBP,OAAO,CAACM,KAAR,CAAcC,OAAd,CAAsBC,WAAtB,EADwB,GAExB,OAFJ,CARyC,CAYzC;;AACA,QAAMC,WAAW,GAAGlG,OAAO,CAACmG,YAAR,CAAqBC,QAArB,CAA8BX,OAAO,CAAC3B,IAAtC,CAApB;AAEA,QAAMuC,wBAAwB,GAAGZ,OAAO,CAACM,KAAR,CAAcO,KAAd,GAC7Bb,OAAO,CAACM,KAAR,CAAcO,KAAd,CAAoBL,WAApB,EAD6B,GAE7B,OAFJ;AAIA,QAAMM,oBAAoB,GAAGd,OAAO,CAACM,KAAR,CAAcS,QAAd,GACzBf,OAAO,CAACM,KAAR,CAAcS,QAAd,CAAuBP,WAAvB,EADyB,GAEzB,OAFJ;AAIA,QAAMQ,kBAAkB,GAAGhB,OAAO,CAACM,KAAR,CAAczF,MAAd,GACvBmF,OAAO,CAACM,KAAR,CAAczF,MAAd,CAAqB2F,WAArB,EADuB,GAEvB,OAFJ;AAIA,QAAIC,WAAW,IAAIJ,mBAAmB,KAAK,MAA3C,EACED,YAAY,CAACa,OAAb,GAAuBC,qBAAcD,OAArC;AACF,QAAIL,wBAAwB,KAAK,MAAjC,EACER,YAAY,CAACe,KAAb,GAAqBD,qBAAcC,KAAnC;AACF,QAAIL,oBAAoB,KAAK,MAA7B,EACEV,YAAY,CAACgB,QAAb,GAAwBF,qBAAcE,QAAtC;AACF,QAAIJ,kBAAkB,KAAK,MAA3B,EACEZ,YAAY,CAACiB,MAAb,GAAsBH,qBAAcG,MAApC;AAEF,QAAMC,OAAO,GAAG/G,OAAO,CAAC+G,OAAxB,CApCyC,CAoCR;;AACjC,QAAMC,KAAK,GAAGhH,OAAO,CAACiH,WAAR,EAAd;AAEA,QAAIC,MAAM,GAAG,GAAb,CAvCyC,CAyCzC;;AACA,QAAMC,yBAAyB,GAAGnH,OAAO,CAACoH,OAAR,CAAgBC,gCAAhB,CAChC5B,OAAO,CAAC1B,QADwB,CAAlC;AA1CyC,QA6CjCuD,WA7CiC,GA6CjBtH,OAAO,CAACuH,OA7CS,CA6CjCD,WA7CiC;AA+CzCN,SAAK,CAACQ,QAAN,CAAexH,OAAO,CAACyH,OAAR,CAAgBC,gBAAhB,CAAiCP,yBAAjC,CAAf;AACAH,SAAK,CAACQ,QAAN,CACExH,OAAO,CAACyH,OAAR,CAAgBE,UAAhB,CAA2BL,WAAW,CAACM,SAAvC,EAAkDN,WAAW,CAACO,OAA9D,CADF;AAIA,QAAMzC,OAAO,GAAG,0BAAYK,OAAO,CAAC1B,QAApB,EAA8B0B,OAAO,CAACM,KAAtC,CAAhB;AAEA,QAAM+B,MAAM,GAAG,gCAAc1C,OAAd,CAAf;AACA4B,SAAK,CAACQ,QAAN,CAAexH,OAAO,CAACyH,OAAR,CAAgBM,iBAAhB,CAAkC3C,OAAlC,EAA2C0C,MAA3C,CAAf;AAEA,QAAME,OAAO,GAAG,EAAhB;AAEA,QAAMC,GAAG,GAAGjI,OAAO,CAACiI,GAAR,CAAY;AAAEjB,WAAK,EAALA,KAAF;AAASgB,aAAO,EAAPA,OAAT;AAAkBpC,SAAG,EAAHA,GAAlB;AAAuBmB,aAAO,EAAPA;AAAvB,KAAZ,CAAZ;AAEA;;AACAjG,WAAO,CAACQ,GAAR,uBACiBmE,OAAO,CAAC3B,IADzB,wBAC2C2B,OAAO,CAAC1B,QADnD,6BAC8EoD,yBAD9E;AAGA;;AAjEyC,6BAuErCnH,OAAO,CAACkI,SAvE6B;AAAA,QAoEvCC,YApEuC,sBAoEvCA,YApEuC;AAAA,QAqEvCC,oBArEuC,sBAqEvCA,oBArEuC;AAAA,QAsEvCC,kBAtEuC,sBAsEvCA,kBAtEuC,EAyEzC;;AACA,QAAIxC,YAAY,CAACa,OAAjB,EAA0B;AACxB;AACA,kCAAeuB,GAAf;AAEA,UAAMK,aAAa,8CAAnB;AACA,UAAMC,cAAc,GAAG,yBAAWvI,OAAO,CAACwI,KAAnB,EAA0BR,OAA1B,CAAvB;AACA,UAAMS,oBAAoB,GAAGF,cAAc,CACxCG,GAD0B,CACtB,UAAAC,MAAM;AAAA,uCAAoBA,MAAM,CAACC,UAA3B;AAAA,OADgB,EAE1B/D,IAF0B,CAErB,EAFqB,CAA7B;AAGA,UAAMgE,mBAAmB,GAAGV,YAAY,CACrCW,OADyB,CACjB,WADiB,EACJ,EADI,EAEzBA,OAFyB,CAEjB,2BAFiB,EAEY,EAFZ,EAGzBA,OAHyB,CAGjB,kBAHiB,EAGG,EAHH,EAIzBA,OAJyB,CAIjB,SAJiB,EAIN,EAJM,EAKzBA,OALyB,CAKjB,qBALiB,EAKML,oBALN,EAMzBK,OANyB,CAMjB,gBANiB,EAMCR,aAND,CAA5B;AAOA5F,cAAQ,CAACuC,SAAT,CAAmB,mBAAnB,EAAwC,cAAxC;AACAvC,cAAQ,CAACwE,MAAT,CAAgBA,MAAhB,EAAwB6B,IAAxB,CAA6BF,mBAA7B;AACD,KA5FwC,CA8FzC;;;AACA,QAAI,CAAChD,YAAY,CAACa,OAAlB,EAA2B;AACzBM,WAAK,CACFgC,OADH,CACWhJ,OAAO,CAACiJ,QADnB,EAEGC,SAFH,GAGGvI,IAHH,CAGQ,YAAM;AACV,YAAMwI,KAAK,GAAG,IAAIC,kCAAJ,EAAd;AAEA,YAAMC,IAAI,GAAG,4BAAeF,KAAK,CAACG,aAAN,CAAoBrB,GAApB,CAAf,CAAb;;AAEA,YAAMsB,MAAM,GAAGC,qBAAOC,YAAP,EAAf;;AACAD,6BAAOE,MAAP;;AACA,YAAIC,KAAK,GAAGJ,MAAM,CAACI,KAAP,CAAaC,QAAb,EAAZ;AACA,YAAMC,QAAQ,GAAGN,MAAM,CAACO,IAAP,CAAYF,QAAZ,EAAjB;;AAEA,YAAI7C,OAAO,CAACG,MAAR,KAAmB,GAAvB,EAA4B;AAC1BA,gBAAM,GAAG,GAAT;AACAyC,eAAK,GAAG,mCAAR;AACD;;AAED,YAAI5C,OAAO,CAACnB,GAAZ,EAAiB;AACf,iBAAOlD,QAAQ,CAACqH,QAAT,CAAkB,GAAlB,EAAuBhD,OAAO,CAACnB,GAA/B,CAAP;AACD;;AAED,YAAMoE,UAAU,GAAGhD,KAAK,CAACiD,QAAN,EAAnB;AAEA,YAAMC,SAAS,GAAGf,KAAK,CAACgB,YAAN,EAAlB;AAEA,YAAMC,OAAO,GAAG,yBAAWpK,OAAO,CAACwI,KAAnB,EAA0BR,OAA1B,CAAhB;AAEA,YAAMqC,aAAa,GAAGD,OAAO,CAC1B1B,GADmB,CACf,UAAAC,MAAM;AAAA,yCAAoBA,MAAM,CAACC,UAA3B;AAAA,SADS,EAEnB/D,IAFmB,CAEd,EAFc,CAAtB;AAIA,YAAIyF,mBAAmB,GAAG,EAA1B;;AACA,YAAIvD,OAAO,CAACG,MAAR,KAAmB,GAAvB,EAA4B;AAC1B,cAAIrB,YAAY,CAACe,KAAjB,EAAwB;AACtB0D,+BAAmB,GAAG,kCAAUN,UAAV,CAAtB;AACA/F,8BAAkB,CAChB+F,UADgB,EAEhBtH,QAFgB,EAGhB1C,OAAO,CAACmE,SAHQ,EAIhBnE,OAAO,CAACoE,WAJQ,CAAlB;AAMA1B,oBAAQ,CAACwE,MAAT,CAAgBA,MAAhB,EAAwBvE,IAAxB,CAA6B2H,mBAA7B;AACA,mBAAO,IAAP;AACD;;AACD,cAAI,CAACC,iBAAL,EAAwB;AACtBD,+BAAmB,GAAG,kCAAUN,UAAV,CAAtB;AACAM,+BAAmB,yCAAkCA,mBAAlC,cAAnB;AACD;AAAC;;AACH;;AACD,YAAIvD,OAAO,CAACG,MAAR,KAAmB,GAAvB,EAA4B;AAC1BrB,sBAAY,CAACiB,MAAb,GAAsBH,qBAAcG,MAApC;AACD,SAjDS,CAmDV;;;AACA,YAAI0D,YAAY,GAAG,EAAnB,CApDU,CAsDV;;AACA,YAAI3E,YAAY,CAACgB,QAAb,IAAyBhB,YAAY,CAACiB,MAA1C,EAAkD;AAChD7C,4BAAkB,CAChB+F,UADgB,EAEhBtH,QAFgB,EAGhB1C,OAAO,CAACmE,SAHQ,EAIhBnE,OAAO,CAACoE,WAJQ,CAAlB;AAMAoG,sBAAY,GAAG,8BAAgBN,SAAhB,IAA6Bb,IAA5C;AACD,SA/DS,CAiEV;;;AACA,YAAIxD,YAAY,CAACgB,QAAb,IAAyB,CAAChB,YAAY,CAACiB,MAA3C,EAAmD;AACjD0D,sBAAY,GAAGpC,oBAAoB,CAChCU,OADY,CACJ,WADI,EACSa,KADT,EAEZb,OAFY,CAEJ,2BAFI,EAEyBe,QAFzB,EAGZf,OAHY,CAGJ,kBAHI,EAGgB,8BAAgBoB,SAAhB,CAHhB,EAIZpB,OAJY,CAIJ,SAJI,EAIOO,IAJP,EAKZP,OALY,CAKJ,qBALI,EAKmBuB,aALnB,EAMZvB,OANY,CAMJ,gBANI,EAMcwB,mBANd,CAAf;AAOD,SA1ES,CA4EV;;;AACA,YAAI,CAACzE,YAAY,CAACgB,QAAd,IAA0BhB,YAAY,CAACiB,MAA3C,EAAmD;AACjD0D,sBAAY,GAAGnC,kBAAkB,CAC9BS,OADY,CACJ,WADI,EACSa,KADT,EAEZb,OAFY,CAEJ,2BAFI,EAEyBe,QAFzB,EAGZf,OAHY,CAGJ,kBAHI,EAGgB,8BAAgBoB,SAAhB,CAHhB,EAIZpB,OAJY,CAIJ,SAJI,EAIOO,IAJP,EAKZP,OALY,CAKJ,qBALI,EAKmB,EALnB,CAAf;AAMD,SApFS,CAsFV;;;AACA,YAAI,CAACjD,YAAY,CAACgB,QAAd,IAA0B,CAAChB,YAAY,CAACiB,MAA5C,EAAoD;AAClD0D,sBAAY,GAAGrC,YAAY,CACxBW,OADY,CACJ,WADI,EACSa,KADT,EAEZb,OAFY,CAEJ,2BAFI,EAEyBe,QAFzB,EAGZf,OAHY,CAGJ,kBAHI,EAGgBoB,SAHhB,EAIZpB,OAJY,CAIJ,SAJI,EAIOO,IAJP,EAKZP,OALY,CAKJ,qBALI,EAKmBuB,aALnB,EAMZvB,OANY,CAMJ,gBANI,EAMcwB,mBANd,CAAf;AAOD;;AACDrG,0BAAkB,CAChB+F,UADgB,EAEhBtH,QAFgB,EAGhB1C,OAAO,CAACmE,SAHQ,EAIhBnE,OAAO,CAACoE,WAJQ,CAAlB;AAMA1B,gBAAQ,CAACwE,MAAT,CAAgBA,MAAhB,EAAwB6B,IAAxB,CAA6ByB,YAA7B;AACD,OA1GH,EA2GGxH,KA3GH,CA2GS,UAAAyH,GAAG,EAAI;AACZ;AACA;;AACA;AACA3J,eAAO,CAACQ,GAAR,CAAYmJ,GAAZ;AACA;;AACA/H,gBAAQ,CACLwE,MADH,CACU,GADV,EAEG6B,IAFH,iCAG6B0B,GAAG,CAACC,KAHjC,oBAGgDnJ,IAAI,CAACC,SAAL,CAAeiJ,GAAf,CAHhD;AAKD,OAtHH;AAuHA,kCAAexC,GAAf;AAEAjB,WAAK,CAAC9F,KAAN;AACD;AACF,GA3ND;AA4ND,CA7ND;;eA+NeqE,M;;;;;;;ACxRf;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,yC;;;;;;ACjDA,wBAAwB,mBAAO,CAAC,EAAqB;;AAErD,sBAAsB,mBAAO,CAAC,EAAmB;;AAEjD,wBAAwB,mBAAO,CAAC,EAAqB;;AAErD;AACA;AACA;;AAEA,oC;;;;;;ACVA;AACA;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA;;AAEA,oC;;;;;;ACVA;AACA;AACA;;AAEA,kC;;;;;;ACJA;AACA;AACA;;AAEA,oC;;;;;;;ACJa;;AAEb,iBAAiB,mBAAO,CAAC,EAAe;;;;;;;;ACF3B;;AAEb,IAAI,IAAqC;AACzC,mBAAmB,mBAAO,CAAC,EAA+C;AAC1E,CAAC,MAAM,EAEN;;;;;;;;ACND;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa,MAAM,mBAAO,CAAC,EAAe,IAAI,mBAAO,CAAC,EAAO,KAAK,mBAAO,CAAC,EAAQ,EAAE,6BAA6B,OAAO,SAAS,mDAAmD,oGAAoG,KAAK,wBAAwB,mCAAmC,cAAc,GAAG,6BAA6B,gBAAgB;AACtZ,cAAc,8FAA8F,IAAI,qDAAqD,mCAAmC;AACxM;AACA,cAAc,uBAAuB,4DAA4D,gCAAgC,UAAU,+BAA+B,wBAAwB,uBAAuB,yBAAyB,2BAA2B,wBAAwB,0CAA0C,iCAAiC,gCAAgC,uBAAuB,4BAA4B;AACnc,cAAc,yBAAyB,sDAAsD,YAAY,2DAA2D,uEAAuE,aAAa,EAAE,UAAU,gBAAgB,2BAA2B,KAAK;AACpT,mBAAmB,oBAAoB,oDAAoD,qBAAqB,KAAK,yBAAyB,IAAI,UAAU,SAAS,kCAAkC,KAAK,aAAa;AACzN,6YAA6Y;AAC7Y,eAAe,0BAA0B,0BAA0B,8BAA8B,SAAS,SAAS,qBAAqB,iCAAiC,iBAAiB,uCAAuC,6BAA6B,qCAAqC,6BAA6B,+BAA+B;AAC/V,qBAAqB,0DAA0D,cAAc,2BAA2B,gBAAgB,oBAAoB,uBAAuB,4BAA4B,SAAS,sBAAsB,yCAAyC,qBAAqB,0BAA0B,uBAAuB,oBAAoB,YAAY;AAC7X,sKAAsK,0BAA0B,EAAE,4HAA4H,WAAW,6BAA6B,EAAE,yEAAyE,wCAAwC;AACzd,4FAA4F,0BAA0B,EAAE,+NAA+N,wCAAwC,EAAE,8DAA8D,0BAA0B;AACzd,2CAA2C,0BAA0B,EAAE,kDAAkD,0BAA0B,EAAE,wCAAwC,wCAAwC,EAAE,sBAAsB,cAAc;AAC3Q,ylCAAylC;AACzlC,GAAG,0BAA0B,EAAE,qHAAqH,qBAAqB,oDAAoD,EAAE,wDAAwD,qBAAqB,4DAA4D,EAAE,+CAA+C,wCAAwC,EAAE;AACnc,cAAc,wDAAwD,OAAO,iBAAiB,MAAM,eAAe,cAAc,WAAW,KAAK,wBAAwB,iBAAiB,EAAE,MAAM,gBAAgB,EAAE,MAAM,iBAAiB,EAAE,MAAM,eAAe,EAAE,MAAM,eAAe,EAAE,MAAM,iBAAiB,6BAA6B,MAAM,KAAK,6BAA6B,SAAS,8CAA8C,aAAa,yBAAyB;AACpd,cAAc,cAAc,OAAO,yCAAyC,aAAa,gGAAgG,SAAS,qBAAqB,KAAK,EAAE,2BAA2B,SAAS,IAAI,SAAS,SAAS,iBAAiB;AACzS,mBAAmB,MAAM,MAAM,MAAM,cAAc,aAAa,sCAAsC,YAAY,kBAAkB,4BAA4B,gBAAgB,kBAAkB,YAAY,0BAA0B,uDAAuD,kBAAkB,WAAW,yBAAyB,+BAA+B;AACpX,mBAAmB,qBAAqB,oBAAoB,mBAAmB,wDAAwD,KAAK,QAAQ,cAAc,UAAU,UAAU;AACtL,YAAY,wBAAwB,QAAQ,OAAO,YAAY,wBAAwB,IAAI,QAAQ,OAAO,YAAY,uBAAuB,MAAM,MAAM,oBAAoB,aAAa,sBAAsB,uBAAuB,GAAG,WAAW,iBAAiB,KAAK,YAAY,uBAAuB,KAAK,kBAAkB,8CAA8C,KAAK,SAAS,MAAM,kBAAkB,MAAM,sBAAsB,SAAS,kCAAkC,MAAM,MAAM;AAC5e,oBAAoB,UAAU,sBAAsB,sBAAsB,gBAAgB,6BAA6B,yBAAyB,SAAS,sDAAsD,KAAK,kHAAkH,eAAe,UAAU,8CAA8C,uDAAuD;AACpc,QAAQ,yHAAyH,OAAO,YAAY,QAAQ;AAC5J,2QAA2Q,8BAA8B,mCAAmC,uBAAuB,6CAA6C,UAAU,EAAE;AAC5Z,iFAAiF,8BAA8B,uCAAuC,OAAO,eAAe,iCAAiC,SAAS,iCAAiC,gBAAgB,EAAE,SAAS,2CAA2C,8GAA8G,iBAAiB;AAC5b,mBAAmB,gBAAgB,6BAA6B,qBAAqB,SAAS,+BAA+B,wBAAwB,mCAAmC,KAAK,MAAM,+BAA+B,wBAAwB,WAAW,UAAU,8CAA8C,wEAAwE,4DAA4D,sBAAsB,cAAc,YAAY;AACjf,kDAAkD,IAAI,QAAQ,OAAO,gBAAgB,YAAY,YAAY,UAAU,6BAA6B,0VAA0V,IAAI;AAClf,EAAE,OAAO,KAAK,gCAAgC,KAAK,iBAAiB,SAAS,YAAY,WAAW,KAAK,WAAW,gDAAgD,wBAAwB,eAAe,WAAW,YAAY,aAAa,QAAQ,SAAS,uFAAuF,sBAAsB,wDAAwD,UAAU,OAAO,KAAK,oBAAoB,EAAE,iBAAiB;AACle,OAAO,OAAO;AACd,kBAAkB,gBAAgB,iFAAiF,gGAAgG,GAAG,6EAA6E,WAAW,UAAU,QAAQ,WAAW,UAAU,yBAAyB,yBAAyB,SAAS,IAAI,SAAS,QAAQ,MAAM,aAAa,SAAS,eAAe,gBAAgB,eAAe;AAC/e,GAAG,6BAA6B,4BAA4B,wBAAwB,qBAAqB,qBAAqB,qBAAqB,0BAA0B,+BAA+B,oBAAoB,kBAAkB,sBAAsB,oBAAoB,UAAU,SAAS,qCAAqC,4DAA4D,OAAO,WAAW,uBAAuB,4BAA4B,oBAAoB;AACze,WAAW,2EAA2E,0BAA0B,+BAA+B,oBAAoB,oBAAoB,sCAAsC,4BAA4B,KAAK,mEAAmE,6BAA6B,8BAA8B,QAAQ,gBAAgB,iBAAiB,cAAc,IAAI,oBAAoB,cAAc,EAAE,0BAA0B;AACrf,GAAG,oBAAoB,UAAU,OAAO,MAAM,sCAAsC,uCAAuC,eAAe,sCAAsC,iBAAiB,kDAAkD,2FAA2F,oBAAoB,qBAAqB,cAAc,MAAM,KAAK,sBAAsB,kBAAkB,mBAAmB,SAAS,8BAA8B;AAClf,EAAE,KAAK,sCAAsC,IAAI,2CAA2C,SAAS,SAAS,SAAS,yCAAyC,0BAA0B,YAAY,QAAQ,mBAAmB,mCAAmC,6CAA6C,OAAO,mBAAmB,qCAAqC,wDAAwD,4BAA4B,YAAY,wBAAwB,UAAU;AAClf,6BAA6B,yBAAyB,8BAA8B,iBAAiB,uBAAuB,sBAAsB,OAAO,iBAAiB,qEAAqE,EAAE,SAAS,SAAS,oDAAoD,UAAU,6EAA6E,qEAAqE,KAAK,gBAAgB;AACxe,sCAAsC,aAAa,8BAA8B,+BAA+B,OAAO,iBAAiB,qEAAqE,EAAE,SAAS,4CAA4C,UAAU,6BAA6B,qEAAqE,KAAK,uCAAuC,kEAAkE;AAC9d,GAAG,iBAAiB,UAAU,oBAAoB,OAAO,sBAAsB,iBAAiB,kEAAkE,EAAE,SAAS,iBAAiB,gCAAgC,sCAAsC,2BAA2B,mBAAmB,6DAA6D,cAAc,oBAAoB,YAAY,IAAI;AACja,mDAAmD,EAAE,wBAAwB,cAAc,YAAY,iBAAiB,iBAAiB,+FAA+F,gBAAgB,MAAM,IAAI,2BAA2B,EAAE,wFAAwF,IAAI,aAAa,EAAE,sBAAsB,0BAA0B,qBAAqB,YAAY;AAC3d,KAAK,KAAK,gCAAgC,WAAW,KAAK,gBAAgB,KAAK,OAAO,gBAAgB,KAAK,gCAAgC,IAAI,sBAAsB,GAAG,sTAAsT,IAAI;AACle,wBAAwB,aAAa,4BAA4B,WAAW,YAAY,gBAAgB,SAAS,cAAc,mCAAmC,iCAAiC,YAAY,QAAQ,gCAAgC,KAAK,2DAA2D,UAAU,WAAW,IAAI,yHAAyH,KAAK,IAAI,GAAG,UAAU,OAAO;AACte,wCAAwC,eAAe,8KAA8K,QAAQ,aAAa,0EAA0E,KAAK,IAAI,IAAI,gCAAgC,2GAA2G;AAC5d,mHAAmH,eAAe,gCAAgC,QAAQ,KAAK,wDAAwD,GAAG,4BAA4B,YAAY,mBAAmB,WAAW,SAAS,+DAA+D,OAAO,QAAQ,OAAO,yEAAyE,SAAS;AAChe,+FAA+F,iBAAiB,iEAAiE,EAAE,4BAA4B,UAAU,SAAS;AAClO,iBAAiB,4HAA4H,0CAA0C,aAAa,mDAAmD,EAAE;AACzP,mBAAmB,gBAAgB,iFAAiF,oBAAoB,EAAE,+FAA+F,wDAAwD,8BAA8B,SAAS,QAAQ,mCAAmC,+BAA+B,MAAM,8BAA8B,IAAI,wCAAwC,SAAS;AAC3e,SAAS,kBAAkB,2BAA2B,eAAe,IAAI,wBAAwB,QAAQ,aAAa,kCAAkC,eAAe,IAAI,wBAAwB,QAAQ,aAAa,gCAAgC,oBAAoB,sCAAsC,oBAAoB,kBAAkB,KAAK,WAAW,eAAe;;;;;;;;ACpDvX;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACzFA,iD;;;;;;ACAA,mC;;;;;;ACAA,iBAAiB,mBAAO,CAAC,EAAe;;;;;;;;ACA3B;;AAEb,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,SAAS,mBAAO,CAAC,EAAI;AACrB,WAAW,mBAAO,CAAC,EAAM;AACzB,UAAU,mBAAO,CAAC,EAAK;;AAEvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4EAA4E,mBAAmB;AAC/F;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAiD,yDAAyD;AAC1G,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;AACA,uBAAuB;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA,KAAK;AACL;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,gC;;;;;;ACxEA,+B;;;;;;ACAA,iC;;;;;;ACAA,gC;;;;;;ACAA,iD;;;;;;ACAA,iD;;;;;;ACAA,iD;;;;;;ACAA,iD;;;;;;;;;;;;;ACAO,IAAMoB,aAAa,GAAG;AAC3BD,SAAO,EAAE,SADkB;AAE3BI,QAAM,EAAE,QAFmB;AAG3BD,UAAQ,EAAE,UAHiB;AAI3BD,OAAK,EAAE;AAJoB,CAAtB;;;;;;;;;;;;;;ACAP,IAAMxF,OAAO,GAAGK,OAAhB;AAAyB;;AACzB,IAAMQ,KAAK,GAAGb,OAAO,CAACa,KAAtB;AACA,IAAM0I,SAAS,GAAGC,UAAlB;AAA8B;;AAC9B,IAAMvJ,QAAQ,GAAGwJ,QAAjB;AAA2B;AAE3B;;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAAC/G,QAAD,EAAWgC,KAAX,EAAqB;AACvC;AACA,MAAIhC,QAAQ,IAAI,WAAhB,EAA6B;AAC3B,WAAQgC,KAAK,IAAIA,KAAK,CAACgF,CAAhB,IAAsB1J,QAAQ,CAAC,CAAD,CAAR,CAAY2J,EAAzC;AACD,GAJsC,CAMvC;;;AACA,MAAIjH,QAAQ,IAAI4G,SAAhB,EAA2B;AACzB,WAAOtJ,QAAQ,CAAC,CAAD,CAAR,CAAY2J,EAAnB;AACD;;AAED,MAAI5F,OAAO,GAAG,SAAd,CAXuC,CAavC;;AACA/D,UAAQ,CAAC4J,OAAT,CAAiB,UAAAF,CAAC,EAAI;AACpB;AACA,QAAIhH,QAAQ,CAACqC,QAAT,CAAkB2E,CAAC,CAACJ,SAApB,CAAJ,EAAoCvF,OAAO,GAAG2F,CAAC,CAACC,EAAZ,CAFhB,CAIpB;;AACA,QAAID,CAAC,CAACC,EAAF,IAAQ,SAAZ,EAAuB;AACrB;AACA;AACA;AACA,UACEjH,QAAQ,CAACqC,QAAT,gBAA0BnE,KAA1B,8BACA8B,QAAQ,CAACqC,QAAT,gBAA0BnE,KAA1B,sBADA,IAEA8B,QAAQ,CAACqC,QAAT,mBAA6BnE,KAA7B,0BAFA,IAGA8B,QAAQ,CAACqC,QAAT,mBAA6BnE,KAA7B,sBAJF,EAMEmD,OAAO,GAAG2F,CAAC,CAACC,EAAZ;AACH,KAXD,MAWO;AACL;AACA,UACEjH,QAAQ,CAACqC,QAAT,WAAqB2E,CAAC,CAACC,EAAvB,cAA6B/I,KAA7B,8BACA8B,QAAQ,CAACqC,QAAT,WAAqB2E,CAAC,CAACC,EAAvB,cAA6B/I,KAA7B,sBAFF,EAIEmD,OAAO,GAAG2F,CAAC,CAACC,EAAZ;AACH;AACF,GAxBD;AAyBA,SAAO5F,OAAP;AACD,CAxCD;;AA0CO,IAAM8F,aAAa,GAAG,SAAhBA,aAAgB,CAAA9F,OAAO,EAAI;AACtC,SAAO+F,cAAc,CAAC/F,OAAD;AAAU;AAA/B;AACD,CAFM;;;eAIQ0F,W","file":"zengenti-appserver-package.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"isomorphic-fetch\"), require(\"express\"), require(\"react-loadable\"), require(\"evil-dns\"), require(\"http-proxy\"), require(\"react\"), require(\"styled-components\"), require(\"react-helmet\"), require(\"serialize-javascript\"), require(\"minify-css-string\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"isomorphic-fetch\", \"express\", \"react-loadable\", \"evil-dns\", \"http-proxy\", \"react\", \"styled-components\", \"react-helmet\", \"serialize-javascript\", \"minify-css-string\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"isomorphic-fetch\"), require(\"express\"), require(\"react-loadable\"), require(\"evil-dns\"), require(\"http-proxy\"), require(\"react\"), require(\"styled-components\"), require(\"react-helmet\"), require(\"serialize-javascript\"), require(\"minify-css-string\")) : factory(root[\"isomorphic-fetch\"], root[\"express\"], root[\"react-loadable\"], root[\"evil-dns\"], root[\"http-proxy\"], root[\"react\"], root[\"styled-components\"], root[\"react-helmet\"], root[\"serialize-javascript\"], root[\"minify-css-string\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(global, function(__WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__8__, __WEBPACK_EXTERNAL_MODULE__11__, __WEBPACK_EXTERNAL_MODULE__22__, __WEBPACK_EXTERNAL_MODULE__29__, __WEBPACK_EXTERNAL_MODULE__30__, __WEBPACK_EXTERNAL_MODULE__31__, __WEBPACK_EXTERNAL_MODULE__32__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","const LIB = require('../server/internalServer').default;\r\n\r\nexports.app = LIB.app;\r\nexports.start = LIB.start;\r\n","import 'isomorphic-fetch';\r\nimport express from 'express';\r\nimport Loadable from 'react-loadable';\r\n\r\nimport DisplayStartupConfiguration from './util/displayStartupConfiguration';\r\nimport ConfigureLocalDNS from './core/localDns';\r\nimport ConfigureReverseProxies from './core/reverseProxies';\r\n// import ConfigureFeatures from './features/configure';\r\nimport ConfigureWebApp from './core/webApp';\r\n\r\nconst app = express();\r\n\r\nconst start = options => {\r\n  app.disable('x-powered-by');\r\n\r\n  // Output some information about the used build/startup configuration\r\n  DisplayStartupConfiguration(options);\r\n\r\n  // Configure DNS to make life easier\r\n  ConfigureLocalDNS();\r\n\r\n  // Set-up local proxy for images from cms, to save doing rewrites and extra code\r\n  ConfigureReverseProxies(app, options.reverseProxyPaths);\r\n  options.ConfigureFeatures(app);\r\n  ConfigureWebApp(app, options);\r\n\r\n  app.use('/static', express.static('dist/static', { maxage: '31557600h' }));\r\n\r\n  app.on('ready', () => {\r\n    Loadable.preloadAll().then(() => {\r\n      var server = app.listen(3001, () => {\r\n        console.info(`HTTP server is listening @ port 3001`);\r\n        setTimeout(function() {\r\n          app.emit('app_started');\r\n        }, 500);\r\n      });\r\n      app.on('stop', () => {\r\n        server.close(function() {\r\n          console.info('GoodBye :(');\r\n        });\r\n      });\r\n    });\r\n  });\r\n};\r\n\r\nexport default { app, start };\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","const DisplayStartupConfiguration = ({\r\n  servers,\r\n  projects,\r\n  reverseProxyPaths,\r\n}) => {\r\n  /* eslint-disable no-console */\r\n  console.log();\r\n  console.log(\r\n    `Configured servers:\r\n`,\r\n    JSON.stringify(servers, null, 2)\r\n  );\r\n  console.log();\r\n  console.log(\r\n    `Configured projects:\r\n`,\r\n    JSON.stringify(projects, null, 2)\r\n  );\r\n  console.log();\r\n  console.log(\r\n    'Reverse proxy paths: ',\r\n    JSON.stringify(reverseProxyPaths, null, 2)\r\n  );\r\n  console.log();\r\n\r\n  /* eslint-enable no-console */\r\n};\r\n\r\nexport default DisplayStartupConfiguration;\r\n","import evilDns from 'evil-dns';\r\nimport fetchMyIp from '../util/fetchMyIp';\r\n\r\nconst servers = SERVERS; /* global SERVERS */\r\nconst apiConfig = DELIVERY_API_CONFIG; /* global DELIVERY_API_CONFIG */\r\n\r\nconst localDns = () => {\r\n  const disableDnsChanges = false;\r\n\r\n  const configureLocalEndpoint = () => {\r\n    if (!disableDnsChanges) {\r\n      evilDns.add(`*${servers.alias}.cloud.contensis.com`, servers.internalVip);\r\n\r\n      if (apiConfig.internalIp)\r\n        evilDns.add(apiConfig.rootUrl, apiConfig.internalIp);\r\n    }\r\n  };\r\n\r\n  // Break api.ipify to test\r\n  // evilDns.add('api.ipify.org', '8.8.8.8');\r\n  fetchMyIp(servers, configureLocalEndpoint);\r\n};\r\n\r\nexport default localDns;\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","const fetchMyIp = (env, configureLocalEndpoint) => {\r\n  /* eslint-disable no-console */\r\n  fetch('https://api.ipify.org?format=json', {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  })\r\n    .then(\r\n      response => {\r\n        return response.json();\r\n      },\r\n      error => {\r\n        console.log(\r\n          `Could not work out where I am so defaulting to local DNS, as I am probably running as a container this is what matters most. Not developers at home or tests :( Sorry. error: ${error}`\r\n        );\r\n        configureLocalEndpoint();\r\n      }\r\n    )\r\n    .then(ipJson => {\r\n      console.log(`Current public ip -> ${JSON.stringify(ipJson)}`);\r\n      if (ipJson.ip.startsWith('185.18.13')) {\r\n        console.log(\r\n          `Using local endpoint for ${env.alias} -> ${env.internalVip}`\r\n        );\r\n        configureLocalEndpoint();\r\n      } else {\r\n        console.log(`Outside Zengenti network, use real DNS.`);\r\n      }\r\n    })\r\n    .catch(error => {\r\n      configureLocalEndpoint();\r\n      console.log(\r\n        `Could not work out where I am so defaulting to local DNS, as I am probably running as a container this is what matters most. Not developers at home or tests :( Sorry. error: ${error}`\r\n      );\r\n    });\r\n  /* eslint-enable no-console */\r\n};\r\n\r\nexport default fetchMyIp;\r\n","import httpProxy from 'http-proxy';\r\n\r\nconst servers = SERVERS; /* global SERVERS */\r\nvar apiProxy = httpProxy.createProxyServer();\r\n\r\nconst reverseProxies = (app, reverseProxyPaths) => {\r\n  deliveryApiProxy(apiProxy, app);\r\n\r\n  app.all(reverseProxyPaths, (req, res) => {\r\n    const target = servers.iis;\r\n\r\n    apiProxy.web(req, res, { target, changeOrigin: true });\r\n    apiProxy.on('error', e => {\r\n      /* eslint-disable no-console */\r\n      console.log(\r\n        `Proxy Request for ${req.path} HostName:${req.hostname} failed with ${e}`\r\n      );\r\n      /* eslint-enable no-console */\r\n    });\r\n  });\r\n};\r\n\r\nconst deliveryApiProxy = (apiProxy, app) => {\r\n  // This is just here to stop cors requests on localhost. In Production this is mapped using varnish.\r\n  app.all(['/api/delivery/*'], (req, res) => {\r\n    /* eslint-disable no-console */\r\n    const target = servers.cms;\r\n    console.log(`Proxying api request to ${servers.alias}`);\r\n    apiProxy.web(req, res, {\r\n      target,\r\n      changeOrigin: true,\r\n    });\r\n    apiProxy.on('error', e => {\r\n      /* eslint-disable no-console */\r\n      console.log(\r\n        `Proxy request for ${req.path} HostName:${req.hostname} failed with ${e}`\r\n      );\r\n      /* eslint-enable no-console */\r\n    });\r\n  });\r\n};\r\n\r\nexport default reverseProxies;\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","import { renderToString } from 'react-dom/server';\r\nimport { getBundles } from 'react-loadable/webpack';\r\nimport { ServerStyleSheet } from 'styled-components';\r\nimport Helmet from 'react-helmet';\r\nimport serialize from 'serialize-javascript';\r\nimport minifyCssString from 'minify-css-string';\r\n// import { history } from '~/core/redux/history';\r\n\r\nimport { AccessMethods } from '../util/types';\r\nimport pickProject, { allowedGroups } from '~/core/util/pickProject';\r\n\r\nconst addStandardHeaders = (state, response, selectors, packagejson) => {\r\n  if (state) {\r\n    /* eslint-disable no-console */\r\n    try {\r\n      console.log('About to add header');\r\n      let navDepends = selectors.selectNavigationDepends(state);\r\n      let recordDepends = selectors.selectRouteEntryDepends(state);\r\n      navDepends = navDepends.toJS();\r\n      recordDepends = recordDepends.toJS();\r\n      console.log(`navDepends count: ${navDepends.length}`);\r\n      console.log(`recordDepends count: ${recordDepends.length}`);\r\n      const allDepends = [...navDepends, ...recordDepends];\r\n      let allDependsHeaderValue = allDepends.join(' ');\r\n      allDependsHeaderValue = ` ${packagejson.name}-app ${allDependsHeaderValue} ${packagejson.name}-app`;\r\n      response.header('surrogate-key', allDependsHeaderValue);\r\n\r\n      addVarnishAuthenticationHeaders(state, response, selectors);\r\n    } catch (e) {\r\n      console.log('Error Adding headers');\r\n      console.log(e);\r\n    }\r\n  }\r\n  response.setHeader('Surrogate-Control', 'max-age=3600');\r\n};\r\n\r\nconst addVarnishAuthenticationHeaders = (state, response, selectors) => {\r\n  if (state) {\r\n    try {\r\n      const stateEntry = selectors.selectRouteEntry(state);\r\n      const project = selectors.selectCurrentProject(state);\r\n      if (\r\n        stateEntry &&\r\n        stateEntry.getIn(['authentication', 'isLoginRequired'])\r\n      ) {\r\n        response.header(\r\n          'x-contensis-viewer-groups',\r\n          allowedGroups(project).join('|')\r\n        );\r\n      }\r\n    } catch (e) {\r\n      console.log('Error adding authentication header');\r\n      console.log(e);\r\n    }\r\n  }\r\n};\r\n\r\nconst webApp = (app, options) => {\r\n  app.get('/*', (request, response, next) => {\r\n    if (request.originalUrl.startsWith('/static/')) return next();\r\n\r\n    const { url } = request;\r\n\r\n    // Determine functional params and set access methods\r\n    let accessMethod = {};\r\n\r\n    const isDynamicNormalised = request.query.dynamic\r\n      ? request.query.dynamic.toLowerCase()\r\n      : 'false';\r\n\r\n    // Hack for certain pages to avoid SSR\r\n    const onlyDynamic = options.dynamicPaths.includes(request.path);\r\n\r\n    const isReduxRequestNormalised = request.query.redux\r\n      ? request.query.redux.toLowerCase()\r\n      : 'false';\r\n\r\n    const isFragmentNormalised = request.query.fragment\r\n      ? request.query.fragment.toLowerCase()\r\n      : 'false';\r\n\r\n    const isStaticNormalised = request.query.static\r\n      ? request.query.static.toLowerCase()\r\n      : 'false';\r\n\r\n    if (onlyDynamic || isDynamicNormalised === 'true')\r\n      accessMethod.DYNAMIC = AccessMethods.DYNAMIC;\r\n    if (isReduxRequestNormalised === 'true')\r\n      accessMethod.REDUX = AccessMethods.REDUX;\r\n    if (isFragmentNormalised === 'true')\r\n      accessMethod.FRAGMENT = AccessMethods.FRAGMENT;\r\n    if (isStaticNormalised === 'true')\r\n      accessMethod.STATIC = AccessMethods.STATIC;\r\n\r\n    const context = options.context; //{};\r\n    const store = options.createStore();\r\n\r\n    let status = 200;\r\n\r\n    // dispatch any global and non-saga related actions before calling our JSX\r\n    const versionStatusFromHostname = options.helpers.GetDeliveryApiStatusFromHostname(\r\n      request.hostname\r\n    );\r\n    const { versionInfo } = options.version;\r\n\r\n    store.dispatch(options.actions.setVersionStatus(versionStatusFromHostname));\r\n    store.dispatch(\r\n      options.actions.setVersion(versionInfo.commitRef, versionInfo.buildNo)\r\n    );\r\n\r\n    const project = pickProject(request.hostname, request.query);\r\n\r\n    const groups = allowedGroups(project);\r\n    store.dispatch(options.actions.setCurrentProject(project, groups));\r\n\r\n    const modules = [];\r\n\r\n    const jsx = options.jsx({ store, modules, url, context });\r\n\r\n    /* eslint-disable no-console */\r\n    console.log(\r\n      `Request for ${request.path} hostname: ${request.hostname} versionStatus: ${versionStatusFromHostname}`\r\n    );\r\n    /* eslint-enable no-console */\r\n\r\n    const {\r\n      templateHTML,\r\n      templateHTMLFragment,\r\n      templateHTMLStatic,\r\n    } = options.templates;\r\n\r\n    // Serve a blank HTML page with client scripts to load the app in the browser\r\n    if (accessMethod.DYNAMIC) {\r\n      // Dynamic doesn't need sagas\r\n      renderToString(jsx);\r\n\r\n      const isDynamicHint = `<script>window.isDynamic = true;</script>`;\r\n      const dynamicBundles = getBundles(options.stats, modules);\r\n      const dynamicBundleScripts = dynamicBundles\r\n        .map(bundle => `<script src=\"${bundle.publicPath}\"></script>`)\r\n        .join('');\r\n      const responseHtmlDynamic = templateHTML\r\n        .replace('{{TITLE}}', '')\r\n        .replace('{{SEO_CRITICAL_METADATA}}', '')\r\n        .replace('{{CRITICAL_CSS}}', '')\r\n        .replace('{{APP}}', '')\r\n        .replace('{{LOADABLE_CHUNKS}}', dynamicBundleScripts)\r\n        .replace('{{REDUX_DATA}}', isDynamicHint);\r\n      response.setHeader('Surrogate-Control', 'max-age=3600');\r\n      response.status(status).send(responseHtmlDynamic);\r\n    }\r\n\r\n    // Render the JSX server side and send response as per access method options\r\n    if (!accessMethod.DYNAMIC) {\r\n      store\r\n        .runSaga(options.rootSaga)\r\n        .toPromise()\r\n        .then(() => {\r\n          const sheet = new ServerStyleSheet();\r\n\r\n          const html = renderToString(sheet.collectStyles(jsx));\r\n\r\n          const helmet = Helmet.renderStatic();\r\n          Helmet.rewind();\r\n          let title = helmet.title.toString();\r\n          const metadata = helmet.meta.toString();\r\n\r\n          if (context.status === 404) {\r\n            status = 404;\r\n            title = '<title>404 page not found</title>';\r\n          }\r\n\r\n          if (context.url) {\r\n            return response.redirect(302, context.url);\r\n          }\r\n\r\n          const reduxState = store.getState();\r\n\r\n          const styleTags = sheet.getStyleTags();\r\n\r\n          const bundles = getBundles(options.stats, modules);\r\n\r\n          const bundleScripts = bundles\r\n            .map(bundle => `<script src=\"${bundle.publicPath}\"></script>`)\r\n            .join('');\r\n\r\n          let serialisedReduxData = '';\r\n          if (context.status !== 404) {\r\n            if (accessMethod.REDUX) {\r\n              serialisedReduxData = serialize(reduxState);\r\n              addStandardHeaders(\r\n                reduxState,\r\n                response,\r\n                options.selectors,\r\n                options.packagejson\r\n              );\r\n              response.status(status).json(serialisedReduxData);\r\n              return true;\r\n            }\r\n            if (!DISABLE_SSR_REDUX) {\r\n              serialisedReduxData = serialize(reduxState);\r\n              serialisedReduxData = `<script>window.REDUX_DATA = ${serialisedReduxData}</script>`;\r\n            } /* global DISABLE_SSR_REDUX */\r\n          }\r\n          if (context.status === 404) {\r\n            accessMethod.STATIC = AccessMethods.STATIC;\r\n          }\r\n\r\n          // Responses\r\n          let responseHTML = '';\r\n\r\n          // Static page served as a fragment\r\n          if (accessMethod.FRAGMENT && accessMethod.STATIC) {\r\n            addStandardHeaders(\r\n              reduxState,\r\n              response,\r\n              options.selectors,\r\n              options.packagejson\r\n            );\r\n            responseHTML = minifyCssString(styleTags) + html;\r\n          }\r\n\r\n          // Page fragment served with client scripts and redux data that hydrate the app client side\r\n          if (accessMethod.FRAGMENT && !accessMethod.STATIC) {\r\n            responseHTML = templateHTMLFragment\r\n              .replace('{{TITLE}}', title)\r\n              .replace('{{SEO_CRITICAL_METADATA}}', metadata)\r\n              .replace('{{CRITICAL_CSS}}', minifyCssString(styleTags))\r\n              .replace('{{APP}}', html)\r\n              .replace('{{LOADABLE_CHUNKS}}', bundleScripts)\r\n              .replace('{{REDUX_DATA}}', serialisedReduxData);\r\n          }\r\n\r\n          // Full HTML page served statically\r\n          if (!accessMethod.FRAGMENT && accessMethod.STATIC) {\r\n            responseHTML = templateHTMLStatic\r\n              .replace('{{TITLE}}', title)\r\n              .replace('{{SEO_CRITICAL_METADATA}}', metadata)\r\n              .replace('{{CRITICAL_CSS}}', minifyCssString(styleTags))\r\n              .replace('{{APP}}', html)\r\n              .replace('{{LOADABLE_CHUNKS}}', '');\r\n          }\r\n\r\n          // Full HTML page served with client scripts and redux data that hydrate the app client side\r\n          if (!accessMethod.FRAGMENT && !accessMethod.STATIC) {\r\n            responseHTML = templateHTML\r\n              .replace('{{TITLE}}', title)\r\n              .replace('{{SEO_CRITICAL_METADATA}}', metadata)\r\n              .replace('{{CRITICAL_CSS}}', styleTags)\r\n              .replace('{{APP}}', html)\r\n              .replace('{{LOADABLE_CHUNKS}}', bundleScripts)\r\n              .replace('{{REDUX_DATA}}', serialisedReduxData);\r\n          }\r\n          addStandardHeaders(\r\n            reduxState,\r\n            response,\r\n            options.selectors,\r\n            options.packagejson\r\n          );\r\n          response.status(status).send(responseHTML);\r\n        })\r\n        .catch(err => {\r\n          // Handle any error that occurred in any of the previous\r\n          // promises in the chain.\r\n          /* eslint-disable no-console */\r\n          console.log(err);\r\n          /* eslint-enable no-console */\r\n          response\r\n            .status(500)\r\n            .send(\r\n              `Error occurred: <br />${err.stack} <br />${JSON.stringify(err)}`\r\n            );\r\n        });\r\n      renderToString(jsx);\r\n\r\n      store.close();\r\n    }\r\n  });\r\n};\r\n\r\nexport default webApp;\r\n","function _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","'use strict';\n\nmodule.exports = require('./server.node');\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-dom-server.node.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom-server.node.development.js');\n}\n","/** @license React v16.8.6\n * react-dom-server.node.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var p=require(\"object-assign\"),q=require(\"react\"),aa=require(\"stream\");function ba(a,b,d,c,f,e,h,g){if(!a){a=void 0;if(void 0===b)a=Error(\"Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.\");else{var D=[d,c,f,e,h,g],B=0;a=Error(b.replace(/%s/g,function(){return D[B++]}));a.name=\"Invariant Violation\"}a.framesToPop=1;throw a;}}\nfunction r(a){for(var b=arguments.length-1,d=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=0;c<b;c++)d+=\"&args[]=\"+encodeURIComponent(arguments[c+1]);ba(!1,\"Minified React error #\"+a+\"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. \",d)}\nvar v=\"function\"===typeof Symbol&&Symbol.for,ca=v?Symbol.for(\"react.portal\"):60106,x=v?Symbol.for(\"react.fragment\"):60107,da=v?Symbol.for(\"react.strict_mode\"):60108,ea=v?Symbol.for(\"react.profiler\"):60114,z=v?Symbol.for(\"react.provider\"):60109,fa=v?Symbol.for(\"react.context\"):60110,ha=v?Symbol.for(\"react.concurrent_mode\"):60111,ia=v?Symbol.for(\"react.forward_ref\"):60112,A=v?Symbol.for(\"react.suspense\"):60113,ja=v?Symbol.for(\"react.memo\"):60115,ka=v?Symbol.for(\"react.lazy\"):60116;\nfunction C(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case ha:return\"ConcurrentMode\";case x:return\"Fragment\";case ca:return\"Portal\";case ea:return\"Profiler\";case da:return\"StrictMode\";case A:return\"Suspense\"}if(\"object\"===typeof a)switch(a.$$typeof){case fa:return\"Context.Consumer\";case z:return\"Context.Provider\";case ia:var b=a.render;b=b.displayName||b.name||\"\";return a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\n\"ForwardRef\");case ja:return C(a.type);case ka:if(a=1===a._status?a._result:null)return C(a)}return null}var E=q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;E.hasOwnProperty(\"ReactCurrentDispatcher\")||(E.ReactCurrentDispatcher={current:null});var la={};function F(a,b){for(var d=a._threadCount|0;d<=b;d++)a[d]=a._currentValue2,a._threadCount=d+1}\nfunction ma(a,b,d){var c=a.contextType;if(\"object\"===typeof c&&null!==c)return F(c,d),c[d];if(a=a.contextTypes){d={};for(var f in a)d[f]=b[f];b=d}else b=la;return b}for(var G=new Uint16Array(16),H=0;15>H;H++)G[H]=H+1;G[15]=0;\nvar na=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,oa=Object.prototype.hasOwnProperty,pa={},qa={};\nfunction ra(a){if(oa.call(qa,a))return!0;if(oa.call(pa,a))return!1;if(na.test(a))return qa[a]=!0;pa[a]=!0;return!1}function sa(a,b,d,c){if(null!==d&&0===d.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(c)return!1;if(null!==d)return!d.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction ta(a,b,d,c){if(null===b||\"undefined\"===typeof b||sa(a,b,d,c))return!0;if(c)return!1;if(null!==d)switch(d.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function I(a,b,d,c,f){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=c;this.attributeNamespace=f;this.mustUseProperty=d;this.propertyName=a;this.type=b}var J={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){J[a]=new I(a,0,!1,a,null)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];J[b]=new I(b,1,!1,a[1],null)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){J[a]=new I(a,2,!1,a.toLowerCase(),null)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){J[a]=new I(a,2,!1,a,null)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){J[a]=new I(a,3,!1,a.toLowerCase(),null)});[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){J[a]=new I(a,3,!0,a,null)});\n[\"capture\",\"download\"].forEach(function(a){J[a]=new I(a,4,!1,a,null)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){J[a]=new I(a,6,!1,a,null)});[\"rowSpan\",\"start\"].forEach(function(a){J[a]=new I(a,5,!1,a.toLowerCase(),null)});var K=/[\\-:]([a-z])/g;function L(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(K,\nL);J[b]=new I(b,1,!1,a,null)});\"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(K,L);J[b]=new I(b,1,!1,a,\"http://www.w3.org/1999/xlink\")});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(K,L);J[b]=new I(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\")});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){J[a]=new I(a,1,!1,a.toLowerCase(),null)});var ua=/[\"'&<>]/;\nfunction M(a){if(\"boolean\"===typeof a||\"number\"===typeof a)return\"\"+a;a=\"\"+a;var b=ua.exec(a);if(b){var d=\"\",c,f=0;for(c=b.index;c<a.length;c++){switch(a.charCodeAt(c)){case 34:b=\"&quot;\";break;case 38:b=\"&amp;\";break;case 39:b=\"&#x27;\";break;case 60:b=\"&lt;\";break;case 62:b=\"&gt;\";break;default:continue}f!==c&&(d+=a.substring(f,c));f=c+1;d+=b}a=f!==c?d+a.substring(f,c):d}return a}var N=null,O=null,P=null,Q=!1,S=!1,T=null,U=0;function V(){null===N?r(\"321\"):void 0;return N}\nfunction va(){0<U&&r(\"312\");return{memoizedState:null,queue:null,next:null}}function W(){null===P?null===O?(Q=!1,O=P=va()):(Q=!0,P=O):null===P.next?(Q=!1,P=P.next=va()):(Q=!0,P=P.next);return P}function wa(a,b,d,c){for(;S;)S=!1,U+=1,P=null,d=a(b,c);O=N=null;U=0;P=T=null;return d}function xa(a,b){return\"function\"===typeof b?b(a):b}\nfunction ya(a,b,d){N=V();P=W();if(Q){var c=P.queue;b=c.dispatch;if(null!==T&&(d=T.get(c),void 0!==d)){T.delete(c);c=P.memoizedState;do c=a(c,d.action),d=d.next;while(null!==d);P.memoizedState=c;return[c,b]}return[P.memoizedState,b]}a=a===xa?\"function\"===typeof b?b():b:void 0!==d?d(b):b;P.memoizedState=a;a=P.queue={last:null,dispatch:null};a=a.dispatch=za.bind(null,N,a);return[P.memoizedState,a]}\nfunction za(a,b,d){25>U?void 0:r(\"301\");if(a===N)if(S=!0,a={action:d,next:null},null===T&&(T=new Map),d=T.get(b),void 0===d)T.set(b,a);else{for(b=d;null!==b.next;)b=b.next;b.next=a}}function Aa(){}\nvar X=0,Ba={readContext:function(a){var b=X;F(a,b);return a[b]},useContext:function(a){V();var b=X;F(a,b);return a[b]},useMemo:function(a,b){N=V();P=W();b=void 0===b?null:b;if(null!==P){var d=P.memoizedState;if(null!==d&&null!==b){a:{var c=d[1];if(null===c)c=!1;else{for(var f=0;f<c.length&&f<b.length;f++){var e=b[f],h=c[f];if((e!==h||0===e&&1/e!==1/h)&&(e===e||h===h)){c=!1;break a}}c=!0}}if(c)return d[0]}}a=a();P.memoizedState=[a,b];return a},useReducer:ya,useRef:function(a){N=V();P=W();var b=P.memoizedState;\nreturn null===b?(a={current:a},P.memoizedState=a):b},useState:function(a){return ya(xa,a)},useLayoutEffect:function(){},useCallback:function(a){return a},useImperativeHandle:Aa,useEffect:Aa,useDebugValue:Aa},Ca={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};function Da(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}\nvar Ea={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Fa=p({menuitem:!0},Ea),Y={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,\ngridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ga=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(Y).forEach(function(a){Ga.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Y[b]=Y[a]})});\nvar Ha=/([A-Z])/g,Ia=/^ms-/,Z=q.Children.toArray,Ja=E.ReactCurrentDispatcher,Ka={listing:!0,pre:!0,textarea:!0},La=/^[a-zA-Z][a-zA-Z:_\\.\\-\\d]*$/,Ma={},Na={};function Oa(a){if(void 0===a||null===a)return a;var b=\"\";q.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}var Pa=Object.prototype.hasOwnProperty,Qa={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Ra(a,b){void 0===a&&r(\"152\",C(b)||\"Component\")}\nfunction Sa(a,b,d){function c(c,f){var e=ma(f,b,d),g=[],h=!1,l={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===g)return null},enqueueReplaceState:function(a,b){h=!0;g=[b]},enqueueSetState:function(a,b){if(null===g)return null;g.push(b)}},k=void 0;if(f.prototype&&f.prototype.isReactComponent){if(k=new f(c.props,e,l),\"function\"===typeof f.getDerivedStateFromProps){var t=f.getDerivedStateFromProps.call(null,c.props,k.state);null!=t&&(k.state=p({},k.state,t))}}else if(N={},k=f(c.props,\ne,l),k=wa(f,c.props,k,e),null==k||null==k.render){a=k;Ra(a,f);return}k.props=c.props;k.context=e;k.updater=l;l=k.state;void 0===l&&(k.state=l=null);if(\"function\"===typeof k.UNSAFE_componentWillMount||\"function\"===typeof k.componentWillMount)if(\"function\"===typeof k.componentWillMount&&\"function\"!==typeof f.getDerivedStateFromProps&&k.componentWillMount(),\"function\"===typeof k.UNSAFE_componentWillMount&&\"function\"!==typeof f.getDerivedStateFromProps&&k.UNSAFE_componentWillMount(),g.length){l=g;var m=\nh;g=null;h=!1;if(m&&1===l.length)k.state=l[0];else{t=m?l[0]:k.state;var u=!0;for(m=m?1:0;m<l.length;m++){var w=l[m];w=\"function\"===typeof w?w.call(k,t,c.props,e):w;null!=w&&(u?(u=!1,t=p({},t,w)):p(t,w))}k.state=t}}else g=null;a=k.render();Ra(a,f);c=void 0;if(\"function\"===typeof k.getChildContext&&(e=f.childContextTypes,\"object\"===typeof e)){c=k.getChildContext();for(var R in c)R in e?void 0:r(\"108\",C(f)||\"Unknown\",R)}c&&(b=p({},b,c))}for(;q.isValidElement(a);){var f=a,e=f.type;if(\"function\"!==typeof e)break;\nc(f,e)}return{child:a,context:b}}\nvar Ta=function(){function a(b,d){if(!(this instanceof a))throw new TypeError(\"Cannot call a class as a function\");q.isValidElement(b)?b.type!==x?b=[b]:(b=b.props.children,b=q.isValidElement(b)?[b]:Z(b)):b=Z(b);b={type:null,domNamespace:Ca.html,children:b,childIndex:0,context:la,footer:\"\"};var c=G[0];if(0===c){var f=G;c=f.length;var e=2*c;65536>=e?void 0:r(\"304\");var h=new Uint16Array(e);h.set(f);G=h;G[0]=c+1;for(f=c;f<e-1;f++)G[f]=f+1;G[e-1]=0}else G[0]=G[c];this.threadID=c;this.stack=[b];this.exhausted=\n!1;this.currentSelectValue=null;this.previousWasTextNode=!1;this.makeStaticMarkup=d;this.suspenseDepth=0;this.contextIndex=-1;this.contextStack=[];this.contextValueStack=[]}a.prototype.destroy=function(){if(!this.exhausted){this.exhausted=!0;this.clearProviders();var a=this.threadID;G[a]=G[0];G[0]=a}};a.prototype.pushProvider=function(a){var b=++this.contextIndex,c=a.type._context,f=this.threadID;F(c,f);var e=c[f];this.contextStack[b]=c;this.contextValueStack[b]=e;c[f]=a.props.value};a.prototype.popProvider=\nfunction(){var a=this.contextIndex,d=this.contextStack[a],c=this.contextValueStack[a];this.contextStack[a]=null;this.contextValueStack[a]=null;this.contextIndex--;d[this.threadID]=c};a.prototype.clearProviders=function(){for(var a=this.contextIndex;0<=a;a--)this.contextStack[a][this.threadID]=this.contextValueStack[a]};a.prototype.read=function(a){if(this.exhausted)return null;var b=X;X=this.threadID;var c=Ja.current;Ja.current=Ba;try{for(var f=[\"\"],e=!1;f[0].length<a;){if(0===this.stack.length){this.exhausted=\n!0;var h=this.threadID;G[h]=G[0];G[0]=h;break}var g=this.stack[this.stack.length-1];if(e||g.childIndex>=g.children.length){var D=g.footer;\"\"!==D&&(this.previousWasTextNode=!1);this.stack.pop();if(\"select\"===g.type)this.currentSelectValue=null;else if(null!=g.type&&null!=g.type.type&&g.type.type.$$typeof===z)this.popProvider(g.type);else if(g.type===A){this.suspenseDepth--;var B=f.pop();if(e){e=!1;var n=g.fallbackFrame;n?void 0:r(\"303\");this.stack.push(n);continue}else f[this.suspenseDepth]+=B}f[this.suspenseDepth]+=\nD}else{var l=g.children[g.childIndex++],k=\"\";try{k+=this.render(l,g.context,g.domNamespace)}catch(t){throw t;}finally{}f.length<=this.suspenseDepth&&f.push(\"\");f[this.suspenseDepth]+=k}}return f[0]}finally{Ja.current=c,X=b}};a.prototype.render=function(a,d,c){if(\"string\"===typeof a||\"number\"===typeof a){c=\"\"+a;if(\"\"===c)return\"\";if(this.makeStaticMarkup)return M(c);if(this.previousWasTextNode)return\"\\x3c!-- --\\x3e\"+M(c);this.previousWasTextNode=!0;return M(c)}d=Sa(a,d,this.threadID);a=d.child;d=d.context;\nif(null===a||!1===a)return\"\";if(!q.isValidElement(a)){if(null!=a&&null!=a.$$typeof){var b=a.$$typeof;b===ca?r(\"257\"):void 0;r(\"258\",b.toString())}a=Z(a);this.stack.push({type:null,domNamespace:c,children:a,childIndex:0,context:d,footer:\"\"});return\"\"}b=a.type;if(\"string\"===typeof b)return this.renderDOM(a,d,c);switch(b){case da:case ha:case ea:case x:return a=Z(a.props.children),this.stack.push({type:null,domNamespace:c,children:a,childIndex:0,context:d,footer:\"\"}),\"\";case A:r(\"294\")}if(\"object\"===\ntypeof b&&null!==b)switch(b.$$typeof){case ia:N={};var e=b.render(a.props,a.ref);e=wa(b.render,a.props,e,a.ref);e=Z(e);this.stack.push({type:null,domNamespace:c,children:e,childIndex:0,context:d,footer:\"\"});return\"\";case ja:return a=[q.createElement(b.type,p({ref:a.ref},a.props))],this.stack.push({type:null,domNamespace:c,children:a,childIndex:0,context:d,footer:\"\"}),\"\";case z:return b=Z(a.props.children),c={type:a,domNamespace:c,children:b,childIndex:0,context:d,footer:\"\"},this.pushProvider(a),this.stack.push(c),\n\"\";case fa:b=a.type;e=a.props;var h=this.threadID;F(b,h);b=Z(e.children(b[h]));this.stack.push({type:a,domNamespace:c,children:b,childIndex:0,context:d,footer:\"\"});return\"\";case ka:r(\"295\")}r(\"130\",null==b?b:typeof b,\"\")};a.prototype.renderDOM=function(a,d,c){var b=a.type.toLowerCase();c===Ca.html&&Da(b);Ma.hasOwnProperty(b)||(La.test(b)?void 0:r(\"65\",b),Ma[b]=!0);var e=a.props;if(\"input\"===b)e=p({type:void 0},e,{defaultChecked:void 0,defaultValue:void 0,value:null!=e.value?e.value:e.defaultValue,\nchecked:null!=e.checked?e.checked:e.defaultChecked});else if(\"textarea\"===b){var h=e.value;if(null==h){h=e.defaultValue;var g=e.children;null!=g&&(null!=h?r(\"92\"):void 0,Array.isArray(g)&&(1>=g.length?void 0:r(\"93\"),g=g[0]),h=\"\"+g);null==h&&(h=\"\")}e=p({},e,{value:void 0,children:\"\"+h})}else if(\"select\"===b)this.currentSelectValue=null!=e.value?e.value:e.defaultValue,e=p({},e,{value:void 0});else if(\"option\"===b){g=this.currentSelectValue;var D=Oa(e.children);if(null!=g){var B=null!=e.value?e.value+\n\"\":D;h=!1;if(Array.isArray(g))for(var n=0;n<g.length;n++){if(\"\"+g[n]===B){h=!0;break}}else h=\"\"+g===B;e=p({selected:void 0,children:void 0},e,{selected:h,children:D})}}if(h=e)Fa[b]&&(null!=h.children||null!=h.dangerouslySetInnerHTML?r(\"137\",b,\"\"):void 0),null!=h.dangerouslySetInnerHTML&&(null!=h.children?r(\"60\"):void 0,\"object\"===typeof h.dangerouslySetInnerHTML&&\"__html\"in h.dangerouslySetInnerHTML?void 0:r(\"61\")),null!=h.style&&\"object\"!==typeof h.style?r(\"62\",\"\"):void 0;h=e;g=this.makeStaticMarkup;\nD=1===this.stack.length;B=\"<\"+a.type;for(y in h)if(Pa.call(h,y)){var l=h[y];if(null!=l){if(\"style\"===y){n=void 0;var k=\"\",t=\"\";for(n in l)if(l.hasOwnProperty(n)){var m=0===n.indexOf(\"--\"),u=l[n];if(null!=u){var w=n;if(Na.hasOwnProperty(w))w=Na[w];else{var R=w.replace(Ha,\"-$1\").toLowerCase().replace(Ia,\"-ms-\");w=Na[w]=R}k+=t+w+\":\";t=n;m=null==u||\"boolean\"===typeof u||\"\"===u?\"\":m||\"number\"!==typeof u||0===u||Y.hasOwnProperty(t)&&Y[t]?(\"\"+u).trim():u+\"px\";k+=m;t=\";\"}}l=k||null}n=null;b:if(m=b,u=h,-1===\nm.indexOf(\"-\"))m=\"string\"===typeof u.is;else switch(m){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":m=!1;break b;default:m=!0}if(m)Qa.hasOwnProperty(y)||(n=y,n=ra(n)&&null!=l?n+\"=\"+('\"'+M(l)+'\"'):\"\");else{m=y;n=l;l=J.hasOwnProperty(m)?J[m]:null;if(u=\"style\"!==m)u=null!==l?0===l.type:!(2<m.length)||\"o\"!==m[0]&&\"O\"!==m[0]||\"n\"!==m[1]&&\"N\"!==m[1]?!1:!0;u||ta(m,n,l,!1)?n=\"\":null!==\nl?(m=l.attributeName,l=l.type,n=3===l||4===l&&!0===n?m+'=\"\"':m+\"=\"+('\"'+M(n)+'\"')):n=ra(m)?m+\"=\"+('\"'+M(n)+'\"'):\"\"}n&&(B+=\" \"+n)}}g||D&&(B+=' data-reactroot=\"\"');var y=B;h=\"\";Ea.hasOwnProperty(b)?y+=\"/>\":(y+=\">\",h=\"</\"+a.type+\">\");a:{g=e.dangerouslySetInnerHTML;if(null!=g){if(null!=g.__html){g=g.__html;break a}}else if(g=e.children,\"string\"===typeof g||\"number\"===typeof g){g=M(g);break a}g=null}null!=g?(e=[],Ka[b]&&\"\\n\"===g.charAt(0)&&(y+=\"\\n\"),y+=g):e=Z(e.children);a=a.type;c=null==c||\"http://www.w3.org/1999/xhtml\"===\nc?Da(a):\"http://www.w3.org/2000/svg\"===c&&\"foreignObject\"===a?\"http://www.w3.org/1999/xhtml\":c;this.stack.push({domNamespace:c,type:b,children:e,childIndex:0,context:d,footer:h});this.previousWasTextNode=!1;return y};return a}();\nfunction Ua(a,b){if(\"function\"!==typeof b&&null!==b)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}\nvar Va=function(a){function b(d,c){if(!(this instanceof b))throw new TypeError(\"Cannot call a class as a function\");var f=a.call(this,{});if(!this)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");f=!f||\"object\"!==typeof f&&\"function\"!==typeof f?this:f;f.partialRenderer=new Ta(d,c);return f}Ua(b,a);b.prototype._destroy=function(a,b){this.partialRenderer.destroy();b(a)};b.prototype._read=function(a){try{this.push(this.partialRenderer.read(a))}catch(c){this.destroy(c)}};\nreturn b}(aa.Readable),Wa={renderToString:function(a){a=new Ta(a,!1);try{return a.read(Infinity)}finally{a.destroy()}},renderToStaticMarkup:function(a){a=new Ta(a,!0);try{return a.read(Infinity)}finally{a.destroy()}},renderToNodeStream:function(a){return new Va(a,!1)},renderToStaticNodeStream:function(a){return new Va(a,!0)},version:\"16.8.6\"},Xa={default:Wa},Ya=Xa&&Wa||Xa;module.exports=Ya.default||Ya;\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__22__;","module.exports = require(\"stream\");","module.exports = require('./lib/webpack');\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar fs = require('fs');\nvar path = require('path');\nvar url = require('url');\n\nfunction buildManifest(compiler, compilation) {\n  var context = compiler.options.context;\n  var manifest = {};\n\n  compilation.chunks.forEach(function (chunk) {\n    chunk.files.forEach(function (file) {\n      chunk.forEachModule(function (module) {\n        var id = module.id;\n        var name = typeof module.libIdent === 'function' ? module.libIdent({ context: context }) : null;\n        var publicPath = url.resolve(compilation.outputOptions.publicPath || '', file);\n\n        var currentModule = module;\n        if (module.constructor.name === 'ConcatenatedModule') {\n          currentModule = module.rootModule;\n        }\n        if (!manifest[currentModule.rawRequest]) {\n          manifest[currentModule.rawRequest] = [];\n        }\n\n        manifest[currentModule.rawRequest].push({ id: id, name: name, file: file, publicPath: publicPath });\n      });\n    });\n  });\n\n  return manifest;\n}\n\nclass ReactLoadablePlugin {\r\n  constructor(opts = {}) {\r\n    this.filename = opts.filename;\n  }\n\n  apply(compiler) {\r\n    const emit = (compilation, callback) => {\r\n      const manifest = buildManifest(compiler, compilation);\r\n      var json = JSON.stringify(manifest, null, 2);\n      const outputDirectory = path.dirname(this.filename);\r\n      try {\n        fs.mkdirSync(outputDirectory);\n      } catch (err) {\n        if (err.code !== 'EEXIST') {\n          throw err;\n        }\n      }\n      fs.writeFileSync(this.filename, json);\r\n      callback();\n    };\r\n    if (compiler.hooks) {\r\n      const plugin = { name: 'ReactLoadablePlugin' };\r\n      compiler.hooks.emit.tapAsync(plugin, emit);\r\n    } else {\r\n      compiler.plugin('emit', emit);\r\n    }\r\n  }\r\n}\r\n\n\nfunction getBundles(manifest, moduleIds) {\n  return moduleIds.reduce(function (bundles, moduleId) {\n    return bundles.concat(manifest[moduleId]);\n  }, []);\n}\n\nexports.ReactLoadablePlugin = ReactLoadablePlugin;\nexports.getBundles = getBundles;","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"url\");","module.exports = __WEBPACK_EXTERNAL_MODULE__29__;","module.exports = __WEBPACK_EXTERNAL_MODULE__30__;","module.exports = __WEBPACK_EXTERNAL_MODULE__31__;","module.exports = __WEBPACK_EXTERNAL_MODULE__32__;","export const AccessMethods = {\r\n  DYNAMIC: 'dynamic',\r\n  STATIC: 'static',\r\n  FRAGMENT: 'fragment',\r\n  REDUX: 'redux',\r\n};\r\n","const servers = SERVERS; /* global SERVERS */\r\nconst alias = servers.alias;\r\nconst publicUri = PUBLIC_URI; /* global PUBLIC_URI */\r\nconst projects = PROJECTS; /* global PROJECTS */\r\n\r\n// return a projectId via the request hostname\r\nconst pickProject = (hostname, query) => {\r\n  // if localhost we can only infer via a querystring, and take your word for it\r\n  if (hostname == 'localhost') {\r\n    return (query && query.p) || projects[0].id;\r\n  }\r\n\r\n  // if hostname is the actual public uri we can return the first project from the list\r\n  if (hostname == publicUri) {\r\n    return projects[0].id;\r\n  }\r\n\r\n  let project = 'unknown';\r\n\r\n  // go through all the defined projects\r\n  projects.forEach(p => {\r\n    // check if we're accessing via the project's public uri\r\n    if (hostname.includes(p.publicUri)) project = p.id;\r\n\r\n    // the url structure is different for website (we don't prefix)\r\n    if (p.id == 'website') {\r\n      // check for internal and external hostnames\r\n      // we check live and preview distinctly so our rule does not clash with\r\n      // hostnames that use a project prefix\r\n      if (\r\n        hostname.includes(`live-${alias}.cloud.contensis.com`) ||\r\n        hostname.includes(`live.${alias}.contensis.cloud`) ||\r\n        hostname.includes(`preview-${alias}.cloud.contensis.com`) ||\r\n        hostname.includes(`preview.${alias}.contensis.cloud`)\r\n      )\r\n        project = p.id;\r\n    } else {\r\n      // check for internal and external hostnames, prefixed with the projectId\r\n      if (\r\n        hostname.includes(`${p.id}-${alias}.cloud.contensis.com`) ||\r\n        hostname.includes(`${p.id}.${alias}.contensis.cloud`)\r\n      )\r\n        project = p.id;\r\n    }\r\n  });\r\n  return project;\r\n};\r\n\r\nexport const allowedGroups = project => {\r\n  return ALLOWED_GROUPS[project] /* global ALLOWED_GROUPS */;\r\n};\r\n\r\nexport default pickProject;\r\n"],"sourceRoot":""}