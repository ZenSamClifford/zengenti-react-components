{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///external \"react-loadable\"","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./src/app/core/util/helpers.js","webpack:///./src/app/lib.js","webpack:///./src/server/internalServer.js","webpack:///external \"isomorphic-fetch\"","webpack:///external \"express\"","webpack:///./src/server/util/displayStartupConfiguration.js","webpack:///./src/server/core/localDns.js","webpack:///external \"evil-dns\"","webpack:///./src/server/util/fetchMyIp.js","webpack:///./src/server/core/reverseProxies.js","webpack:///external \"http-proxy\"","webpack:///./src/server/core/webApp.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///external \"fs\"","webpack:///external \"react\"","webpack:///external \"react-router-dom\"","webpack:///external \"react-redux\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-loadable/webpack\"","webpack:///external \"styled-components\"","webpack:///external \"react-helmet\"","webpack:///external \"serialize-javascript\"","webpack:///external \"minify-css-string\"","webpack:///./src/server/util/types.js","webpack:///./src/app/core/util/pickProject.js","webpack:///./src/app/core/util/ContensisDeliveryApi.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///external \"contensis-delivery-api\"","webpack:///./src/app/core/redux/actions/routing.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///external \"regenerator-runtime\"","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./src/app/core/redux/types/routing.js","webpack:///./src/app/core/redux/actions/version.js","webpack:///./src/app/core/redux/types/version.js","webpack:///./src/app/core/redux/selectors/navigation.js","webpack:///./src/app/core/redux/selectors/routing.js","webpack:///external \"immutable\""],"names":["ProjectHelper","val","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","format","e","preventDefault","children","document","getElementById","display","str","replace","letter","index","toLowerCase","toUpperCase","stringToTrim","s","c","RegExp","arr","connector","length","slice","join","toString","composer","fieldName","composerField","filter","type","map","value","uri","work","uriParts","split","part","elem","pos","indexOf","seperator","item","trim","object","forEach","cfi","getComposerContent","component","find","fileSize","kb","Math","ceil","mb","round","parseFloat","pow","toFixed","re","ext","exec","imageUrl","newImageUrl","includes","encodedString","translate_re","translate","nbsp","amp","quot","lt","gt","match","entity","numStr","num","parseInt","String","fromCharCode","event","action","code","keyCode","which","list","keyGetter","Map","key","has","set","get","push","payload","getWebPImageUri","formatedUri","resizeImage","image","height","width","asset","sys","resizeImageUri","paramDelimeter","flattenArray","reduce","acc","concat","api","url","options","fetch","then","response","setTimeout","ok","Error","statusText","json","data","catch","error","dynamicSort","property","sortOrder","substr","a","b","result","randomString","text","possible","i","charAt","floor","random","LIB","require","default","exports","app","start","ReactApp","ServerFeatures","config","globals","disable","servers","projects","reverseProxyPaths","use","express","static","maxage","on","Loadable","preloadAll","server","listen","console","info","emit","close","DisplayStartupConfiguration","log","JSON","stringify","SERVERS","apiConfig","DELIVERY_API_CONFIG","localDns","disableDnsChanges","configureLocalEndpoint","evilDns","add","alias","internalVip","internalIp","rootUrl","fetchMyIp","env","method","headers","ipJson","ip","startsWith","apiProxy","httpProxy","createProxyServer","reverseProxies","deliveryApiProxy","all","req","res","target","iis","web","changeOrigin","path","hostname","cms","addStandardHeaders","state","packagejson","navDepends","recordDepends","toJS","allDepends","allDependsHeaderValue","name","header","addVarnishAuthenticationHeaders","setHeader","stateEntry","project","getIn","webApp","store","rootSaga","versionData","dynamicPaths","templates","templateHTML","fs","readFileSync","html","templateHTMLStatic","templateHTMLFragment","fragment","stats","parse","versionInfo","request","next","originalUrl","accessMethod","isDynamicNormalised","query","dynamic","onlyDynamic","isReduxRequestNormalised","redux","isFragmentNormalised","isStaticNormalised","DYNAMIC","AccessMethods","REDUX","FRAGMENT","STATIC","context","status","versionStatusFromHostname","dispatch","commitRef","buildNo","groups","modules","jsx","moduleName","isDynamicHint","dynamicBundles","dynamicBundleScripts","bundle","publicPath","responseHtmlDynamic","send","runSaga","toPromise","sheet","ServerStyleSheet","collectStyles","helmet","Helmet","renderStatic","rewind","title","metadata","meta","redirect","reduxState","getState","styleTags","getStyleTags","bundles","bundleScripts","serialisedReduxData","DISABLE_SSR_REDUX","responseHTML","err","stack","publicUri","PUBLIC_URI","PROJECTS","pickProject","p","id","allowedGroups","ALLOWED_GROUPS","getClientConfig","projectId","window","PROXY_DELIVERY_API","responseHandler","GetClientSideDeliveryApiStatus","currentHostname","location","GetDeliveryApiStatusFromHostname","endsWith","fixImageUri","Object","keys","some","k","userTransforms","transformations","version","versionNo","GetResponseGuids","Ids","language","dataFormat","subIds","GetAllResponseGuids","returnItems","unique","Set","DeliveryApi","linkDepth","client","Client","create","entries","search","deliveryApiStatus","baseConfig","versionStatus","deliveryApi","CacheNode","prev","LruCache","limit","head","tail","size","node","remove","setHead","CachedSearch","clientConfig","contentTypes","taxonomy","resolveChildren","extendTaxonomyNode","execute","cache","promise","getTaxonomyId","taxonomyLookup","n","parts","cachedSearch","setNotFound","notFound","SET_NAVIGATION_NOT_FOUND","setNavigationPath","SET_NAVIGATION_PATH","setRouteEntry","entry","SET_ENTRY","setRouteEntryRelatedArticles","relatedArticles","SET_ENTRY_RELATED_ARTICLES","setCurrentProject","SET_TARGET_PROJECT","ROUTING_PREFIX","GET_ENTRY","SET_NODE","SET_ANCESTORS","SET_ENTRY_ID","SET_ROUTE_LOADING","setVersion","SET_VERSION","setVersionStatus","SET_VERSION_STATUS","VERSION_PREFIX","hasNavigationTree","selectNavigationRoot","selectNavigationDepends","selectRouteEntry","selectRouteEntryDepends","List","selectRouteEntryEntryId","selectRouteEntryContentTypeId","selectRouteEntrySlug","selectRouteEntryID","selectCurrentPath","selectCurrentProject","selectIsNotFound","selectCurrentAncestors","selectRouteLoading","selectRouteEntryRelatedArticles"],"mappings":"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","file":"zengenti-appserver-package.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react-loadable\"), require(\"isomorphic-fetch\"), require(\"express\"), require(\"evil-dns\"), require(\"http-proxy\"), require(\"react\"), require(\"react-router-dom\"), require(\"react-redux\"), require(\"react-dom/server\"), require(\"react-loadable/webpack\"), require(\"styled-components\"), require(\"react-helmet\"), require(\"serialize-javascript\"), require(\"minify-css-string\"), require(\"contensis-delivery-api\"), require(\"regenerator-runtime\"), require(\"immutable\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react-loadable\", \"isomorphic-fetch\", \"express\", \"evil-dns\", \"http-proxy\", \"react\", \"react-router-dom\", \"react-redux\", \"react-dom/server\", \"react-loadable/webpack\", \"styled-components\", \"react-helmet\", \"serialize-javascript\", \"minify-css-string\", \"contensis-delivery-api\", \"regenerator-runtime\", \"immutable\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react-loadable\"), require(\"isomorphic-fetch\"), require(\"express\"), require(\"evil-dns\"), require(\"http-proxy\"), require(\"react\"), require(\"react-router-dom\"), require(\"react-redux\"), require(\"react-dom/server\"), require(\"react-loadable/webpack\"), require(\"styled-components\"), require(\"react-helmet\"), require(\"serialize-javascript\"), require(\"minify-css-string\"), require(\"contensis-delivery-api\"), require(\"regenerator-runtime\"), require(\"immutable\")) : factory(root[\"react-loadable\"], root[\"isomorphic-fetch\"], root[\"express\"], root[\"evil-dns\"], root[\"http-proxy\"], root[\"react\"], root[\"react-router-dom\"], root[\"react-redux\"], root[\"react-dom/server\"], root[\"react-loadable/webpack\"], root[\"styled-components\"], root[\"react-helmet\"], root[\"serialize-javascript\"], root[\"minify-css-string\"], root[\"contensis-delivery-api\"], root[\"regenerator-runtime\"], root[\"immutable\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(global, function(__WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__9__, __WEBPACK_EXTERNAL_MODULE__10__, __WEBPACK_EXTERNAL_MODULE__13__, __WEBPACK_EXTERNAL_MODULE__16__, __WEBPACK_EXTERNAL_MODULE__23__, __WEBPACK_EXTERNAL_MODULE__24__, __WEBPACK_EXTERNAL_MODULE__25__, __WEBPACK_EXTERNAL_MODULE__26__, __WEBPACK_EXTERNAL_MODULE__27__, __WEBPACK_EXTERNAL_MODULE__28__, __WEBPACK_EXTERNAL_MODULE__29__, __WEBPACK_EXTERNAL_MODULE__30__, __WEBPACK_EXTERNAL_MODULE__31__, __WEBPACK_EXTERNAL_MODULE__36__, __WEBPACK_EXTERNAL_MODULE__39__, __WEBPACK_EXTERNAL_MODULE__46__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","export default class ProjectHelper {\n  static currencyFormat(val) {\n    const formatter = new Intl.NumberFormat('en-GB', {\n      style: 'currency',\n      currency: 'GBP',\n      minimumFractionDigits: 0,\n    });\n    return formatter.format(val);\n  }\n\n  static showChildren(e) {\n    e.preventDefault;\n\n    let children = document.getElementById(e);\n    if (children.style.display == 'block') {\n      children.style.display = 'none';\n    } else {\n      children.style.display = 'block';\n    }\n  }\n\n  static camelize(str) {\n    return str\n      .replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (letter, index) => {\n        return index == 0 ? letter.toLowerCase() : letter.toUpperCase();\n      })\n      .replace(/\\s+/g, '');\n  }\n\n  static ltrim(stringToTrim) {\n    return stringToTrim.replace(/^\\s+/, '');\n  }\n\n  static trim(s, c = ' ') {\n    if (c === ']') c = '\\\\]';\n    if (c === '\\\\') c = '\\\\\\\\';\n    return s.replace(new RegExp('^[' + c + ']+|[' + c + ']+$', 'g'), '');\n  }\n\n  static ArrayToSentence(arr, connector = 'and') {\n    return arr.length > 1\n      ? arr.slice(0, -1).join(', ') + ' ' + connector + ' ' + arr.slice(-1)\n      : arr.toString();\n  }\n\n  static GetComposerContent(composer, fieldName) {\n    if (composer) {\n      let composerField = composer\n        .filter(c => c.type === fieldName)\n        .map(c => {\n          return c.value;\n        });\n      return composerField;\n    }\n    return null;\n  }\n\n  static dedupeUriSlashes(uri) {\n    const work = uri.replace('//', '~~'); // replace first instance of double slash with tildes to switch out again for slashes later\n    const uriParts = work.split('/').filter(part => part); // split the working url into parts and filter any null parts\n    return uriParts.join('/').replace('~~', '//');\n  }\n\n  static dedupeArray(arr) {\n    // remove duplicates from simple array\n    return arr.filter((elem, pos, arr) => arr.indexOf(elem) == pos);\n  }\n\n  static stringToArray(s, seperator = ',') {\n    return typeof s === 'string'\n      ? s.split(seperator).map(item => ProjectHelper.trim(item))\n      : s;\n  }\n\n  static composedFieldToObject(composer) {\n    // convert array of [ { type: 'type', value: composerItem } ]\n    // to plain object of { type: composerItem }\n    const object = {};\n    composer.forEach(\n      cfi =>\n        (object[cfi.type] = ProjectHelper.getComposerContent(\n          cfi.type,\n          composer\n        ))\n    );\n    return object;\n  }\n\n  static getComposerContent(type, composer) {\n    const component = composer.find(c => c.type === type);\n    return component && component.value;\n  }\n\n  static getFileSize(fileSize) {\n    const kb = Math.ceil(fileSize * 0.0009765625);\n    const mb =\n      Math.round(\n        parseFloat((fileSize * 0.00000095367432 * Math.pow(10, 2)).toFixed(2))\n      ) / Math.pow(10, 2);\n\n    if (kb < 1000) {\n      return kb + 'KB';\n    }\n    return mb + 'MB';\n  }\n\n  static getFileExtension(uri) {\n    const re = /(?:\\.([^.]+))?$/;\n    const ext = re.exec(uri)[1];\n\n    if (ext) {\n      return ext.toUpperCase();\n    }\n    return '';\n  }\n  static renderImageAsWebP(imageUrl) {\n    //Set new url to current url by default\n    let newImageUrl = imageUrl;\n    //First check if image has has webp referenced in url\n    if (imageUrl && !imageUrl.includes('webp')) {\n      //Check if image already has transformations\n      if (!imageUrl.includes('?')) {\n        //If not load image as webp\n        newImageUrl = imageUrl + '?f=webp';\n      } else {\n        //Otherwise append webp format to existing transformations\n        newImageUrl = imageUrl + '&f=webp';\n      }\n    }\n    return newImageUrl;\n  }\n\n  static decodeEntities(encodedString) {\n    var translate_re = /&(nbsp|amp|quot|lt|gt);/g;\n    var translate = {\n      nbsp: ' ',\n      amp: '&',\n      quot: '\"',\n      lt: '<',\n      gt: '>',\n    };\n    return encodedString\n      .replace(translate_re, function(match, entity) {\n        return translate[entity];\n      })\n      .replace(/&#(\\d+);/gi, function(match, numStr) {\n        var num = parseInt(numStr, 10);\n        return String.fromCharCode(num);\n      });\n  }\n\n  static keyPress(event, action) {\n    var code = event.keyCode || event.which;\n    if (code === 13) {\n      action;\n    }\n  }\n\n  static GroupBy(list, keyGetter) {\n    const map = new Map();\n    list.forEach(item => {\n      const key = keyGetter(item);\n      if (!map.has(key)) {\n        map.set(key, [item]);\n      } else {\n        map.get(key).push(item);\n      }\n    });\n    return map;\n  }\n}\nexport function action(type, payload = {}) {\n  return { type, ...payload };\n}\n\nexport const getWebPImageUri = uri => {\n  let formatedUri = uri;\n  if (uri.indexOf('.gif') == -1) {\n    if (uri.indexOf('f=') == -1 && uri.indexOf('format=') == -1) {\n      if (uri.indexOf('?') > -1) {\n        formatedUri = `${uri}&f=webp`;\n      } else {\n        formatedUri = `${uri}?f=webp`;\n      }\n    }\n    if (\n      formatedUri.indexOf('q=') == -1 &&\n      formatedUri.indexOf('quality=') == -1\n    ) {\n      if (formatedUri.indexOf('?') > -1) {\n        formatedUri = `${formatedUri}&q=70`;\n      } else {\n        formatedUri = `${formatedUri}?q=70`;\n      }\n    }\n  }\n  return formatedUri;\n};\n\nexport const resizeImage = (image, height, width) => {\n  if (image.asset && image.asset.sys && image.asset.sys.uri) {\n    image.asset.sys.uri = resizeImageUri(image.asset.sys.uri, height, width);\n  }\n};\nexport const resizeImageUri = (uri, height, width) => {\n  let formatedUri = uri;\n  let paramDelimeter = '?';\n  if (uri.indexOf('?') > -1) {\n    paramDelimeter = '&';\n  }\n  if (width) {\n    if (\n      formatedUri.indexOf('w=') == -1 &&\n      formatedUri.indexOf('width=') == -1\n    ) {\n      formatedUri = `${formatedUri}${paramDelimeter}w=${width}`;\n      paramDelimeter = '&';\n    }\n  }\n  if (height) {\n    if (\n      formatedUri.indexOf('h=') == -1 &&\n      formatedUri.indexOf('height=') == -1\n    ) {\n      formatedUri = `${formatedUri}${paramDelimeter}h=${height}`;\n    }\n  }\n\n  return formatedUri;\n};\n\nexport function flattenArray(arr) {\n  // flatten arrays inside the supplied array and\n  // remove duplicates from the result\n  return arr\n    .reduce((acc, val) => acc.concat(val), [])\n    .filter((elem, pos, arr) => arr.indexOf(elem) == pos);\n}\n\nexport async function api(url, options) {\n  return fetch(url, options)\n    .then(async response => {\n      setTimeout(() => null, 0);\n      if (!response.ok) {\n        throw new Error(response.statusText);\n      }\n      return response.json().then(data => data);\n    })\n    .catch(error => {\n      //console.log(error);\n      throw error;\n    });\n}\n\nexport function dynamicSort(property) {\n  var sortOrder = 1;\n  if (property[0] === '-') {\n    sortOrder = -1;\n    property = property.substr(1);\n  }\n  return function(a, b) {\n    /* next line works with strings and numbers,\n     * and you may want to customize it to your needs\n     */\n    var result =\n      a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\n    return result * sortOrder;\n  };\n}\n\nexport const randomString = length => {\n  let text = '';\n  const possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  for (var i = 0; i < length; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return text;\n};\n","const LIB = require('../server/internalServer').default;\n\nexports.app = LIB.app;\nexports.start = LIB.start;\n","import 'isomorphic-fetch';\nimport express from 'express';\nimport Loadable from 'react-loadable';\n\nimport DisplayStartupConfiguration from './util/displayStartupConfiguration';\nimport ConfigureLocalDNS from './core/localDns';\nimport ConfigureReverseProxies from './core/reverseProxies';\n// import ServerFeatures from './features/configure';\nimport ConfigureWebApp from './core/webApp';\n\nconst app = express();\n\nconst start = (ReactApp, ServerFeatures, config, globals) => {\n  app.disable('x-powered-by');\n\n  const { servers, projects, reverseProxyPaths } = globals;\n\n  // Output some information about the used build/startup configuration\n  DisplayStartupConfiguration(servers, projects, reverseProxyPaths);\n\n  // Configure DNS to make life easier\n  ConfigureLocalDNS();\n\n  // Set-up local proxy for images from cms, to save doing rewrites and extra code\n  ConfigureReverseProxies(app, reverseProxyPaths);\n  ServerFeatures(app);\n  ConfigureWebApp(app, ReactApp, config);\n\n  app.use('/static', express.static('dist/static', { maxage: '31557600h' }));\n\n  app.on('ready', () => {\n    Loadable.preloadAll().then(() => {\n      var server = app.listen(3001, () => {\n        console.info(`HTTP server is listening @ port 3001`);\n        setTimeout(function() {\n          app.emit('app_started');\n        }, 500);\n      });\n      app.on('stop', () => {\n        server.close(function() {\n          console.info('GoodBye :(');\n        });\n      });\n    });\n  });\n};\n\nexport default { app, start };\n","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","const DisplayStartupConfiguration = (servers, projects, reverseProxyPaths) => {\n  /* eslint-disable no-console */\n  console.log();\n  console.log(\n    `Configured servers:\n`,\n    JSON.stringify(servers, null, 2)\n  );\n  console.log();\n  console.log(\n    `Configured projects:\n`,\n    JSON.stringify(projects, null, 2)\n  );\n  console.log();\n  console.log(\n    'Reverse proxy paths: ',\n    JSON.stringify(reverseProxyPaths, null, 2)\n  );\n  console.log();\n\n  /* eslint-enable no-console */\n};\n\nexport default DisplayStartupConfiguration;\n","import evilDns from 'evil-dns';\nimport fetchMyIp from '../util/fetchMyIp';\n\nconst servers = SERVERS; /* global SERVERS */\nconst apiConfig = DELIVERY_API_CONFIG; /* global DELIVERY_API_CONFIG */\n\nconst localDns = () => {\n  const disableDnsChanges = false;\n\n  const configureLocalEndpoint = () => {\n    if (!disableDnsChanges) {\n      evilDns.add(`*${servers.alias}.cloud.contensis.com`, servers.internalVip);\n\n      if (apiConfig.internalIp)\n        evilDns.add(apiConfig.rootUrl, apiConfig.internalIp);\n    }\n  };\n\n  // Break api.ipify to test\n  // evilDns.add('api.ipify.org', '8.8.8.8');\n  fetchMyIp(servers, configureLocalEndpoint);\n};\n\nexport default localDns;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__13__;","const fetchMyIp = (env, configureLocalEndpoint) => {\n  /* eslint-disable no-console */\n  fetch('https://api.ipify.org?format=json', {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  })\n    .then(\n      response => {\n        return response.json();\n      },\n      error => {\n        console.log(\n          `Could not work out where I am so defaulting to local DNS, as I am probably running as a container this is what matters most. Not developers at home or tests :( Sorry. error: ${error}`\n        );\n        configureLocalEndpoint();\n      }\n    )\n    .then(ipJson => {\n      console.log(`Current public ip -> ${JSON.stringify(ipJson)}`);\n      if (ipJson.ip.startsWith('185.18.13')) {\n        console.log(\n          `Using local endpoint for ${env.alias} -> ${env.internalVip}`\n        );\n        configureLocalEndpoint();\n      } else {\n        console.log(`Outside Zengenti network, use real DNS.`);\n      }\n    })\n    .catch(error => {\n      configureLocalEndpoint();\n      console.log(\n        `Could not work out where I am so defaulting to local DNS, as I am probably running as a container this is what matters most. Not developers at home or tests :( Sorry. error: ${error}`\n      );\n    });\n  /* eslint-enable no-console */\n};\n\nexport default fetchMyIp;\n","import httpProxy from 'http-proxy';\n\nconst servers = SERVERS; /* global SERVERS */\nvar apiProxy = httpProxy.createProxyServer();\n\nconst reverseProxies = (app, reverseProxyPaths) => {\n  deliveryApiProxy(apiProxy, app);\n\n  app.all(reverseProxyPaths, (req, res) => {\n    const target = servers.iis;\n\n    apiProxy.web(req, res, { target, changeOrigin: true });\n    apiProxy.on('error', e => {\n      /* eslint-disable no-console */\n      console.log(\n        `Proxy Request for ${req.path} HostName:${req.hostname} failed with ${e}`\n      );\n      /* eslint-enable no-console */\n    });\n  });\n};\n\nconst deliveryApiProxy = (apiProxy, app) => {\n  // This is just here to stop cors requests on localhost. In Production this is mapped using varnish.\n  app.all(['/api/delivery/*'], (req, res) => {\n    /* eslint-disable no-console */\n    const target = servers.cms;\n    console.log(`Proxying api request to ${servers.alias}`);\n    apiProxy.web(req, res, {\n      target,\n      changeOrigin: true,\n    });\n    apiProxy.on('error', e => {\n      /* eslint-disable no-console */\n      console.log(\n        `Proxy request for ${req.path} HostName:${req.hostname} failed with ${e}`\n      );\n      /* eslint-enable no-console */\n    });\n  });\n};\n\nexport default reverseProxies;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__16__;","import fs from 'fs';\nimport React from 'react';\nimport { StaticRouter } from 'react-router-dom';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport Loadable from 'react-loadable';\nimport { renderToString } from 'react-dom/server';\nimport { getBundles } from 'react-loadable/webpack';\nimport { ServerStyleSheet } from 'styled-components';\nimport Helmet from 'react-helmet';\nimport serialize from 'serialize-javascript';\nimport minifyCssString from 'minify-css-string';\n// import { history } from '~/core/redux/history';\n\nimport { AccessMethods } from '../util/types';\nimport pickProject, { allowedGroups } from '~/core/util/pickProject';\nimport { GetDeliveryApiStatusFromHostname } from '~/core/util/ContensisDeliveryApi';\n\nimport { setCurrentProject } from '~/core/redux/actions/routing';\nimport { setVersion, setVersionStatus } from '~/core/redux/actions/version';\n\nimport { selectNavigationDepends } from '~/core/redux/selectors/navigation';\nimport {\n  selectRouteEntryDepends,\n  selectRouteEntry,\n  selectCurrentProject,\n} from '~/core/redux/selectors/routing';\n\nconst addStandardHeaders = (state, response, packagejson) => {\n  if (state) {\n    /* eslint-disable no-console */\n    try {\n      console.log('About to add header');\n      let navDepends = selectNavigationDepends(state);\n      let recordDepends = selectRouteEntryDepends(state);\n      navDepends = navDepends.toJS();\n      recordDepends = recordDepends.toJS();\n      console.log(`navDepends count: ${navDepends.length}`);\n      console.log(`recordDepends count: ${recordDepends.length}`);\n      const allDepends = [...navDepends, ...recordDepends];\n      let allDependsHeaderValue = allDepends.join(' ');\n      allDependsHeaderValue = ` ${packagejson.name}-app ${allDependsHeaderValue} ${packagejson.name}-app`;\n      response.header('surrogate-key', allDependsHeaderValue);\n\n      addVarnishAuthenticationHeaders(state, response);\n    } catch (e) {\n      console.log('Error Adding headers');\n      console.log(e);\n    }\n  }\n  response.setHeader('Surrogate-Control', 'max-age=3600');\n};\n\nconst addVarnishAuthenticationHeaders = (state, response) => {\n  if (state) {\n    try {\n      const stateEntry = selectRouteEntry(state);\n      const project = selectCurrentProject(state);\n      if (\n        stateEntry &&\n        stateEntry.getIn(['authentication', 'isLoginRequired'])\n      ) {\n        response.header(\n          'x-contensis-viewer-groups',\n          allowedGroups(project).join('|')\n        );\n      }\n    } catch (e) {\n      console.log('Error adding authentication header');\n      console.log(e);\n    }\n  }\n};\n\nconst webApp = (app, ReactApp, config) => {\n  const { store, rootSaga, packagejson, versionData, dynamicPaths } = config;\n\n  const templates = {\n    templateHTML: fs.readFileSync(config.templates.html, 'utf8'),\n    templateHTMLStatic: fs.readFileSync(config.templates.static, 'utf8'),\n    templateHTMLFragment: fs.readFileSync(config.templates.fragment, 'utf8'),\n  };\n  const stats = JSON.parse(fs.readFileSync(config.stats));\n  const versionInfo = JSON.parse(fs.readFileSync(versionData, 'utf8'));\n\n  app.get('/*', (request, response, next) => {\n    if (request.originalUrl.startsWith('/static/')) return next();\n\n    const { url } = request;\n\n    // Determine functional params and set access methods\n    let accessMethod = {};\n\n    const isDynamicNormalised = request.query.dynamic\n      ? request.query.dynamic.toLowerCase()\n      : 'false';\n\n    // Hack for certain pages to avoid SSR\n    const onlyDynamic = dynamicPaths.includes(request.path);\n\n    const isReduxRequestNormalised = request.query.redux\n      ? request.query.redux.toLowerCase()\n      : 'false';\n\n    const isFragmentNormalised = request.query.fragment\n      ? request.query.fragment.toLowerCase()\n      : 'false';\n\n    const isStaticNormalised = request.query.static\n      ? request.query.static.toLowerCase()\n      : 'false';\n\n    if (onlyDynamic || isDynamicNormalised === 'true')\n      accessMethod.DYNAMIC = AccessMethods.DYNAMIC;\n    if (isReduxRequestNormalised === 'true')\n      accessMethod.REDUX = AccessMethods.REDUX;\n    if (isFragmentNormalised === 'true')\n      accessMethod.FRAGMENT = AccessMethods.FRAGMENT;\n    if (isStaticNormalised === 'true')\n      accessMethod.STATIC = AccessMethods.STATIC;\n\n    const context = {};\n\n    let status = 200;\n\n    // dispatch any global and non-saga related actions before calling our JSX\n    const versionStatusFromHostname = GetDeliveryApiStatusFromHostname(\n      request.hostname\n    );\n\n    store.dispatch(setVersionStatus(versionStatusFromHostname));\n    store.dispatch(setVersion(versionInfo.commitRef, versionInfo.buildNo));\n\n    const project = pickProject(request.hostname, request.query);\n\n    const groups = allowedGroups(project);\n    store.dispatch(setCurrentProject(project, groups));\n\n    const modules = [];\n\n    const jsx = (\n      <Loadable.Capture report={moduleName => modules.push(moduleName)}>\n        <ReduxProvider store={store}>\n          <StaticRouter context={context} location={url}>\n            <ReactApp />\n          </StaticRouter>\n        </ReduxProvider>\n      </Loadable.Capture>\n    );\n\n    /* eslint-disable no-console */\n    console.log(\n      `Request for ${request.path} hostname: ${request.hostname} versionStatus: ${versionStatusFromHostname}`\n    );\n    /* eslint-enable no-console */\n\n    const {\n      templateHTML,\n      templateHTMLFragment,\n      templateHTMLStatic,\n    } = templates;\n\n    // Serve a blank HTML page with client scripts to load the app in the browser\n    if (accessMethod.DYNAMIC) {\n      // Dynamic doesn't need sagas\n      renderToString(jsx);\n\n      const isDynamicHint = `<script>window.isDynamic = true;</script>`;\n      const dynamicBundles = getBundles(stats, modules);\n      const dynamicBundleScripts = dynamicBundles\n        .map(bundle => `<script src=\"${bundle.publicPath}\"></script>`)\n        .join('');\n      const responseHtmlDynamic = templateHTML\n        .replace('{{TITLE}}', '')\n        .replace('{{SEO_CRITICAL_METADATA}}', '')\n        .replace('{{CRITICAL_CSS}}', '')\n        .replace('{{APP}}', '')\n        .replace('{{LOADABLE_CHUNKS}}', dynamicBundleScripts)\n        .replace('{{REDUX_DATA}}', isDynamicHint);\n      response.setHeader('Surrogate-Control', 'max-age=3600');\n      response.status(status).send(responseHtmlDynamic);\n    }\n\n    // Render the JSX server side and send response as per access method options\n    if (!accessMethod.DYNAMIC) {\n      store\n        .runSaga(rootSaga)\n        .toPromise()\n        .then(() => {\n          const sheet = new ServerStyleSheet();\n\n          const html = renderToString(sheet.collectStyles(jsx));\n\n          const helmet = Helmet.renderStatic();\n          Helmet.rewind();\n          let title = helmet.title.toString();\n          const metadata = helmet.meta.toString();\n\n          if (context.status === 404) {\n            status = 404;\n            title = '<title>404 page not found</title>';\n          }\n\n          if (context.url) {\n            return response.redirect(302, context.url);\n          }\n\n          const reduxState = store.getState();\n\n          const styleTags = sheet.getStyleTags();\n\n          const bundles = getBundles(stats, modules);\n\n          const bundleScripts = bundles\n            .map(bundle => `<script src=\"${bundle.publicPath}\"></script>`)\n            .join('');\n\n          let serialisedReduxData = '';\n          if (context.status !== 404) {\n            if (accessMethod.REDUX) {\n              serialisedReduxData = serialize(reduxState);\n              addStandardHeaders(reduxState, response, packagejson);\n              response.status(status).json(serialisedReduxData);\n              return true;\n            }\n            if (!DISABLE_SSR_REDUX) {\n              serialisedReduxData = serialize(reduxState);\n              serialisedReduxData = `<script>window.REDUX_DATA = ${serialisedReduxData}</script>`;\n            } /* global DISABLE_SSR_REDUX */\n          }\n          if (context.status === 404) {\n            accessMethod.STATIC = AccessMethods.STATIC;\n          }\n\n          // Responses\n          let responseHTML = '';\n\n          // Static page served as a fragment\n          if (accessMethod.FRAGMENT && accessMethod.STATIC) {\n            addStandardHeaders(reduxState, response, packagejson);\n            responseHTML = minifyCssString(styleTags) + html;\n          }\n\n          // Page fragment served with client scripts and redux data that hydrate the app client side\n          if (accessMethod.FRAGMENT && !accessMethod.STATIC) {\n            responseHTML = templateHTMLFragment\n              .replace('{{TITLE}}', title)\n              .replace('{{SEO_CRITICAL_METADATA}}', metadata)\n              .replace('{{CRITICAL_CSS}}', minifyCssString(styleTags))\n              .replace('{{APP}}', html)\n              .replace('{{LOADABLE_CHUNKS}}', bundleScripts)\n              .replace('{{REDUX_DATA}}', serialisedReduxData);\n          }\n\n          // Full HTML page served statically\n          if (!accessMethod.FRAGMENT && accessMethod.STATIC) {\n            responseHTML = templateHTMLStatic\n              .replace('{{TITLE}}', title)\n              .replace('{{SEO_CRITICAL_METADATA}}', metadata)\n              .replace('{{CRITICAL_CSS}}', minifyCssString(styleTags))\n              .replace('{{APP}}', html)\n              .replace('{{LOADABLE_CHUNKS}}', '');\n          }\n\n          // Full HTML page served with client scripts and redux data that hydrate the app client side\n          if (!accessMethod.FRAGMENT && !accessMethod.STATIC) {\n            responseHTML = templateHTML\n              .replace('{{TITLE}}', title)\n              .replace('{{SEO_CRITICAL_METADATA}}', metadata)\n              .replace('{{CRITICAL_CSS}}', styleTags)\n              .replace('{{APP}}', html)\n              .replace('{{LOADABLE_CHUNKS}}', bundleScripts)\n              .replace('{{REDUX_DATA}}', serialisedReduxData);\n          }\n          addStandardHeaders(reduxState, response, packagejson);\n          response.status(status).send(responseHTML);\n        })\n        .catch(err => {\n          // Handle any error that occurred in any of the previous\n          // promises in the chain.\n          /* eslint-disable no-console */\n          console.log(err);\n          /* eslint-enable no-console */\n          response\n            .status(500)\n            .send(\n              `Error occurred: <br />${err.stack} <br />${JSON.stringify(err)}`\n            );\n        });\n      renderToString(jsx);\n\n      store.close();\n    }\n  });\n};\n\nexport default webApp;\n","function _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","module.exports = require(\"fs\");","module.exports = __WEBPACK_EXTERNAL_MODULE__23__;","module.exports = __WEBPACK_EXTERNAL_MODULE__24__;","module.exports = __WEBPACK_EXTERNAL_MODULE__25__;","module.exports = __WEBPACK_EXTERNAL_MODULE__26__;","module.exports = __WEBPACK_EXTERNAL_MODULE__27__;","module.exports = __WEBPACK_EXTERNAL_MODULE__28__;","module.exports = __WEBPACK_EXTERNAL_MODULE__29__;","module.exports = __WEBPACK_EXTERNAL_MODULE__30__;","module.exports = __WEBPACK_EXTERNAL_MODULE__31__;","export const AccessMethods = {\n  DYNAMIC: 'dynamic',\n  STATIC: 'static',\n  FRAGMENT: 'fragment',\n  REDUX: 'redux',\n};\n","const servers = SERVERS; /* global SERVERS */\nconst alias = servers.alias;\nconst publicUri = PUBLIC_URI; /* global PUBLIC_URI */\nconst projects = PROJECTS; /* global PROJECTS */\n\n// return a projectId via the request hostname\nconst pickProject = (hostname, query) => {\n  // if localhost we can only infer via a querystring, and take your word for it\n  if (hostname == 'localhost') {\n    return (query && query.p) || projects[0].id;\n  }\n\n  // if hostname is the actual public uri we can return the first project from the list\n  if (hostname == publicUri) {\n    return projects[0].id;\n  }\n\n  let project = 'unknown';\n\n  // go through all the defined projects\n  projects.forEach(p => {\n    // check if we're accessing via the project's public uri\n    if (hostname.includes(p.publicUri)) project = p.id;\n\n    // the url structure is different for website (we don't prefix)\n    if (p.id == 'website') {\n      // check for internal and external hostnames\n      // we check live and preview distinctly so our rule does not clash with\n      // hostnames that use a project prefix\n      if (\n        hostname.includes(`live-${alias}.cloud.contensis.com`) ||\n        hostname.includes(`live.${alias}.contensis.cloud`) ||\n        hostname.includes(`preview-${alias}.cloud.contensis.com`) ||\n        hostname.includes(`preview.${alias}.contensis.cloud`)\n      )\n        project = p.id;\n    } else {\n      // check for internal and external hostnames, prefixed with the projectId\n      if (\n        hostname.includes(`${p.id}-${alias}.cloud.contensis.com`) ||\n        hostname.includes(`${p.id}.${alias}.contensis.cloud`)\n      )\n        project = p.id;\n    }\n  });\n  return project;\n};\n\nexport const allowedGroups = project => {\n  return ALLOWED_GROUPS[project] /* global ALLOWED_GROUPS */;\n};\n\nexport default pickProject;\n","import { Client } from 'contensis-delivery-api';\n\nconst getClientConfig = project => {\n  let config = DELIVERY_API_CONFIG; /* global DELIVERY_API_CONFIG */\n  if (project) {\n    config.projectId = project;\n  }\n\n  if (\n    typeof window != 'undefined' &&\n    PROXY_DELIVERY_API /* global PROXY_DELIVERY_API */\n  ) {\n    // ensure a relative url is used to bypass the need for CORS (separate OPTIONS calls)\n    config.rootUrl = '';\n    config.responseHandler = {\n      404: () => null,\n    };\n  }\n  return config;\n};\nexport * from 'contensis-delivery-api';\n\n// This should only be executed on the client as it relies on the window.\nexport const GetClientSideDeliveryApiStatus = () => {\n  if (typeof window != 'undefined') {\n    const currentHostname = window.location.hostname;\n    return GetDeliveryApiStatusFromHostname(currentHostname);\n  }\n  return null;\n};\n\nexport const GetDeliveryApiStatusFromHostname = currentHostname => {\n  if (currentHostname.indexOf('localhost') > -1) return 'latest';\n\n  if (currentHostname.endsWith('contensis.cloud')) {\n    if (currentHostname.indexOf('preview.') > -1) {\n      return 'latest';\n    } else {\n      return 'published';\n    }\n  }\n\n  if (currentHostname.endsWith('cloud.contensis.com')) {\n    if (currentHostname.indexOf('preview-') > -1) {\n      return 'latest';\n    } else {\n      return 'published';\n    }\n  }\n\n  return 'published';\n};\n\nexport const fixImageUri = object => {\n  Object.keys(object).some(function(k) {\n    if (k === 'asset') {\n      //Should always have an ID, but lets check...\n      if (object[k].sys && object[k].sys.id) {\n        // We can exclude assets here i think... ?\n        let userTransforms = object[k].transformations\n          ? `&${object[k].transformations}`\n          : '';\n\n        object[k].sys.uri = `/api/image/${\n          object[k].sys.id\n        }?invalidationKey=${object[k].sys &&\n          object[k].sys.version.versionNo}${userTransforms}`;\n      }\n      return false;\n    }\n    if (object[k] && typeof object[k] === 'object') {\n      fixImageUri(object[k]);\n      return false;\n    }\n  });\n};\n\nexport const GetResponseGuids = object => {\n  let Ids = [];\n  Object.keys(object).some(function(k) {\n    if (k === 'sys') {\n      //Should always have an ID, but lets check...\n      if (object[k].id && object[k].language) {\n        // We can exclude assets here i think... ?\n        if (object[k].dataFormat) {\n          if (object[k].dataFormat !== 'asset') {\n            Ids.push(`${object[k].id}_${object[k].language.toLowerCase()}`);\n          }\n        } else {\n          // If we don't have a dataformat add it anyhow, for safety\n          Ids.push(`${object[k].id}_${object[k].language.toLowerCase()}`);\n        }\n      }\n      return false;\n    }\n    if (object[k] && typeof object[k] === 'object') {\n      let subIds = GetResponseGuids(object[k]);\n      if (subIds.length > 0) {\n        Ids.push(...subIds);\n      }\n      return false;\n    }\n  });\n  return Ids;\n};\n\nexport const GetAllResponseGuids = object => {\n  if (!object) return [];\n  let returnItems = GetResponseGuids(object);\n  let unique = [...new Set(returnItems)];\n  return unique;\n};\nclass DeliveryApi {\n  search(query, linkDepth, project, env) {\n    const client = Client.create(getClientConfig(project, env));\n    return client.entries.search(query, linkDepth || 1);\n  }\n\n  getClient(deliveryApiStatus = 'published', project, env) {\n    const baseConfig = getClientConfig(project, env);\n    baseConfig.versionStatus = deliveryApiStatus;\n    return Client.create(baseConfig);\n  }\n  getEntry(id, linkDepth = 1, deliveryApiStatus = 'published', project, env) {\n    const baseConfig = getClientConfig(project, env);\n    baseConfig.versionStatus = deliveryApiStatus;\n    const client = Client.create(baseConfig);\n    // return client.entries.get(id, linkDepth);\n    return client.entries.get({ id, linkDepth });\n  }\n}\n\nexport const deliveryApi = new DeliveryApi();\n\nclass CacheNode {\n  constructor(key, value) {\n    this.key = key;\n    this.value = value;\n    this.next = null;\n    this.prev = null;\n  }\n}\n\nclass LruCache {\n  constructor(limit = 100) {\n    this.map = {};\n    this.head = null;\n    this.tail = null;\n    this.limit = limit || 100;\n    this.size = 0;\n  }\n\n  get(key) {\n    if (this.map[key]) {\n      let value = this.map[key].value;\n      let node = new CacheNode(key, value);\n      this.remove(key);\n      this.setHead(node);\n      return value;\n    }\n  }\n\n  set(key, value) {\n    let node = new CacheNode(key, value);\n    if (this.map[key]) {\n      this.remove(key);\n    } else {\n      if (this.size >= this.limit) {\n        delete this.map[this.tail.key];\n        this.size--;\n        this.tail = this.tail.prev;\n        this.tail.next = null;\n      }\n    }\n    this.setHead(node);\n  }\n\n  setHead(node) {\n    node.next = this.head;\n    node.prev = null;\n    if (this.head) {\n      this.head.prev = node;\n    }\n    this.head = node;\n    if (!this.tail) {\n      this.tail = node;\n    }\n    this.size++;\n    this.map[node.key] = node;\n  }\n\n  remove(key) {\n    let node = this.map[key];\n    if (node.prev) {\n      node.prev.next = node.next;\n    } else {\n      this.head = node.next;\n    }\n    if (node.next) {\n      node.next.prev = node.prev;\n    } else {\n      this.tail = node.prev;\n    }\n    delete this.map[key];\n    this.size--;\n  }\n}\n\nclass CachedSearch {\n  cache = new LruCache();\n  taxonomyLookup = {};\n\n  search(query, linkDepth, project, env) {\n    const client = Client.create(getClientConfig(project, env));\n    return this.request(\n      project + JSON.stringify(query) + linkDepth.toString(),\n      () => client.entries.search(query, linkDepth)\n    );\n  }\n\n  get(id, linkDepth, versionStatus, project, env) {\n    const client = Client.create(getClientConfig(project, env));\n    client.clientConfig.versionStatus = versionStatus;\n    return this.request(id, () => client.entries.get({ id, linkDepth }));\n  }\n\n  getContentType(id, project, env) {\n    const client = Client.create(getClientConfig(project, env));\n    return this.request(`[CONTENT TYPE] ${id} ${project}`, () =>\n      client.contentTypes.get(id)\n    );\n  }\n\n  getTaxonomyNode(key, project, env) {\n    const client = Client.create(getClientConfig(project, env));\n    return this.request(`[TAXONOMY NODE] ${key}`, () =>\n      client.taxonomy\n        .resolveChildren(key)\n        .then(node => this.extendTaxonomyNode(node))\n    );\n  }\n\n  request(key, execute) {\n    if (!this.cache.get(key) || typeof window == 'undefined') {\n      let promise = execute();\n      this.cache.set(key, promise);\n      promise.catch(() => {\n        this.cache.remove(key);\n      });\n    }\n    return this.cache.get(key);\n  }\n\n  extendTaxonomyNode(node) {\n    let id = this.getTaxonomyId(node);\n    this.taxonomyLookup[id] = node.key;\n    return {\n      ...node,\n      id,\n      children: node.children\n        ? node.children.map(n => this.extendTaxonomyNode(n))\n        : null,\n    };\n  }\n\n  getTaxonomyId(node) {\n    if (node.key) {\n      let parts = node.key.split('/');\n      return parts[parts.length - 1];\n    }\n    return '';\n  }\n\n  getTaxonomyKey(id) {\n    return this.taxonomyLookup[id];\n  }\n}\n\nexport const cachedSearch = new CachedSearch();\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","module.exports = __WEBPACK_EXTERNAL_MODULE__36__;","import { action } from '~/core/util/helpers';\nimport {\n  SET_ENTRY,\n  SET_NAVIGATION_NOT_FOUND,\n  SET_NAVIGATION_PATH,\n  SET_ENTRY_RELATED_ARTICLES,\n  SET_TARGET_PROJECT,\n} from '~/core/redux/types/routing';\n\nexport const setNotFound = notFound =>\n  action(SET_NAVIGATION_NOT_FOUND, { notFound });\nexport const setNavigationPath = path => action(SET_NAVIGATION_PATH, { path });\nexport const setRouteEntry = entry => action(SET_ENTRY, { entry });\nexport const setRouteEntryRelatedArticles = relatedArticles =>\n  action(SET_ENTRY_RELATED_ARTICLES, { relatedArticles });\n\nexport const setCurrentProject = (project, allowedGroups) =>\n  action(SET_TARGET_PROJECT, { project, allowedGroups });\n","module.exports = require(\"regenerator-runtime\");\n","module.exports = __WEBPACK_EXTERNAL_MODULE__39__;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","const ROUTING_PREFIX = '@ROUTING/';\nexport const GET_ENTRY = `${ROUTING_PREFIX}_GET_ENTRY`;\nexport const SET_ENTRY = `${ROUTING_PREFIX}_SET_ENTRY`;\nexport const SET_NODE = `${ROUTING_PREFIX}_SET_NODE`;\nexport const SET_ANCESTORS = `${ROUTING_PREFIX}_SET_ANCESTORS`;\nexport const SET_ENTRY_ID = `${ROUTING_PREFIX}_SET_ENTRY_ID`;\nexport const SET_ENTRY_RELATED_ARTICLES = `${ROUTING_PREFIX}_SET_ENTRY_RELATED_ARTICLES`;\n\nexport const SET_NAVIGATION_NOT_FOUND = `${ROUTING_PREFIX}_SET_NOT_FOUND`;\nexport const SET_NAVIGATION_PATH = `${ROUTING_PREFIX}_SET_NAVIGATION_PATH`;\nexport const SET_ROUTE_LOADING = `${ROUTING_PREFIX}_SET_ROUTE_LOADING`;\n\nexport const SET_TARGET_PROJECT = `${ROUTING_PREFIX}_SET_TARGET_PROJECT`;\n","import { action } from '~/core/util/helpers';\nimport { SET_VERSION, SET_VERSION_STATUS } from '~/core/redux/types/version';\n\nexport const setVersion = (commitRef, buildNo) =>\n  action(SET_VERSION, { commitRef, buildNo });\n\nexport const setVersionStatus = status =>\n  action(SET_VERSION_STATUS, { status });\n","const VERSION_PREFIX = '@VERSION/';\nexport const SET_VERSION = `${VERSION_PREFIX}SET_VERSION`;\nexport const SET_VERSION_STATUS = `${VERSION_PREFIX}SET_VERSION_STATUS`;\n","export const hasNavigationTree = state => {\n  return state.getIn(['navigation', 'isReady']);\n};\n\nexport const selectNavigationRoot = state => {\n  return state.getIn(['navigation', 'root']);\n};\n\nexport const selectNavigationDepends = state => {\n  return state.getIn(['navigation', 'treeDepends']);\n};\n","import { List } from 'immutable';\n\nexport const selectRouteEntry = state => {\n  return state.getIn(['routing', 'entry']);\n};\nexport const selectRouteEntryDepends = state => {\n  return state.getIn(['routing', 'entryDepends'], new List());\n};\nexport const selectRouteEntryEntryId = state => {\n  return state.getIn(['routing', 'entry', 'sys', 'id'], null);\n};\nexport const selectRouteEntryContentTypeId = state => {\n  return state.getIn(['routing', 'entry', 'sys', 'contentTypeId'], null);\n};\nexport const selectRouteEntrySlug = state => {\n  return state.getIn(['routing', 'entry', 'sys', 'slug'], null);\n};\nexport const selectRouteEntryID = state => {\n  return state.getIn(['routing', 'entryID']);\n};\nexport const selectCurrentPath = state => {\n  return state.getIn(['routing', 'currentPath']);\n};\nexport const selectCurrentProject = state => {\n  return state.getIn(['routing', 'currentProject']);\n};\nexport const selectIsNotFound = state => {\n  return state.getIn(['routing', 'notFound']);\n};\nexport const selectCurrentAncestors = state => {\n  return state.getIn(['routing', 'currentNodeAncestors']);\n};\n\nexport const selectRouteLoading = state => {\n  return state.getIn(['routing', 'routeLoading']);\n};\n\nexport const selectRouteEntryRelatedArticles = state => {\n  return state.getIn(['routing', 'relatedArticles']);\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__46__;"],"sourceRoot":""}