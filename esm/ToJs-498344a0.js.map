{"version":3,"file":"ToJs-498344a0.js","sources":["../src/user/redux/selectors.js","../src/user/util/matchGroups.ts","../src/util/ToJs.js"],"sourcesContent":["import { Map } from 'immutable';\n\nexport const selectUserIsLoading = state => {\n  return state.getIn(['user', 'authenticationState', 'loading']);\n};\nexport const selectUserIsAuthenticated = state => {\n  return (\n    state.getIn(['user', 'authenticationState', 'authenticated']) &&\n    state.getIn(['user']) != null\n  );\n};\nexport const selectUserAuthenticationError = state => {\n  return state.getIn(['user', 'authenticationState', 'authenticationError']);\n};\nexport const selectUserAuthenticationErrorMessage = state => {\n  return state.getIn([\n    'user',\n    'authenticationState',\n    'authenticationErrorMessage',\n  ]);\n};\nexport const selectUserError = state => {\n  return state.getIn(['user', 'authenticationState', 'error']);\n};\nexport const selectUserErrorMessage = state => {\n  return state.getIn(['user', 'authenticationState', 'errorMessage']);\n};\nexport const selectClientCredentials = state => {\n  return state.getIn(['user', 'authenticationState', 'clientCredentials']);\n};\nexport const selectUser = state => {\n  return state.getIn(['user']);\n};\nexport const selectUserIsZengentiStaff = state => {\n  return state.getIn(['user', 'isZengentiStaff']);\n};\nexport const selectUserGuid = state => {\n  return state.getIn(['user', 'id']);\n};\nexport const selectUsername = state => {\n  return state.getIn(['user', 'username']);\n};\nexport const selectUserEmail = state => {\n  return state.getIn(['user', 'email']);\n};\nexport const selectUserGroups = state => {\n  return state.getIn(['user', 'groups']);\n};\nexport const selectUserSecurityToken = state => {\n  return state.getIn([\n    'user',\n    'authenticationState',\n    'clientCredentials',\n    'contensisClassicToken',\n  ]);\n};\n\nexport const selectUserRegistration = state =>\n  state.getIn(['user', 'registration'], Map());\n\nexport const selectUserRegistrationError = state =>\n  state.getIn(['user', 'registration', 'error'], false);\n\nexport const selectUserRegistrationIsLoading = state =>\n  state.getIn(['user', 'registration', 'loading'], false);\n\nexport const selectUserRegistrationIsSuccess = state =>\n  state.getIn(['user', 'registration', 'success'], false);\n\nexport const selectPasswordResetRequestSending = state => {\n  return state.getIn(['user', 'passwordResetRequest', 'isSending']);\n};\nexport const selectPasswordResetRequestSent = state => {\n  return state.getIn(['user', 'passwordResetRequest', 'sent']);\n};\nexport const selectPasswordResetRequestError = state => {\n  return state.getIn(['user', 'passwordResetRequest', 'error']);\n};\nexport const selectResetPasswordSending = state => {\n  return state.getIn(['user', 'resetPassword', 'isSending']);\n};\nexport const selectResetPasswordSent = state => {\n  return state.getIn(['user', 'resetPassword', 'sent']);\n};\nexport const selectResetPasswordError = state => {\n  return state.getIn(['user', 'resetPassword', 'error']);\n};\nexport const selectChangePasswordSending = state => {\n  return state.getIn(['user', 'changePassword', 'isSending']);\n};\nexport const selectChangePasswordSent = state => {\n  return state.getIn(['user', 'changePassword', 'sent']);\n};\nexport const selectChangePasswordError = state => {\n  return state.getIn(['user', 'changePassword', 'error']);\n};\n","import { Group } from 'contensis-management-api/lib/models';\nimport { RequireLogin } from '~/routing/routes';\n\nexport const matchUserGroup = (\n  userGroups: Group[] = [],\n  requiredGroups: RequireLogin = []\n) => {\n  if (\n    !Array.isArray(requiredGroups) ||\n    (Array.isArray(requiredGroups) && requiredGroups.length === 0)\n  )\n    return true;\n\n  const groupMatch = requiredGroups.some(requiredGroup => {\n    return userGroups.some(userGroup => {\n      if (requiredGroup.id === userGroup.id) {\n        return true;\n      }\n      if (requiredGroup.name === userGroup.name) {\n        return true;\n      }\n    });\n  });\n  return groupMatch;\n};\n","import React from 'react';\nimport { Iterable } from 'immutable';\n\nexport const toJS = WrappedComponent => wrappedComponentProps => {\n  const KEY = 0;\n  const VALUE = 1;\n\n  const propsJS = Object.entries(wrappedComponentProps).reduce(\n    (newProps, wrappedComponentProp) => {\n      newProps[wrappedComponentProp[KEY]] = Iterable.isIterable(\n        wrappedComponentProp[VALUE]\n      )\n        ? wrappedComponentProp[VALUE].toJS()\n        : wrappedComponentProp[VALUE];\n      return newProps;\n    },\n    {}\n  );\n\n  return <WrappedComponent {...propsJS} />;\n};\n"],"names":["selectUserIsLoading","state","getIn","selectUserIsAuthenticated","selectUserAuthenticationError","selectUserAuthenticationErrorMessage","selectUserError","selectUserErrorMessage","selectClientCredentials","selectUser","selectUserIsZengentiStaff","selectUserGuid","selectUsername","selectUserEmail","selectUserGroups","selectUserSecurityToken","selectUserRegistration","Map","selectUserRegistrationError","selectUserRegistrationIsLoading","selectUserRegistrationIsSuccess","selectPasswordResetRequestSending","selectPasswordResetRequestSent","selectPasswordResetRequestError","selectResetPasswordSending","selectResetPasswordSent","selectResetPasswordError","selectChangePasswordSending","selectChangePasswordSent","selectChangePasswordError","matchUserGroup","userGroups","requiredGroups","Array","isArray","length","groupMatch","some","requiredGroup","userGroup","id","name","toJS","WrappedComponent","wrappedComponentProps","KEY","VALUE","propsJS","Object","entries","reduce","newProps","wrappedComponentProp","Iterable","isIterable"],"mappings":"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"}