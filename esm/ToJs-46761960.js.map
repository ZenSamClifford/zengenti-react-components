{"version":3,"file":"ToJs-46761960.js","sources":["../src/user/redux/selectors.ts","../src/user/util/matchGroups.ts","../src/util/ToJs.tsx"],"sourcesContent":["import { AppState } from '~/redux/appstate';\nimport { getImmutableOrJS as getIn } from '~/redux/util';\n\nexport const selectUserIsLoading = (state: AppState) =>\n  getIn(state, ['authenticationState', 'loading']);\n\nexport const selectUserIsAuthenticated = (state: AppState) =>\n  getIn(state, ['authenticationState', 'authenticated']);\n\nexport const selectUserAuthenticationError = (state: AppState) =>\n  getIn(state, ['authenticationState', 'authenticationError']);\n\nexport const selectUserAuthenticationErrorMessage = (state: AppState) =>\n  getIn(state, ['authenticationState', 'authenticationErrorMessage']);\n\nexport const selectUserError = (state: AppState) =>\n  getIn(state, ['authenticationState', 'error']);\n\nexport const selectUserErrorMessage = (state: AppState) =>\n  getIn(state, ['authenticationState', 'errorMessage']);\n\nexport const selectClientCredentials = (state: AppState) =>\n  getIn(state, ['authenticationState', 'clientCredentials']);\n\nexport const selectUser = (state: AppState) => getIn(state, 'user');\n\nexport const selectUserIsZengentiStaff = (state: AppState) =>\n  getIn(state, ['isZengentiStaff']);\n\nexport const selectUserGuid = (state: AppState) => getIn(state, ['id']);\n\nexport const selectUsername = (state: AppState) => getIn(state, ['username']);\n\nexport const selectUserEmail = (state: AppState) => getIn(state, ['email']);\n\nexport const selectUserGroups = (state: AppState) => getIn(state, ['groups']);\n\nexport const selectUserSecurityToken = (state: AppState) =>\n  getIn(state, [\n    'authenticationState',\n    'clientCredentials',\n    'contensisClassicToken',\n  ]);\n\nexport const selectUserRegistration = (state: AppState) =>\n  getIn(state, ['registration'], {});\n\nexport const selectUserRegistrationError = (state: AppState) =>\n  getIn(state, ['registration', 'error'], false);\n\nexport const selectUserRegistrationIsLoading = (state: AppState) =>\n  getIn(state, ['registration', 'loading'], false);\n\nexport const selectUserRegistrationIsSuccess = (state: AppState) =>\n  getIn(state, ['registration', 'success'], false);\n\nexport const selectPasswordResetRequestSending = (state: AppState) =>\n  getIn(state, ['passwordResetRequest', 'isSending']);\n\nexport const selectPasswordResetRequestSent = (state: AppState) =>\n  getIn(state, ['passwordResetRequest', 'sent']);\n\nexport const selectPasswordResetRequestError = (state: AppState) =>\n  getIn(state, ['passwordResetRequest', 'error']);\n\nexport const selectResetPasswordSending = (state: AppState) =>\n  getIn(state, ['resetPassword', 'isSending']);\n\nexport const selectResetPasswordSent = (state: AppState) =>\n  getIn(state, ['resetPassword', 'sent']);\n\nexport const selectResetPasswordError = (state: AppState) =>\n  getIn(state, ['resetPassword', 'error']);\n\nexport const selectChangePasswordSending = (state: AppState) =>\n  getIn(state, ['changePassword', 'isSending']);\n\nexport const selectChangePasswordSent = (state: AppState) =>\n  getIn(state, ['changePassword', 'sent']);\n\nexport const selectChangePasswordError = (state: AppState) =>\n  getIn(state, ['changePassword', 'error']);\n","import { Group } from 'contensis-management-api/lib/models';\nimport { RequireLogin } from '~/routing/routes';\n\nexport const matchUserGroup = (\n  userGroups: Group[] = [],\n  requiredGroups: RequireLogin = []\n) => {\n  if (\n    !Array.isArray(requiredGroups) ||\n    (Array.isArray(requiredGroups) && requiredGroups.length === 0)\n  )\n    return true;\n\n  const groupMatch = requiredGroups.some(requiredGroup => {\n    return userGroups.some(userGroup => {\n      if (requiredGroup.id === userGroup.id) {\n        return true;\n      }\n      if (requiredGroup.name === userGroup.name) {\n        return true;\n      }\n    });\n  });\n  return groupMatch;\n};\n","/* eslint-disable react/display-name */\n/* eslint-disable @typescript-eslint/naming-convention */\nimport React from 'react';\n\nexport const toJS =\n  <Props extends { [key: string]: any }>(\n    WrappedComponent: React.ComponentType<Props>\n  ): React.ComponentType<Props> =>\n  (wrappedComponentProps: Props) => {\n    const KEY = 0;\n    const VALUE = 1;\n\n    const propsJS = Object.entries(wrappedComponentProps).reduce<Props>(\n      (newProps: any, wrappedComponentProp) => {\n        const propKey = wrappedComponentProp[KEY];\n        const propValue = wrappedComponentProp[VALUE];\n        newProps[propKey] =\n          propValue && typeof propValue === 'object' && 'toJS' in propValue\n            ? propValue.toJS()\n            : propValue;\n        return newProps as Props;\n      },\n      {} as Props\n    );\n\n    return <WrappedComponent {...propsJS} />;\n  };\n"],"names":["selectUserIsLoading","state","getIn","selectUserIsAuthenticated","selectUserAuthenticationError","selectUserAuthenticationErrorMessage","selectUserError","selectUserErrorMessage","selectClientCredentials","selectUser","selectUserIsZengentiStaff","selectUserGuid","selectUsername","selectUserEmail","selectUserGroups","selectUserSecurityToken","selectUserRegistration","selectUserRegistrationError","selectUserRegistrationIsLoading","selectUserRegistrationIsSuccess","selectPasswordResetRequestSending","selectPasswordResetRequestSent","selectPasswordResetRequestError","selectResetPasswordSending","selectResetPasswordSent","selectResetPasswordError","selectChangePasswordSending","selectChangePasswordSent","selectChangePasswordError","matchUserGroup","userGroups","requiredGroups","Array","isArray","length","groupMatch","some","requiredGroup","userGroup","id","name","toJS","WrappedComponent","wrappedComponentProps","KEY","VALUE","propsJS","Object","entries","reduce","newProps","wrappedComponentProp","propKey","propValue"],"mappings":"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"}