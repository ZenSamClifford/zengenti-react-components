{"version":3,"file":"user.js","sources":["../src/app/features/login/redux/actions.js","../src/app/features/login/containers/withLogin.js","../src/app/features/login/containers/useLogin.js","../src/app/features/login/containers/Login.container.js"],"sourcesContent":["import { action } from '~/core/util/helpers';\r\nimport {\r\n  LOGIN_USER,\r\n  LOGOUT_USER,\r\n  // TOGGLE_LOGIN_MODE,\r\n  CREATE_USER_ACCOUNT,\r\n  // VALIDATE_USER,\r\n} from './types';\r\n\r\nexport const loginUser = (username, password) =>\r\n  action(LOGIN_USER, { username, password });\r\n// export const validateUser = cookies => action(VALIDATE_USER, { cookies });\r\nexport const logoutUser = redirectPath => action(LOGOUT_USER, { redirectPath });\r\n// export const toggleLoginMode = () => action(TOGGLE_LOGIN_MODE);\r\nexport const createUserAccount = (\r\n  firstName,\r\n  lastName,\r\n  email,\r\n  password,\r\n  passwordConfirm\r\n) =>\r\n  action(CREATE_USER_ACCOUNT, {\r\n    firstName,\r\n    lastName,\r\n    email,\r\n    password,\r\n    passwordConfirm,\r\n  });\r\n","import { connect } from 'react-redux';\r\nimport { loginUser, logoutUser } from '../redux/actions';\r\nimport {\r\n  selectUser,\r\n  selectUserAuthenticationError,\r\n  selectUserError,\r\n  selectUserIsAuthenticated,\r\n  selectUserIsLoading,\r\n} from '../redux/selectors';\r\nimport { toJS } from '~/core/util/ToJs';\r\n\r\nconst getDisplayName = WrappedComponent => {\r\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\r\n};\r\n\r\nconst withLogin = WrappedComponent => {\r\n  // Returns a redux-connected component with the following props:\r\n  // this.propTypes = {\r\n  //   loading: PropTypes.bool,\r\n  //   authenticated: PropTypes.bool,\r\n  //   authenticationError: PropTypes.bool,\r\n  //   error: PropTypes.bool,\r\n  //   user: PropTypes.object,\r\n  //   logoutUser: PropTypes.func,\r\n  //   isHeaderLogin: PropTypes.bool,\r\n  // };\r\n\r\n  const mapStateToProps = state => {\r\n    return {\r\n      authenticationError: selectUserAuthenticationError(state),\r\n      error: selectUserError(state),\r\n      isAuthenticated: selectUserIsAuthenticated(state),\r\n      isLoading: selectUserIsLoading(state),\r\n      user: selectUser(state),\r\n    };\r\n  };\r\n\r\n  const mapDispatchToProps = {\r\n    loginUser,\r\n    logoutUser,\r\n    // toggleLoginMode,\r\n    // forgotPassword,\r\n    // changePassword,\r\n    // changePasswordWithToken,\r\n    // captchaResponse: setRecaptchaResponse,\r\n  };\r\n\r\n  const ConnectedComponent = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(toJS(WrappedComponent));\r\n\r\n  ConnectedComponent.displayName = `${getDisplayName(WrappedComponent)}`;\r\n\r\n  return ConnectedComponent;\r\n};\r\n\r\nexport default withLogin;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport { createUserAccount, loginUser, logoutUser } from '../redux/actions';\r\nimport {\r\n  selectUser,\r\n  selectUserAuthenticationError,\r\n  selectUserError,\r\n  selectUserIsAuthenticated,\r\n  selectUserIsLoading,\r\n} from '../redux/selectors';\r\n\r\nconst useLogin = () => {\r\n  const dispatch = useDispatch();\r\n  const select = useSelector;\r\n\r\n  return {\r\n    loginUser: (username, password) => dispatch(loginUser(username, password)),\r\n    logoutUser: redirectPath => dispatch(logoutUser(redirectPath)),\r\n    registerUser: (firstName, lastName, email, password, passwordConfirm) =>\r\n      dispatch(\r\n        createUserAccount(firstName, lastName, email, password, passwordConfirm)\r\n      ),\r\n    authenticationError: select(selectUserAuthenticationError),\r\n    error: select(selectUserError),\r\n    isAuthenticated: select(selectUserIsAuthenticated),\r\n    isLoading: select(selectUserIsLoading),\r\n    user: select(selectUser).toJS(),\r\n  };\r\n};\r\n\r\nexport default useLogin;\r\n","import useLogin from './useLogin';\r\nimport { toJS } from '~/core/util/ToJs';\r\n\r\nconst LoginContainer = ({ children, ...props }) => {\r\n  const userProps = useLogin(props);\r\n  return children(userProps);\r\n};\r\n\r\nLoginContainer.propTypes = {};\r\n\r\nexport default toJS(LoginContainer);\r\n"],"names":["loginUser","username","password","action","LOGIN_USER","logoutUser","redirectPath","LOGOUT_USER","createUserAccount","firstName","lastName","email","passwordConfirm","CREATE_USER_ACCOUNT","getDisplayName","WrappedComponent","displayName","name","withLogin","mapStateToProps","state","authenticationError","selectUserAuthenticationError","error","selectUserError","isAuthenticated","selectUserIsAuthenticated","isLoading","selectUserIsLoading","user","selectUser","mapDispatchToProps","ConnectedComponent","connect","toJS","useLogin","dispatch","useDispatch","select","useSelector","registerUser","LoginContainer","children","props","userProps","propTypes"],"mappings":"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"}