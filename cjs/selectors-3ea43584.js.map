{"version":3,"file":"selectors-3ea43584.js","sources":["../src/redux/util.ts","../src/util/navigation.js","../src/routing/redux/selectors.js"],"sourcesContent":["export const action = (type: string, payload: any = {}) => ({\r\n  type,\r\n  ...payload,\r\n});\r\n\r\nexport const getJS = <S extends Record<string, unknown>, T extends keyof S>(\r\n  state: S,\r\n  stateKey: T\r\n) => {\r\n  if ('get' in state && typeof state.get === 'function') {\r\n    const result = state.get(stateKey);\r\n    if ('toJS' in result && typeof result.toJS === 'function')\r\n      return result.toJS() as S[T];\r\n    return result as S[T];\r\n  }\r\n  return state[stateKey];\r\n};\r\n","import queryString from 'query-string';\r\n\r\nexport function queryParams(search) {\r\n  return queryString.parse(\r\n    typeof window != 'undefined' ? window.location.search : search\r\n  );\r\n}\r\nexport const routeParams = staticRoute =>\r\n  staticRoute && staticRoute.match ? staticRoute.match.params : {};\r\n\r\nexport const buildUrl = (route, params) => {\r\n  const qs = queryString.stringify(params);\r\n  const path = qs ? `${route}?${qs}` : route;\r\n  return path;\r\n};\r\n\r\nexport const clientHostname = () =>\r\n  `${window.location.protocol}//${window.location.hostname}:${window.location.port}`;\r\n","import { List, Map } from 'immutable';\r\nimport { queryParams } from '~/util/navigation';\r\n\r\nexport const selectRouteEntry = state => {\r\n  return state.getIn(['routing', 'entry'], Map());\r\n};\r\nexport const selectMappedEntry = state => {\r\n  return state.getIn(['routing', 'mappedEntry'], null);\r\n};\r\nexport const selectNodeDepends = state => {\r\n  return state.getIn(['routing', 'nodeDepends'], List());\r\n};\r\nexport const selectCurrentHostname = state => {\r\n  return state.getIn(['routing', 'currentHostname']);\r\n};\r\nexport const selectCurrentTreeID = state => {\r\n  return state.getIn(['routing', 'currentTreeId']);\r\n};\r\nexport const selectRouteEntryEntryId = state => {\r\n  return state.getIn(['routing', 'entry', 'sys', 'id'], null);\r\n};\r\nexport const selectRouteEntryContentTypeId = state => {\r\n  const entry = selectRouteEntry(state);\r\n  return entry && entry.getIn(['sys', 'contentTypeId'], null);\r\n};\r\nexport const selectRouteEntryLanguage = state => {\r\n  return state.getIn(['routing', 'entry', 'sys', 'language'], null);\r\n};\r\nexport const selectRouteEntrySlug = state => {\r\n  return state.getIn(['routing', 'entry', 'sys', 'slug'], null);\r\n};\r\nexport const selectRouteEntryID = state => {\r\n  return state.getIn(['routing', 'entryID']);\r\n};\r\nexport const selectCurrentPath = state => {\r\n  return state.getIn(['routing', 'currentPath']);\r\n};\r\nexport const selectCurrentSearch = state => {\r\n  return state.getIn(['routing', 'location', 'search']);\r\n};\r\nexport const selectCurrentHash = state => {\r\n  return state.getIn(['routing', 'location', 'hash']);\r\n};\r\nexport const selectQueryStringAsObject = state =>\r\n  queryParams(selectCurrentSearch(state));\r\nexport const selectCurrentProject = state => {\r\n  return state.getIn(['routing', 'currentProject']);\r\n};\r\nexport const selectIsNotFound = state => {\r\n  return state.getIn(['routing', 'notFound']);\r\n};\r\nexport const selectCurrentAncestors = state => {\r\n  return state.getIn(['routing', 'currentNodeAncestors'], List());\r\n};\r\nexport const selectCurrentSiblings = state => {\r\n  return state.getIn(['routing', 'currentNodeSiblings'], List());\r\n};\r\nexport const selectCurrentNode = state => {\r\n  return state.getIn(['routing', 'currentNode']);\r\n};\r\nexport const selectCurrentChildren = state => {\r\n  return state.getIn(['routing', 'currentNode', 'children'], List());\r\n};\r\nexport const selectBreadcrumb = state => {\r\n  return (selectCurrentAncestors(state) || List()).push(\r\n    selectCurrentNode(state)\r\n  );\r\n};\r\nexport const selectRouteErrorMessage = state => {\r\n  const error = state.getIn(['routing', 'error']);\r\n  if (error && 'toJS' in error) {\r\n    return error.getIn(['data', 'message']) || error.get('statusText');\r\n  }\r\n};\r\nexport const selectRouteIsError = state => {\r\n  return state.getIn(['routing', 'isError']);\r\n};\r\nexport const selectRouteLoading = state => {\r\n  return state.getIn(['routing', 'isLoading']);\r\n};\r\nexport const selectRouteStatusCode = state => {\r\n  return state.getIn(['routing', 'statusCode']);\r\n};\r\n"],"names":["action","type","payload","getJS","state","stateKey","get","result","toJS","queryParams","search","queryString","parse","window","location","selectRouteEntry","getIn","Map","selectMappedEntry","selectNodeDepends","List","selectCurrentHostname","selectCurrentTreeID","selectRouteEntryEntryId","selectRouteEntryContentTypeId","entry","selectRouteEntryLanguage","selectRouteEntrySlug","selectRouteEntryID","selectCurrentPath","selectCurrentSearch","selectCurrentHash","selectQueryStringAsObject","selectCurrentProject","selectIsNotFound","selectCurrentAncestors","selectCurrentSiblings","selectCurrentNode","selectCurrentChildren","selectBreadcrumb","push","selectRouteErrorMessage","error","selectRouteIsError","selectRouteLoading","selectRouteStatusCode"],"mappings":"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"}