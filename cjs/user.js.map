{"version":3,"file":"user.js","sources":["../src/user/redux/actions.js","../src/user/hooks/useLogin.js","../src/user/containers/Login.container.js","../src/user/hooks/useRegistration.js","../src/user/containers/Registration.container.js","../src/user/hooks/useForgotPassword.js","../src/user/containers/ForgotPassword.container.js","../src/user/hooks/useChangePassword.js","../src/user/containers/ChangePassword.container.js","../src/user/hocs/withLogin.js","../src/user/hocs/withRegistration.js"],"sourcesContent":["import { action } from '~/redux/util';\nimport {\n  CHANGE_USER_PASSWORD,\n  LOGIN_USER,\n  LOGOUT_USER,\n  REGISTER_USER,\n  REQUEST_USER_PASSWORD_RESET,\n  RESET_USER_PASSWORD,\n} from './types';\n\nexport const loginUser = (username, password) =>\n  action(LOGIN_USER, { username, password });\n\nexport const logoutUser = redirectPath => action(LOGOUT_USER, { redirectPath });\n\nexport const registerUser = (user, mappers) =>\n  action(REGISTER_USER, {\n    user,\n    mappers,\n  });\n\nexport const requestPasswordReset = userEmailObject =>\n  action(REQUEST_USER_PASSWORD_RESET, { userEmailObject });\n\nexport const resetPassword = resetPasswordObject =>\n  action(RESET_USER_PASSWORD, { resetPasswordObject });\n\nexport const changePassword = (userId, currentPassword, newPassword) =>\n  action(CHANGE_USER_PASSWORD, { userId, currentPassword, newPassword });\n","import { useDispatch, useSelector } from 'react-redux';\nimport { loginUser, logoutUser } from '../redux/actions';\nimport {\n  selectUser,\n  selectUserAuthenticationError,\n  selectUserAuthenticationErrorMessage,\n  selectUserError,\n  selectUserErrorMessage,\n  selectUserIsAuthenticated,\n  selectUserIsLoading,\n} from '../redux/selectors';\n\nconst useLogin = () => {\n  const dispatch = useDispatch();\n  const select = useSelector;\n\n  return {\n    loginUser: (username, password) => dispatch(loginUser(username, password)),\n    logoutUser: redirectPath => dispatch(logoutUser(redirectPath)),\n    authenticationError: select(selectUserAuthenticationError),\n    authenticationErrorMessage: select(selectUserAuthenticationErrorMessage),\n    error: select(selectUserError),\n    errorMessage: select(selectUserErrorMessage),\n    isAuthenticated: select(selectUserIsAuthenticated),\n    isLoading: select(selectUserIsLoading),\n    user: select(selectUser),\n  };\n};\n\nexport default useLogin;\n","import useLogin from '../hooks/useLogin';\nimport { toJS } from '~/util/ToJs';\n\nconst LoginContainer = ({ children, ...props }) => {\n  const userProps = useLogin(props);\n  return children(userProps);\n};\n\nLoginContainer.propTypes = {};\n\nexport default toJS(LoginContainer);\n","import { useDispatch, useSelector } from 'react-redux';\nimport { registerUser } from '../redux/actions';\nimport {\n  selectUserRegistration,\n  selectUserRegistrationError,\n  selectUserRegistrationIsLoading,\n  selectUserRegistrationIsSuccess,\n} from '../redux/selectors';\n\nconst useRegistration = () => {\n  const dispatch = useDispatch();\n  const select = useSelector;\n\n  return {\n    registerUser: (user, mappers) => dispatch(registerUser(user, mappers)),\n    error: select(selectUserRegistrationError),\n    isLoading: select(selectUserRegistrationIsLoading),\n    isSuccess: select(selectUserRegistrationIsSuccess),\n    user: select(selectUserRegistration),\n  };\n};\n\nexport default useRegistration;\n","import useRegistration from '../hooks/useRegistration';\nimport { toJS } from '~/util/ToJs';\n\nconst RegistrationContainer = ({ children, ...props }) => {\n  const userProps = useRegistration(props);\n  return children(userProps);\n};\n\nRegistrationContainer.propTypes = {};\n\nexport default toJS(RegistrationContainer);\n","import { useDispatch, useSelector } from 'react-redux';\nimport { requestPasswordReset, resetPassword } from '../redux/actions';\nimport {\n  selectPasswordResetRequestError,\n  selectPasswordResetRequestSending,\n  selectPasswordResetRequestSent,\n  selectResetPasswordSending,\n  selectResetPasswordSent,\n  selectResetPasswordError,\n} from '../redux/selectors';\nimport { selectCurrentSearch } from '~/routing/redux/selectors';\n\nconst useForgotPassword = () => {\n  const dispatch = useDispatch();\n  const select = useSelector;\n\n  return {\n    isLoading: select(selectPasswordResetRequestSending),\n    isSuccess: select(selectPasswordResetRequestSent),\n    error: select(selectPasswordResetRequestError),\n    requestPasswordReset: userEmailObject =>\n      dispatch(requestPasswordReset(userEmailObject)),\n\n    setNewPassword: {\n      queryString: select(selectCurrentSearch),\n      isLoading: select(selectResetPasswordSending),\n      isSuccess: select(selectResetPasswordSent),\n      error: select(selectResetPasswordError),\n      submit: resetPasswordObject =>\n        dispatch(resetPassword(resetPasswordObject)),\n    },\n  };\n};\n\nexport default useForgotPassword;\n","import useForgotPassword from '../hooks/useForgotPassword';\nimport { toJS } from '~/util/ToJs';\n\nconst ForgotPasswordContainer = ({ children, ...props }) => {\n  const userProps = useForgotPassword(props);\n  return children(userProps);\n};\n\nForgotPasswordContainer.propTypes = {};\n\nexport default toJS(ForgotPasswordContainer);\n","import { useDispatch, useSelector } from 'react-redux';\nimport { changePassword } from '../redux/actions';\nimport {\n  selectChangePasswordSending,\n  selectChangePasswordSent,\n  selectChangePasswordError,\n  selectUserIsAuthenticated,\n  selectUserGuid,\n} from '../redux/selectors';\n\nconst useChangePassword = () => {\n  const dispatch = useDispatch();\n  const select = useSelector;\n\n  return {\n    isLoading: select(selectChangePasswordSending),\n    isSuccess: select(selectChangePasswordSent),\n    userId: select(selectUserGuid),\n    isLoggedIn: select(selectUserIsAuthenticated),\n    error: select(selectChangePasswordError),\n    changePassword: (userId, currentPassword, newPassword) =>\n      dispatch(changePassword(userId, currentPassword, newPassword)),\n  };\n};\n\nexport default useChangePassword;\n","import useChangePassword from '../hooks/useChangePassword';\nimport { toJS } from '~/util/ToJs';\n\nconst ChangePasswordContainer = ({ children, ...props }) => {\n  const userProps = useChangePassword(props);\n  return children(userProps);\n};\n\nChangePasswordContainer.propTypes = {};\n\nexport default toJS(ChangePasswordContainer);\n","import { connect } from 'react-redux';\nimport { loginUser, logoutUser } from '../redux/actions';\nimport {\n  selectUser,\n  selectUserAuthenticationError,\n  selectUserError,\n  selectUserIsAuthenticated,\n  selectUserIsLoading,\n} from '../redux/selectors';\nimport { toJS } from '~/util/ToJs';\n\nconst getDisplayName = WrappedComponent => {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n};\n\nconst withLogin = WrappedComponent => {\n  const mapStateToProps = state => {\n    return {\n      authenticationError: selectUserAuthenticationError(state),\n      error: selectUserError(state),\n      isAuthenticated: selectUserIsAuthenticated(state),\n      isLoading: selectUserIsLoading(state),\n      user: selectUser(state),\n    };\n  };\n\n  const mapDispatchToProps = {\n    loginUser,\n    logoutUser,\n  };\n\n  const ConnectedComponent = connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(toJS(WrappedComponent));\n\n  ConnectedComponent.displayName = `${getDisplayName(WrappedComponent)}`;\n\n  return ConnectedComponent;\n};\n\nexport default withLogin;\n","import { connect } from 'react-redux';\nimport { registerUser } from '../redux/actions';\nimport {\n  selectUserRegistration,\n  selectUserRegistrationError,\n  selectUserRegistrationIsLoading,\n  selectUserRegistrationIsSuccess,\n} from '../redux/selectors';\nimport { toJS } from '~/util/ToJs';\n\nconst getDisplayName = WrappedComponent => {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n};\n\nconst withRegistration = WrappedComponent => {\n  const mapStateToProps = state => {\n    return {\n      error: selectUserRegistrationError(state),\n      isLoading: selectUserRegistrationIsLoading(state),\n      isSuccess: selectUserRegistrationIsSuccess(state),\n      user: selectUserRegistration(state),\n    };\n  };\n\n  const mapDispatchToProps = {\n    registerUser,\n  };\n\n  const ConnectedComponent = connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(toJS(WrappedComponent));\n\n  ConnectedComponent.displayName = `${getDisplayName(WrappedComponent)}`;\n\n  return ConnectedComponent;\n};\n\nexport default withRegistration;\n"],"names":["loginUser","username","password","action","LOGIN_USER","logoutUser","redirectPath","LOGOUT_USER","registerUser","user","mappers","REGISTER_USER","requestPasswordReset","userEmailObject","REQUEST_USER_PASSWORD_RESET","resetPassword","resetPasswordObject","RESET_USER_PASSWORD","changePassword","userId","currentPassword","newPassword","CHANGE_USER_PASSWORD","useLogin","dispatch","useDispatch","select","useSelector","authenticationError","selectUserAuthenticationError","authenticationErrorMessage","selectUserAuthenticationErrorMessage","error","selectUserError","errorMessage","selectUserErrorMessage","isAuthenticated","selectUserIsAuthenticated","isLoading","selectUserIsLoading","selectUser","LoginContainer","children","props","userProps","propTypes","toJS","useRegistration","selectUserRegistrationError","selectUserRegistrationIsLoading","isSuccess","selectUserRegistrationIsSuccess","selectUserRegistration","RegistrationContainer","useForgotPassword","selectPasswordResetRequestSending","selectPasswordResetRequestSent","selectPasswordResetRequestError","setNewPassword","queryString","selectCurrentSearch","selectResetPasswordSending","selectResetPasswordSent","selectResetPasswordError","submit","ForgotPasswordContainer","useChangePassword","selectChangePasswordSending","selectChangePasswordSent","selectUserGuid","isLoggedIn","selectChangePasswordError","ChangePasswordContainer","getDisplayName","WrappedComponent","displayName","name","withLogin","mapStateToProps","state","mapDispatchToProps","ConnectedComponent","connect","withRegistration"],"mappings":"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"}