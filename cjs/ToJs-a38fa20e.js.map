{"version":3,"file":"ToJs-a38fa20e.js","sources":["../src/user/redux/selectors.ts","../src/user/util/matchGroups.ts","../src/util/ToJs.tsx"],"sourcesContent":["import { AppState } from '~/redux/appstate';\nimport { getJS } from '~/redux/util';\n\nconst select = (state: AppState) => getJS(state, 'user');\n\nexport const selectUserIsLoading = (state: AppState) =>\n  select(state)?.authenticationState?.loading;\n\nexport const selectUserIsAuthenticated = (state: AppState) =>\n  select(state)?.authenticationState?.authenticated;\n\nexport const selectUserAuthenticationError = (state: AppState) =>\n  select(state)?.authenticationState?.authenticationError;\n\nexport const selectUserAuthenticationErrorMessage = (state: AppState) =>\n  select(state)?.authenticationState?.authenticationErrorMessage;\n\nexport const selectUserError = (state: AppState) =>\n  select(state)?.authenticationState?.error;\n\nexport const selectUserErrorMessage = (state: AppState) =>\n  select(state)?.authenticationState?.errorMessage;\n\nexport const selectClientCredentials = (state: AppState) =>\n  select(state)?.authenticationState?.clientCredentials;\n\nexport const selectUser = (state: AppState) => state?.user;\n\nexport const selectUserIsZengentiStaff = (state: AppState) =>\n  select(state)?.isZengentiStaff;\n\nexport const selectUserGuid = (state: AppState) => select(state)?.id;\n\nexport const selectUsername = (state: AppState) => select(state)?.username;\n\nexport const selectUserEmail = (state: AppState) => select(state)?.email;\n\nexport const selectUserGroups = (state: AppState) => select(state)?.groups;\n\nexport const selectUserSecurityToken = (state: AppState) =>\n  select(state)?.authenticationState?.clientCredentials?.contensisClassicToken;\n\nexport const selectUserRegistration = (state: AppState) =>\n  select(state)?.registration || {};\n\nexport const selectUserRegistrationError = (state: AppState) =>\n  select(state)?.registration?.error || false;\n\nexport const selectUserRegistrationIsLoading = (state: AppState) =>\n  select(state)?.registration?.loading || false;\n\nexport const selectUserRegistrationIsSuccess = (state: AppState) =>\n  select(state)?.registration?.success || false;\n\nexport const selectPasswordResetRequestSending = (state: AppState) =>\n  select(state)?.passwordResetRequest?.isSending;\n\nexport const selectPasswordResetRequestSent = (state: AppState) =>\n  select(state)?.passwordResetRequest?.sent;\n\nexport const selectPasswordResetRequestError = (state: AppState) =>\n  select(state)?.passwordResetRequest?.error;\n\nexport const selectResetPasswordSending = (state: AppState) =>\n  select(state)?.resetPassword?.isSending;\n\nexport const selectResetPasswordSent = (state: AppState) =>\n  select(state)?.resetPassword?.sent;\n\nexport const selectResetPasswordError = (state: AppState) =>\n  select(state)?.resetPassword?.error;\n\nexport const selectChangePasswordSending = (state: AppState) =>\n  select(state)?.changePassword?.isSending;\n\nexport const selectChangePasswordSent = (state: AppState) =>\n  select(state)?.changePassword?.sent;\n\nexport const selectChangePasswordError = (state: AppState) =>\n  select(state)?.changePassword?.error;\n","import { Group } from 'contensis-management-api/lib/models';\nimport { RequireLogin } from '~/routing/routes';\n\nexport const matchUserGroup = (\n  userGroups: Group[] = [],\n  requiredGroups: RequireLogin = []\n) => {\n  if (\n    !Array.isArray(requiredGroups) ||\n    (Array.isArray(requiredGroups) && requiredGroups.length === 0)\n  )\n    return true;\n\n  const groupMatch = requiredGroups.some(requiredGroup => {\n    return userGroups.some(userGroup => {\n      if (requiredGroup.id === userGroup.id) {\n        return true;\n      }\n      if (requiredGroup.name === userGroup.name) {\n        return true;\n      }\n    });\n  });\n  return groupMatch;\n};\n","/* eslint-disable react/display-name */\n/* eslint-disable @typescript-eslint/naming-convention */\nimport React from 'react';\n\nexport const toJS =\n  <Props extends { [key: string]: any }>(\n    WrappedComponent: React.ComponentType<Props>\n  ): React.ComponentType<Props> =>\n  (wrappedComponentProps: Props) => {\n    const KEY = 0;\n    const VALUE = 1;\n\n    const propsJS = Object.entries(wrappedComponentProps).reduce<Props>(\n      (newProps: any, wrappedComponentProp) => {\n        const propKey = wrappedComponentProp[KEY];\n        const propValue = wrappedComponentProp[VALUE];\n        newProps[propKey] =\n          propValue && typeof propValue === 'object' && 'toJS' in propValue\n            ? propValue.toJS()\n            : propValue;\n        return newProps as Props;\n      },\n      {} as Props\n    );\n\n    return <WrappedComponent {...propsJS} />;\n  };\n"],"names":["select","state","getJS","selectUserIsLoading","authenticationState","loading","selectUserIsAuthenticated","authenticated","selectUserAuthenticationError","authenticationError","selectUserAuthenticationErrorMessage","authenticationErrorMessage","selectUserError","error","selectUserErrorMessage","errorMessage","selectClientCredentials","clientCredentials","selectUser","user","selectUserIsZengentiStaff","isZengentiStaff","selectUserGuid","id","selectUsername","username","selectUserEmail","email","selectUserGroups","groups","selectUserSecurityToken","contensisClassicToken","selectUserRegistration","registration","selectUserRegistrationError","selectUserRegistrationIsLoading","selectUserRegistrationIsSuccess","success","selectPasswordResetRequestSending","passwordResetRequest","isSending","selectPasswordResetRequestSent","sent","selectPasswordResetRequestError","selectResetPasswordSending","resetPassword","selectResetPasswordSent","selectResetPasswordError","selectChangePasswordSending","changePassword","selectChangePasswordSent","selectChangePasswordError","matchUserGroup","userGroups","requiredGroups","Array","isArray","length","groupMatch","some","requiredGroup","userGroup","name","toJS","WrappedComponent","wrappedComponentProps","KEY","VALUE","propsJS","Object","entries","reduce","newProps","wrappedComponentProp","propKey","propValue","React"],"mappings":"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"}