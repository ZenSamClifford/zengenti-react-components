{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/app/features/login/redux/types.js","webpack:///./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js","webpack:///external \"immutable\"","webpack:///./src/app/core/redux/types/routing.js","webpack:///./src/app/core/util/helpers.js","webpack:///external \"contensis-delivery-api\"","webpack:///./src/app/features/login/redux/selectors.js","webpack:///external \"react\"","webpack:///./src/app/core/redux/selectors/routing.js","webpack:///external \"prop-types\"","webpack:///./src/app/features/login/util/CookieHelper.class.js","webpack:///./src/app/features/login/util/LoginHelper.class.js","webpack:///./src/app/features/login/util/SecurityApi.class.js","webpack:///external \"query-string\"","webpack:///./src/app/core/util/ContensisDeliveryApi.js","webpack:///./src/app/features/login/redux/reducers.js","webpack:///./src/app/core/redux/types/navigation.js","webpack:///external \"react-redux\"","webpack:///./src/app/features/login/redux/actions.js","webpack:///./src/app/features/login/components/withLogin.js","webpack:///./src/app/features/login/index.js","webpack:///./src/app/core/redux/actions/routing.js","webpack:///external \"react-router-dom\"","webpack:///./src/app/core/redux/types/version.js","webpack:///./src/app/core/util/navigation.js","webpack:///./src/app/core/util/ToJs.js","webpack:///./src/app/features/login/redux/sagas.js","webpack:///external \"@redux-saga/core/effects\"","webpack:///external \"js-cookie\"","webpack:///external \"react-router-config\"","webpack:///external \"react-hot-loader\"","webpack:///external \"redux\"","webpack:///./src/app/core/redux/reducers/routing.js","webpack:///./src/app/core/redux/reducers/version.js","webpack:///./src/app/core/redux/reducers/navigation.js","webpack:///./src/app/core/redux/routerMiddleware.js","webpack:///./src/app/core/redux/store.js","webpack:///./src/app/core/redux/selectors/version.js","webpack:///./src/app/core/redux/selectors/navigation.js","webpack:///external \"redux-saga\"","webpack:///./src/app/core/redux/actions/version.js","webpack:///external \"redux-immutable\"","webpack:///external \"redux-thunk\"","webpack:///./src/app/pages/NotFound.js","webpack:///./src/app/core/routes/Status.js","webpack:///external \"loglevel\"","webpack:///./src/app/core/routes/RouteLoader.js","webpack:///external \"react-loadable\"","webpack:///./src/app/core/redux/history.js","webpack:///external \"history\"","webpack:///./src/app/core/util/pickProject.js","webpack:///./src/app/core/schema.js","webpack:///./src/app/core/util/performance.js","webpack:///./src/app/core/search/util.js","webpack:///./src/app/core/search/expressions.js","webpack:///./src/app/core/redux/sagas/queries.js","webpack:///./src/app/core/redux/sagas/routing.js","webpack:///./src/app/core/redux/sagas/navigation.js","webpack:///./src/app/core/redux/sagas/index.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///external \"isomorphic-fetch\"","webpack:///./src/app/App.js","webpack:///external \"react-dom\"","webpack:///./src/app/lib-client.js","webpack:///./src/app/core/util/fromJSOrdered.js","webpack:///./src/client/client.js"],"names":["ACTION_PREFIX","UPDATE_USER","LOGIN_USER","LOGIN_SUCCESSFUL","LOGIN_FAILED","LOGOUT_USER","TOGGLE_LOGIN_MODE","CREATE_USER_ACCOUNT","VALIDATE_USER","VALIDATE_USER_SUCCESS","VALIDATE_USER_FAILED","FORGOT_USER_PASSWORD","FORGOT_USER_PASSWORD_COMPLETE","CHANGE_USER_PASSWORD","CHANGE_USER_PASSWORD_FAILED","CHANGE_USER_PASSWORD_COMPLETE","SET_RECAPTCHA_KEY","SET_RECAPTCHA_RESPONSE","ROUTING_PREFIX","GET_ENTRY","SET_ENTRY","SET_NODE","SET_ANCESTORS","SET_SIBLINGS","SET_ENTRY_ID","SET_SURROGATE_KEYS","SET_NAVIGATION_NOT_FOUND","SET_NAVIGATION_PATH","SET_TARGET_PROJECT","SET_ROUTE","CALL_HISTORY_METHOD","action","type","payload","getWebPImageUri","uri","formatedUri","indexOf","resizeImage","image","height","width","asset","sys","resizeImageUri","paramDelimeter","flattenArray","arr","reduce","acc","val","concat","filter","elem","pos","api","url","options","fetch","then","response","setTimeout","ok","Error","statusText","json","data","catch","error","dynamicSort","property","sortOrder","substr","a","b","result","randomString","length","text","possible","i","charAt","Math","floor","random","selectUser","state","get","selectUsername","getIn","selectUserLoggedIn","selectUserGroups","selectUserMessage","selectLoginScreenMode","selectPasswordMessage","selectChangePasswordMessage","selectCaptchaSiteKey","selectCaptchaData","selectCaptchaResponse","selectCaptchaToken","selectRouteEntry","Map","selectNodeDepends","List","selectCurrentTreeID","selectEntryDepends","selectRouteEntryEntryId","selectRouteEntryContentTypeId","entry","selectRouteEntrySlug","selectRouteEntryID","selectCurrentPath","selectCurrentSearch","selectCurrentHash","selectQueryStringAsObject","queryParams","selectCurrentProject","selectIsNotFound","selectCurrentAncestors","selectCurrentNode","selectBreadcrumb","push","selectRouteLoading","COOKIE_VALID_DAYS","_cookie","Cookies","withConverter","read","value","decodeURIComponent","write","encodeURIComponent","CookieHelper","GetCookie","name","SetCookie","maxAgeDays","set","expires","DeleteCookie","remove","LOGIN_COOKIE","LAST_USERNAME_COOKIE","DISPLAY_NAME_COOKIE","USER_LANGUAGE_COOKIE","AVATAR_COOKIE","LoginHelper","GetLoginCookie","SetLoginCookies","user","securityToken","username","GetCachedCredentials","displayName","languageId","avatar","GetCachedCredentialsSSR","cookies","ClearCachedCredentials","ValidateUser","groups","cached","SecurityApi","SecurityToken","logonResult","LogonResult","id","UserID","loginScreenMode","loggedIn","userWithGroups","GetGroups","LoginUser","password","loginResponse","LogonUser","failedLogin","CheckResult","userInfoResponse","GetUserInfo","JSON","parse","GroupCollection","errorMessage","map","group","GroupName","GroupId","fullName","Fullname","emailAddress","Email","LogoutUser","initialUserState","toJS","ClientRedirectToLogin","window","location","href","LoginPageUrl","pathname","search","ForgotPassword","currentUrl","protocol","host","passwordResponse","ChangePassword","oldPassword","newPassword","newPasswordConfirm","ValidatePassword","ChangePasswordWithToken","token","btoa","pword","test","Results","CMS_URL","SERVERS","cms","config","REGISTER_USER_URI","LOGON_USER_URI","VALIDATE_USER_URI","USER_INFO_URI","FORGOT_PASSWORD_URI","CHANGE_PASSWORD_URI","CHANGE_PASSWORD_TOKEN_URI","AUTH_CAPTCHA_URI","LOGIN_URL","REGISTER_USER_URL","LOGON_USER_URL","VALIDATE_USER_URL","USER_INFO_URL","BASE_OPTIONS","method","headers","AuthoriseRecaptcha","body","ip","applicationName","stringify","bodyToken","ContensisCMSUserName","RegisterUser","email","responseBody","storeSurrogateKeys","keys","reduxStore","dispatch","setSurrogateKeys","getClientConfig","project","DELIVERY_API_CONFIG","responseHandler","projectId","defaultHeaders","PROXY_DELIVERY_API","rootUrl","GetResponseGuids","object","Ids","Object","some","k","language","dataFormat","toLowerCase","subIds","GetAllResponseGuids","returnItems","unique","Set","DeliveryApi","getClientSideVersionStatus","currentHostname","hostname","getVersionStatusFromHostname","endsWith","query","linkDepth","env","client","Client","create","entries","getClient","deliveryApiStatus","baseConfig","versionStatus","getEntry","deliveryApi","CacheNode","constructor","key","next","prev","LruCache","limit","head","tail","size","node","setHead","CachedSearch","cache","taxonomyLookup","request","toString","clientConfig","getContentType","contentTypes","getTaxonomyNode","taxonomy","resolveChildren","extendTaxonomyNode","getRootNode","nodes","getRoot","getNode","path","getAncestors","getChildren","getSiblings","execute","promise","getTaxonomyId","children","n","parts","split","getTaxonomyKey","cachedSearch","passwordReset","passwordResetMessage","changePasswordMessage","recaptcha","isHuman","fromJS","newMode","loginMode","setIn","GET_NODE_TREE","SET_NODE_TREE","GET_NODE_TREE_ERROR","loginUser","validateUser","logoutUser","toggleLoginMode","createUserAccount","forgotPassword","changePassword","changePasswordWithToken","setRecaptchaKey","setRecaptchaResponse","getDisplayName","WrappedComponent","withLogin","mapStateToProps","userMessage","screenMode","passwordMessage","captchaSiteKey","isLoggedIn","currentPath","queryString","mapDispatchToProps","captchaResponse","ConnectedComponent","connect","setNotFound","notFound","setNavigationPath","staticRoute","withEvents","statePath","routes","setCurrentProject","allowedGroups","setRoute","setRouteEntry","VERSION_PREFIX","SET_VERSION","SET_VERSION_STATUS","routeParams","match","params","buildUrl","route","qs","clientHostname","port","addHostname","PUBLIC_URI","wrappedComponentProps","KEY","VALUE","propsJS","newProps","wrappedComponentProp","Iterable","isIterable","userSagas","takeEvery","loginUserSaga","logoutUserSaga","validateUserSaga","createUserAccountSaga","getGroups","call","updateUserSaga","redirect","fork","select","ClientRedirectToHome","currentQs","qsToken","securitytoken","userState","put","from","currentSearch","redirectUri","redirect_uri","message","history","registerResponse","registrationResult","verifiedEmail","failedToCreateAccount","initialState","currentNode","currentProject","entryID","entryDepends","contentTypeId","currentNodeAncestors","currentTreeId","ancestors","ancestorIDs","currentNodeDepends","allNodeDepends","union","isLoading","entryUri","component","nodeDepends","removeIn","currentNodeSiblingParent","siblingIDs","siblings","parentId","commitRef","buildNo","contensisVersionStatus","status","root","treeDepends","isError","isReady","routerMiddleware","store","args","featureReducers","thunkMiddleware","thunk","reduxDevToolsMiddleware","f","__REDUX_DEVTOOLS_EXTENSION__","sagaMiddleware","createSagaMiddleware","middleware","compose","applyMiddleware","reducers","navigation","NavigationReducer","routing","RoutingReducer","UserReducer","version","VersionReducer","combinedReducers","combineReducers","createStore","runSaga","run","close","END","selectCommitRef","selectBuildNumber","selectVersionStatus","hasNavigationTree","selectNavigationRoot","selectNavigationDepends","setVersion","setVersionStatus","NotFound","Status","code","staticContext","propTypes","PropTypes","number","isRequired","element","getTrimmedPath","lastChar","substring","RouteLoader","isNotFound","loadingComponent","notFoundComponent","useLocation","matchedStaticRoute","matchRoutes","StaticRoutes","isStaticRoute","trimmedPath","setPath","useCallback","serverPath","isExact","p","startsWith","join","useEffect","renderRoutes","LoadingComponent","MatchedComponent","ContentTypeMappings","find","item","contentTypeID","NotFoundComponent","string","bool","func","objectOf","array","hot","module","selectedHistory","createBrowserHistory","createMemoryHistory","browserHistory","servers","alias","publicUri","projects","PROJECTS","pickProject","includes","DataFormats","webpage","filename","includeInSearch","slug","Fields","entryTitle","entryDescription","keywords","wildcard","Projects","website","VersionStatus","published","latest","ContentTypes","contentPage","WebpageFormats","FilterExpressionTypes","contentType","field","now","Date","performance","fixFreeTextForElastic","s","illegalChars","encodedChars","illegalRegEx","RegExp","c","encodedRegEx","replace","timedSearch","duration","start","end","extractQuotedPhrases","searchTerm","pattern","callCustomApi","customApi","filters","fieldExpression","operator","weight","Array","isArray","equalToOrIn","Op","contentTypeIdExpression","contentTypeIds","webpageTemplates","expressions","dataFormatExpression","or","filterExpressions","param","withContentTypeIds","notContentTypeIds","andExpr","and","dataFormatExpr","withExpr","notExpr","not","add","defaultExpressions","equalTo","defaultSearchExpressions","includeInSearchExpressions","exists","orderByExpression","orderBy","expression","OrderBy","ob","desc","asc","in","customWhereExpressions","where","clause","idx","termExpressions","weightedSearchFields","quotedPhrases","modifiedSearchTerm","forEach","qp","trim","operators","containsOp","term","fieldId","freeTextOp","fieldOperators","addRange","contains","routeEntryByFields","fields","Query","routingSagas","getRouteSaga","setRouteSaga","appsays","onRouteLoad","doNavigation","customNavigation","entryLinkDepth","setContentTypeLimits","ct","routeEntry","isHome","isPreview","customRouting","fetchNode","pathNode","depth","entryFields","splitPath","entryGuid","previewEntry","items","do404","preventScrollTop","scroll","top","onRouteLoaded","tree","treeDepth","e","log","stack","all","navigationSagas","ensureNodeTreeSaga","deliveryApiVersionStatus","ex","featureSagas","rootSaga","subSagas","AppRoot","props","require","default","ReactApp","fromJSOrdered","js","Seq","toList","toOrderedMap","ClientApp","documentRoot","document","getElementById","withReducers","withSagas","GetClientJSX","ClientJsx","isProduction","process","HMRRenderer","Component","preloadReady","hydrate","render","versionStatusFromHostname","isDynamic","REDUX_DATA","console","ssRedux"],"mappings":"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","file":"client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"immutable\"), require(\"contensis-delivery-api\"), require(\"react\"), require(\"prop-types\"), require(\"query-string\"), require(\"react-redux\"), require(\"react-router-dom\"), require(\"@redux-saga/core/effects\"), require(\"js-cookie\"), require(\"react-router-config\"), require(\"react-hot-loader\"), require(\"redux\"), require(\"redux-saga\"), require(\"redux-immutable\"), require(\"redux-thunk\"), require(\"loglevel\"), require(\"react-loadable\"), require(\"history\"), require(\"isomorphic-fetch\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"immutable\", \"contensis-delivery-api\", \"react\", \"prop-types\", \"query-string\", \"react-redux\", \"react-router-dom\", \"@redux-saga/core/effects\", \"js-cookie\", \"react-router-config\", \"react-hot-loader\", \"redux\", \"redux-saga\", \"redux-immutable\", \"redux-thunk\", \"loglevel\", \"react-loadable\", \"history\", \"isomorphic-fetch\", \"react-dom\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"immutable\"), require(\"contensis-delivery-api\"), require(\"react\"), require(\"prop-types\"), require(\"query-string\"), require(\"react-redux\"), require(\"react-router-dom\"), require(\"@redux-saga/core/effects\"), require(\"js-cookie\"), require(\"react-router-config\"), require(\"react-hot-loader\"), require(\"redux\"), require(\"redux-saga\"), require(\"redux-immutable\"), require(\"redux-thunk\"), require(\"loglevel\"), require(\"react-loadable\"), require(\"history\"), require(\"isomorphic-fetch\"), require(\"react-dom\")) : factory(root[\"immutable\"], root[\"contensis-delivery-api\"], root[\"react\"], root[\"prop-types\"], root[\"query-string\"], root[\"react-redux\"], root[\"react-router-dom\"], root[\"@redux-saga/core/effects\"], root[\"js-cookie\"], root[\"react-router-config\"], root[\"react-hot-loader\"], root[\"redux\"], root[\"redux-saga\"], root[\"redux-immutable\"], root[\"redux-thunk\"], root[\"loglevel\"], root[\"react-loadable\"], root[\"history\"], root[\"isomorphic-fetch\"], root[\"react-dom\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(global, function(__WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__7__, __WEBPACK_EXTERNAL_MODULE__9__, __WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__16__, __WEBPACK_EXTERNAL_MODULE__19__, __WEBPACK_EXTERNAL_MODULE__24__, __WEBPACK_EXTERNAL_MODULE__25__, __WEBPACK_EXTERNAL_MODULE__26__, __WEBPACK_EXTERNAL_MODULE__27__, __WEBPACK_EXTERNAL_MODULE__28__, __WEBPACK_EXTERNAL_MODULE__33__, __WEBPACK_EXTERNAL_MODULE__36__, __WEBPACK_EXTERNAL_MODULE__37__, __WEBPACK_EXTERNAL_MODULE__40__, __WEBPACK_EXTERNAL_MODULE__42__, __WEBPACK_EXTERNAL_MODULE__44__, __WEBPACK_EXTERNAL_MODULE__51__, __WEBPACK_EXTERNAL_MODULE__58__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 64);\n","const ACTION_PREFIX = '@USER/';\r\nexport const UPDATE_USER = `${ACTION_PREFIX}UPDATE_USER`;\r\nexport const LOGIN_USER = `${ACTION_PREFIX}LOGIN_USER`;\r\nexport const LOGIN_SUCCESSFUL = `${ACTION_PREFIX}LOGIN_SUCCESSFUL`;\r\nexport const LOGIN_FAILED = `${ACTION_PREFIX}LOGIN_FAILED`;\r\nexport const LOGOUT_USER = `${ACTION_PREFIX}LOGOUT_USER`;\r\nexport const TOGGLE_LOGIN_MODE = `${ACTION_PREFIX}TOGGLE_LOGIN_MODE`;\r\nexport const CREATE_USER_ACCOUNT = `${ACTION_PREFIX}CREATE_USER_ACCOUNT`;\r\nexport const VALIDATE_USER = `${ACTION_PREFIX}VALIDATE_USER`;\r\nexport const VALIDATE_USER_SUCCESS = `${ACTION_PREFIX}VALIDATE_USER_SUCCESS`;\r\nexport const VALIDATE_USER_FAILED = `${ACTION_PREFIX}VALIDATE_USER_FAILED`;\r\nexport const FORGOT_USER_PASSWORD = `${ACTION_PREFIX}FORGOT_USER_PASSWORD`;\r\nexport const FORGOT_USER_PASSWORD_COMPLETE = `${ACTION_PREFIX}FORGOT_USER_PASSWORD_COMPLETE`;\r\nexport const CHANGE_USER_PASSWORD = `${ACTION_PREFIX}CHANGE_USER_PASSWORD`;\r\nexport const CHANGE_USER_PASSWORD_FAILED = `${ACTION_PREFIX}CHANGE_USER_PASSWORD_FAILED`;\r\nexport const CHANGE_USER_PASSWORD_COMPLETE = `${ACTION_PREFIX}CHANGE_USER_PASSWORD_COMPLETE`;\r\nexport const SET_RECAPTCHA_KEY = `${ACTION_PREFIX}SET_RECAPTCHA_KEY`;\r\nexport const SET_RECAPTCHA_RESPONSE = `${ACTION_PREFIX}SET_RECAPTCHA_RESPONSE`;\r\n","export * from '@redux-saga/core/effects';\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","const ROUTING_PREFIX = '@ROUTING/';\r\nexport const GET_ENTRY = `${ROUTING_PREFIX}_GET_ENTRY`;\r\nexport const SET_ENTRY = `${ROUTING_PREFIX}_SET_ENTRY`;\r\nexport const SET_NODE = `${ROUTING_PREFIX}_SET_NODE`;\r\nexport const SET_ANCESTORS = `${ROUTING_PREFIX}_SET_ANCESTORS`;\r\nexport const SET_SIBLINGS = `${ROUTING_PREFIX}_SET_SIBLINGS`;\r\nexport const SET_ENTRY_ID = `${ROUTING_PREFIX}_SET_ENTRY_ID`;\r\nexport const SET_SURROGATE_KEYS = `${ROUTING_PREFIX}_SET_SURROGATE_KEYS`;\r\n\r\nexport const SET_NAVIGATION_NOT_FOUND = `${ROUTING_PREFIX}_SET_NOT_FOUND`;\r\nexport const SET_NAVIGATION_PATH = `${ROUTING_PREFIX}_SET_NAVIGATION_PATH`;\r\n\r\nexport const SET_TARGET_PROJECT = `${ROUTING_PREFIX}_SET_TARGET_PROJECT`;\r\n\r\nexport const SET_ROUTE = `${ROUTING_PREFIX}_SET_ROUTE`;\r\nexport const CALL_HISTORY_METHOD = `${ROUTING_PREFIX}_CALL_HISTORY_METHOD`;\r\n","export function action(type, payload = {}) {\r\n  return { type, ...payload };\r\n}\r\n\r\nexport const getWebPImageUri = uri => {\r\n  let formatedUri = uri;\r\n  if (uri.indexOf('.gif') == -1) {\r\n    if (uri.indexOf('f=') == -1 && uri.indexOf('format=') == -1) {\r\n      if (uri.indexOf('?') > -1) {\r\n        formatedUri = `${uri}&f=webp`;\r\n      } else {\r\n        formatedUri = `${uri}?f=webp`;\r\n      }\r\n    }\r\n    if (\r\n      formatedUri.indexOf('q=') == -1 &&\r\n      formatedUri.indexOf('quality=') == -1\r\n    ) {\r\n      if (formatedUri.indexOf('?') > -1) {\r\n        formatedUri = `${formatedUri}&q=70`;\r\n      } else {\r\n        formatedUri = `${formatedUri}?q=70`;\r\n      }\r\n    }\r\n  }\r\n  return formatedUri;\r\n};\r\n\r\nexport const resizeImage = (image, height, width) => {\r\n  if (image.asset && image.asset.sys && image.asset.sys.uri) {\r\n    image.asset.sys.uri = resizeImageUri(image.asset.sys.uri, height, width);\r\n  }\r\n};\r\nexport const resizeImageUri = (uri, height, width) => {\r\n  let formatedUri = uri;\r\n  let paramDelimeter = '?';\r\n  if (uri.indexOf('?') > -1) {\r\n    paramDelimeter = '&';\r\n  }\r\n  if (width) {\r\n    if (\r\n      formatedUri.indexOf('w=') == -1 &&\r\n      formatedUri.indexOf('width=') == -1\r\n    ) {\r\n      formatedUri = `${formatedUri}${paramDelimeter}w=${width}`;\r\n      paramDelimeter = '&';\r\n    }\r\n  }\r\n  if (height) {\r\n    if (\r\n      formatedUri.indexOf('h=') == -1 &&\r\n      formatedUri.indexOf('height=') == -1\r\n    ) {\r\n      formatedUri = `${formatedUri}${paramDelimeter}h=${height}`;\r\n    }\r\n  }\r\n\r\n  return formatedUri;\r\n};\r\n\r\nexport function flattenArray(arr) {\r\n  // flatten arrays inside the supplied array and\r\n  // remove duplicates from the result\r\n  return arr\r\n    .reduce((acc, val) => acc.concat(val), [])\r\n    .filter((elem, pos, arr) => arr.indexOf(elem) == pos);\r\n}\r\n\r\nexport async function api(url, options) {\r\n  return fetch(url, options)\r\n    .then(async response => {\r\n      setTimeout(() => null, 0);\r\n      if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n      }\r\n      return response.json().then(data => data);\r\n    })\r\n    .catch(error => {\r\n      //console.log(error);\r\n      throw error;\r\n    });\r\n}\r\n\r\nexport function dynamicSort(property) {\r\n  var sortOrder = 1;\r\n  if (property[0] === '-') {\r\n    sortOrder = -1;\r\n    property = property.substr(1);\r\n  }\r\n  return function(a, b) {\r\n    /* next line works with strings and numbers,\r\n     * and you may want to customize it to your needs\r\n     */\r\n    var result =\r\n      a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\r\n    return result * sortOrder;\r\n  };\r\n}\r\n\r\nexport const randomString = length => {\r\n  let text = '';\r\n  const possible =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  for (var i = 0; i < length; i++) {\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  }\r\n  return text;\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","export const selectUser = state => {\r\n  return state.get('user');\r\n};\r\nexport const selectUsername = state => {\r\n  return state.getIn(['user', 'username']);\r\n};\r\nexport const selectUserLoggedIn = state => {\r\n  return state.getIn(['user', 'loggedIn']);\r\n};\r\nexport const selectUserGroups = state => {\r\n  return state.getIn(['user', 'groups']);\r\n};\r\nexport const selectUserMessage = state => {\r\n  return state.getIn(['user', 'logonResult']);\r\n};\r\nexport const selectLoginScreenMode = state => {\r\n  return state.getIn(['user', 'loginScreenMode']);\r\n};\r\nexport const selectPasswordMessage = state => {\r\n  return state.getIn(['user', 'passwordResetMessage']);\r\n};\r\nexport const selectChangePasswordMessage = state => {\r\n  return state.getIn(['user', 'changePasswordMessage']);\r\n};\r\nexport const selectCaptchaSiteKey = state => {\r\n  return state.getIn(['user', 'recaptcha', 'key']);\r\n};\r\nexport const selectCaptchaData = state => {\r\n  return state.getIn(['user', 'recaptcha', 'response']);\r\n};\r\nexport const selectCaptchaResponse = state => {\r\n  return state.getIn(['user', 'recaptcha', 'response', 'isHuman']);\r\n};\r\nexport const selectCaptchaToken = state => {\r\n  return state.getIn(['user', 'recaptcha', 'response', 'token']);\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","import { List, Map } from 'immutable';\r\nimport { queryParams } from '~/core/util/navigation';\r\n\r\nexport const selectRouteEntry = state => {\r\n  return state.getIn(['routing', 'entry'], Map({}));\r\n};\r\nexport const selectNodeDepends = state => {\r\n  return state.getIn(['routing', 'nodeDepends'], new List([]));\r\n};\r\nexport const selectCurrentTreeID = state => {\r\n  return state.getIn(['routing', 'currentTreeId']);\r\n};\r\nexport const selectEntryDepends = state => {\r\n  return state.getIn(['routing', 'entryDepends']);\r\n};\r\nexport const selectRouteEntryEntryId = state => {\r\n  return state.getIn(['routing', 'entry', 'sys', 'id'], null);\r\n};\r\nexport const selectRouteEntryContentTypeId = state => {\r\n  const entry = selectRouteEntry(state);\r\n  return entry && entry.getIn(['sys', 'contentTypeId'], null);\r\n};\r\nexport const selectRouteEntrySlug = state => {\r\n  return state.getIn(['routing', 'entry', 'sys', 'slug'], null);\r\n};\r\nexport const selectRouteEntryID = state => {\r\n  return state.getIn(['routing', 'entryID']);\r\n};\r\nexport const selectCurrentPath = state => {\r\n  return state.getIn(['routing', 'currentPath']);\r\n};\r\nexport const selectCurrentSearch = state => {\r\n  return state.getIn(['routing', 'location', 'search']);\r\n};\r\nexport const selectCurrentHash = state => {\r\n  return state.getIn(['routing', 'location', 'hash']);\r\n};\r\nexport const selectQueryStringAsObject = state =>\r\n  queryParams(selectCurrentSearch(state));\r\nexport const selectCurrentProject = state => {\r\n  return state.getIn(['routing', 'currentProject']);\r\n};\r\nexport const selectIsNotFound = state => {\r\n  return state.getIn(['routing', 'notFound']);\r\n};\r\nexport const selectCurrentAncestors = state => {\r\n  return state.getIn(['routing', 'currentNodeAncestors'], new List());\r\n};\r\nexport const selectCurrentNode = state => {\r\n  return state.getIn(['routing', 'currentNode']);\r\n};\r\nexport const selectBreadcrumb = state => {\r\n  return (selectCurrentAncestors(state) || new List()).push(\r\n    selectCurrentNode(state)\r\n  );\r\n};\r\nexport const selectRouteLoading = state => {\r\n  return state.getIn(['routing', 'isLoading']);\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","import Cookies from 'js-cookie';\r\n\r\nconst COOKIE_VALID_DAYS = 1; // 0 = Session cookie\r\n\r\n// Override the default js-cookie conversion / encoding\r\n// methods so the written values work with Contensis sites\r\nconst _cookie = Cookies.withConverter({\r\n  read: value => decodeURIComponent(value),\r\n  write: value => encodeURIComponent(value),\r\n});\r\n\r\nexport class CookieHelper {\r\n  static GetCookie(name) {\r\n    return _cookie.get(name);\r\n  }\r\n\r\n  static SetCookie(name, value, maxAgeDays = COOKIE_VALID_DAYS) {\r\n    maxAgeDays === 0\r\n      ? _cookie.set(name, value)\r\n      : _cookie.set(name, value, { expires: maxAgeDays });\r\n  }\r\n\r\n  static DeleteCookie(name) {\r\n    _cookie.remove(name);\r\n  }\r\n}\r\n","// import { ajax } from 'jquery';\r\n// import queryString from 'query-string';\r\n\r\nimport { CookieHelper } from './CookieHelper.class';\r\nimport { SecurityApi } from './SecurityApi.class';\r\n\r\nimport { initialUserState } from '../redux/reducers';\r\n// import { randomString } from '~/core/util/helpers';\r\n// import userManager from './oidc/userManager';\r\n\r\nconst LOGIN_COOKIE = 'ContensisCMSUserName';\r\nconst LAST_USERNAME_COOKIE = 'ContensisLastUserName';\r\nconst DISPLAY_NAME_COOKIE = 'ContensisDisplayName';\r\nconst USER_LANGUAGE_COOKIE = 'User_LanguageID';\r\nconst AVATAR_COOKIE = 'ContensisAvatar';\r\n\r\n// const contensis = CONTENSIS; /* global CONTENSIS */\r\n\r\nexport class LoginHelper {\r\n  static GetLoginCookie() {\r\n    return CookieHelper.GetCookie(LOGIN_COOKIE);\r\n  }\r\n\r\n  static SetLoginCookies(user) {\r\n    if (user.securityToken)\r\n      CookieHelper.SetCookie(LOGIN_COOKIE, user.securityToken);\r\n    if (user.username) {\r\n      CookieHelper.SetCookie(LAST_USERNAME_COOKIE, user.username);\r\n      CookieHelper.SetCookie(DISPLAY_NAME_COOKIE, user.username);\r\n    }\r\n  }\r\n\r\n  static GetCachedCredentials() {\r\n    return {\r\n      securityToken: CookieHelper.GetCookie(LOGIN_COOKIE),\r\n      username: CookieHelper.GetCookie(LAST_USERNAME_COOKIE),\r\n      displayName: CookieHelper.GetCookie(DISPLAY_NAME_COOKIE),\r\n      languageId: CookieHelper.GetCookie(USER_LANGUAGE_COOKIE),\r\n      avatar: CookieHelper.GetCookie(AVATAR_COOKIE),\r\n    };\r\n  }\r\n\r\n  static GetCachedCredentialsSSR(cookies) {\r\n    return {\r\n      securityToken: cookies[LOGIN_COOKIE],\r\n      username: cookies[LAST_USERNAME_COOKIE],\r\n      displayName: cookies[DISPLAY_NAME_COOKIE],\r\n      languageId: cookies[USER_LANGUAGE_COOKIE],\r\n      avatar: cookies[AVATAR_COOKIE],\r\n    };\r\n  }\r\n\r\n  static ClearCachedCredentials() {\r\n    CookieHelper.DeleteCookie(LOGIN_COOKIE);\r\n    CookieHelper.DeleteCookie(LAST_USERNAME_COOKIE);\r\n    CookieHelper.DeleteCookie(DISPLAY_NAME_COOKIE);\r\n    CookieHelper.DeleteCookie(USER_LANGUAGE_COOKIE);\r\n    CookieHelper.DeleteCookie(AVATAR_COOKIE);\r\n  }\r\n\r\n  static async ValidateUser(groups = false, cookies = null) {\r\n    const cached = cookies\r\n      ? this.GetCachedCredentialsSSR(cookies)\r\n      : this.GetCachedCredentials();\r\n\r\n    if (cached.securityToken) {\r\n      const response = await SecurityApi.ValidateUser(cached.securityToken);\r\n\r\n      if (!response) return false;\r\n\r\n      // Convert result to a User object\r\n      const user = {\r\n        username: cached.username,\r\n        securityToken: encodeURIComponent(response.SecurityToken),\r\n        logonResult: response.LogonResult,\r\n        id: response.UserID,\r\n        loginScreenMode: 'login',\r\n      };\r\n\r\n      if (user.logonResult !== 0) {\r\n        // Clear the cookie cache so we don't need to validate again\r\n        LoginHelper.ClearCachedCredentials();\r\n      } else {\r\n        // Set logged in flag\r\n        user.loggedIn = true;\r\n\r\n        if (groups) {\r\n          const userWithGroups = await this.GetGroups(user);\r\n          return userWithGroups;\r\n        }\r\n      }\r\n\r\n      return user;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  static async LoginUser(username, password, groups = false) {\r\n    if (username && password) {\r\n      // Call LogonUser API\r\n      const loginResponse = await SecurityApi.LogonUser(username, password);\r\n      if (loginResponse) {\r\n        // Extract the elements we need from the response\r\n        const { SecurityToken, LogonResult, UserID } = loginResponse;\r\n        const failedLogin = !!LogonResult; // 0 is successful\r\n\r\n        // Map response to new user object\r\n        const user = {\r\n          username,\r\n          failedLogin,\r\n          loggedIn: !!SecurityToken && !failedLogin,\r\n          securityToken: SecurityToken,\r\n          id: UserID,\r\n          logonResult: this.CheckResult(LogonResult),\r\n        };\r\n\r\n        if (!user.failedLogin && !!user.securityToken) {\r\n          this.SetLoginCookies(user);\r\n\r\n          if (groups) {\r\n            const userWithGroups = await this.GetGroups(user);\r\n            return userWithGroups;\r\n          }\r\n        }\r\n\r\n        return user;\r\n      } else {\r\n        // Create user object to show login failed due to service fault\r\n        return {\r\n          securityToken: null,\r\n          loggedIn: false,\r\n          failedLogin: true,\r\n          logonResult: 'Service Fault',\r\n        };\r\n      }\r\n    }\r\n  }\r\n\r\n  static async GetGroups(user) {\r\n    if (!user.securityToken) {\r\n      return user;\r\n    }\r\n\r\n    const userInfoResponse = await SecurityApi.GetUserInfo(user.securityToken);\r\n    if (userInfoResponse) {\r\n      const response = JSON.parse(userInfoResponse);\r\n\r\n      if (response.Error || !response.GroupCollection) {\r\n        user.errorMessage = `Problem fetching user info: ${response.Error}`;\r\n      } else {\r\n        user.groups = response.GroupCollection.map(group => ({\r\n          name: group.GroupName,\r\n          id: group.GroupId,\r\n        }));\r\n        user.fullName = response.Fullname;\r\n        user.emailAddress = response.Email;\r\n      }\r\n    }\r\n    return user;\r\n  }\r\n\r\n  static LogoutUser() {\r\n    this.ClearCachedCredentials();\r\n    return initialUserState.toJS();\r\n  }\r\n\r\n  static ClientRedirectToLogin(uri) {\r\n    if (typeof window != 'undefined') {\r\n      window.location.href = LoginHelper.LoginPageUrl(uri); // LoginHelper.IsWsFedSignin()\r\n      // ? LoginHelper.WsFedLoginPageUrl(window.location)\r\n      // : LoginHelper.LoginPageUrl(uri);\r\n    }\r\n  }\r\n\r\n  static LoginPageUrl(uri) {\r\n    return `${uri || '/login'}?redirect_uri=${window.location.pathname +\r\n      window.location.search}`;\r\n  }\r\n  // static WsFedLoginPageUrl(currentLocation) {\r\n  //   const loginPage = contensis.ADFS_LOGIN_PAGE.replace(\r\n  //     '{redirect_uri}',\r\n  //     encodeURIComponent(currentLocation.toString().split('#')[0])\r\n  //   ).replace('{nonce}', randomString(5));\r\n  //   return `${contensis.URL}${loginPage}`.replace(/([^:]\\/)\\/+/g, '$1');\r\n  // }\r\n\r\n  // static IsWsFedSignin() {\r\n  //   return contensis.WSFED_SIGNIN;\r\n  // }\r\n\r\n  // static WsFedSignin(redirectUri) {\r\n  //   userManager.signinRedirect({\r\n  //     scope: 'openid',\r\n  //     response_type: 'id_token',\r\n  //     redirect_uri: redirectUri || window.location.toString(),\r\n  //   });\r\n  // }\r\n\r\n  // static WsFedLogout() {\r\n  //   ajax(`${contensis.URL}authenticate/logout/`, {\r\n  //     dataType: 'jsonp',\r\n  //     jsonp: false,\r\n  //     async: false,\r\n  //   });\r\n  // }\r\n\r\n  static async ForgotPassword(username) {\r\n    if (username) {\r\n      const currentUrl = window.location.protocol + '//' + window.location.host;\r\n      const passwordResponse = await SecurityApi.ForgotPassword(\r\n        username,\r\n        currentUrl\r\n      );\r\n      if (passwordResponse) {\r\n        // Extract the elements we need from the response\r\n        return passwordResponse;\r\n      }\r\n    }\r\n  }\r\n\r\n  static async ChangePassword(\r\n    username,\r\n    oldPassword,\r\n    newPassword,\r\n    newPasswordConfirm\r\n  ) {\r\n    if (newPassword && newPasswordConfirm) {\r\n      if (this.ValidatePassword(newPassword)) {\r\n        const passwordResponse = await SecurityApi.ChangePassword(\r\n          username,\r\n          oldPassword,\r\n          newPassword,\r\n          newPasswordConfirm\r\n        );\r\n        //const passwordResponse = await SecurityApi.ChangePassword(btoa(username), btoa(oldPassword), btoa(newPassword), btoa(newPasswordConfirm));\r\n        if (passwordResponse) {\r\n          // Extract the elements we need from the response\r\n          return passwordResponse;\r\n        }\r\n      } else {\r\n        return 'New password does not meet the requirements: \\r\\n\\r\\n - Must be a minimum of 8 characters long \\r\\n - Must contain at least 1 uppercase character \\r\\n - Must contain at least 1 special character or number';\r\n      }\r\n    }\r\n  }\r\n\r\n  static async ChangePasswordWithToken(token, newPassword, newPasswordConfirm) {\r\n    if (newPassword && newPasswordConfirm) {\r\n      if (this.ValidatePassword(newPassword)) {\r\n        const passwordResponse = await SecurityApi.ChangePasswordWithToken(\r\n          token,\r\n          btoa(newPassword),\r\n          btoa(newPasswordConfirm)\r\n        );\r\n        //const passwordResponse = await SecurityApi.ChangePassword(btoa(username), btoa(oldPassword), btoa(newPassword), btoa(newPasswordConfirm));\r\n        if (passwordResponse) {\r\n          // Extract the elements we need from the response\r\n          return passwordResponse;\r\n        }\r\n      } else {\r\n        return 'New password does not meet the requirements: \\r\\n\\r\\n - Must be a minimum of 8 characters long \\r\\n - Must contain at least 1 uppercase character \\r\\n - Must contain at least 1 special character or number';\r\n      }\r\n    }\r\n  }\r\n\r\n  static ValidatePassword(pword) {\r\n    //Password must be over 8 characters long\r\n    if (pword.length < 8) return false;\r\n    //This only returns true if the following criteria is met:\r\n    //  *8 chars or more\r\n    //  *Must contain at least 1 capital letter\r\n    //  *Must contain at least 1 number or special character\r\n    return /^(?:(?=.*[a-z])(?:(?=.*[A-Z])(?=.*[\\d\\W])|(?=.*\\W)(?=.*\\d))|(?=.*\\W)(?=.*[A-Z])(?=.*\\d)).{8,}$/.test(\r\n      pword\r\n    );\r\n  }\r\n\r\n  static CheckResult(result) {\r\n    const Results = {\r\n      '0': 'OK',\r\n      '-2': 'Incorrect username or password',\r\n      '-3': 'Account disabled',\r\n      '-4': 'Account locked',\r\n      '-5': 'Log on from this PC is denied',\r\n      '-6': 'Log on at this time is denied',\r\n      '-7': 'Account already logged in',\r\n      '-9': 'Unspecified error',\r\n      '2': 'Password change required',\r\n      '3': 'Insufficient privileges',\r\n      '-10': 'Account expired',\r\n      '-11': 'Maintenance mode',\r\n      '4': 'Security token expired',\r\n      '': 'An error has occured',\r\n    };\r\n    return Results[result];\r\n  }\r\n}\r\n","const CMS_URL = SERVERS.cms; /* global SERVERS */\r\n\r\nconst config = {\r\n  REGISTER_USER_URI: 'Security/RegisterUser',\r\n  LOGON_USER_URI: 'REST/Contensis/Security/AuthenticateApplication',\r\n  VALIDATE_USER_URI: 'REST/Contensis/Security/IsAuthenticated',\r\n  USER_INFO_URI: 'REST/Contensis/Security/GetUserInfo',\r\n  FORGOT_PASSWORD_URI: 'Security/ResetPasswordEmail',\r\n  CHANGE_PASSWORD_URI: 'Security/ChangePassword',\r\n  CHANGE_PASSWORD_TOKEN_URI: 'Security/ChangePasswordWithToken',\r\n  AUTH_CAPTCHA_URI: 'Security/AuthenticateCaptcha',\r\n  LOGIN_URL: '/business-government/partner',\r\n};\r\n\r\nconst REGISTER_USER_URL = `${CMS_URL}/${config.REGISTER_USER_URI}`;\r\nconst LOGON_USER_URL = `${CMS_URL}/${config.LOGON_USER_URI}`;\r\nconst VALIDATE_USER_URL = `${CMS_URL}/${config.VALIDATE_USER_URI}`;\r\nconst USER_INFO_URL = `${CMS_URL}/${config.USER_INFO_URI}`;\r\nconst FORGOT_PASSWORD_URI = `/${config.FORGOT_PASSWORD_URI}`;\r\nconst CHANGE_PASSWORD_URI = `/${config.CHANGE_PASSWORD_URI}`;\r\nconst AUTH_CAPTCHA_URI = `/${config.AUTH_CAPTCHA_URI}`;\r\nconst CHANGE_PASSWORD_TOKEN_URI = `/${config.CHANGE_PASSWORD_TOKEN_URI}`;\r\n\r\nconst BASE_OPTIONS = {\r\n  method: 'GET',\r\n  headers: { 'Content-Type': 'application/json' },\r\n};\r\n\r\nexport class SecurityApi {\r\n  static async AuthoriseRecaptcha(token) {\r\n    const url = `${AUTH_CAPTCHA_URI}?captchaToken=${encodeURIComponent(token)}`;\r\n    const options = {\r\n      headers: { 'Content-Type': 'application/json' },\r\n      method: 'POST',\r\n    };\r\n    return await SecurityApi.get(url, options);\r\n  }\r\n\r\n  static async LogonUser(username, password) {\r\n    const body = {\r\n      username,\r\n      password,\r\n      ip: '127.0.0.1',\r\n      applicationName: 'DesktopTool',\r\n    };\r\n    const options = {\r\n      ...BASE_OPTIONS,\r\n      method: 'POST',\r\n      body: JSON.stringify(body),\r\n    };\r\n    return await SecurityApi.get(LOGON_USER_URL, options);\r\n  }\r\n\r\n  static async ValidateUser(securityToken) {\r\n    const url = `${VALIDATE_USER_URL}?token=${encodeURIComponent(\r\n      securityToken\r\n    )}`;\r\n    const bodyToken = encodeURIComponent(\r\n      decodeURIComponent(decodeURIComponent(securityToken))\r\n    );\r\n    const options = {\r\n      ...BASE_OPTIONS,\r\n      method: 'POST',\r\n      body: JSON.stringify({ securityToken: bodyToken }),\r\n    };\r\n    return await SecurityApi.get(url, options);\r\n  }\r\n\r\n  static async GetUserInfo(securityToken) {\r\n    const options = {\r\n      ...BASE_OPTIONS,\r\n      headers: {\r\n        ['Content-Type']: 'text/plain',\r\n        ContensisCMSUserName: securityToken,\r\n      },\r\n    };\r\n    return await SecurityApi.get(USER_INFO_URL, options);\r\n  }\r\n\r\n  static async RegisterUser(email, password) {\r\n    const body = { email, password };\r\n    const options = {\r\n      ...BASE_OPTIONS,\r\n      method: 'POST',\r\n      body: JSON.stringify(body),\r\n    };\r\n    return await SecurityApi.get(REGISTER_USER_URL, options);\r\n  }\r\n\r\n  static async ChangePassword(\r\n    username,\r\n    oldPassword,\r\n    newPassword,\r\n    newPasswordConfirm\r\n  ) {\r\n    const url = `${CHANGE_PASSWORD_URI}?username=${encodeURIComponent(\r\n      username\r\n    )}&oldPassword=${encodeURIComponent(\r\n      oldPassword\r\n    )}&newPassword=${encodeURIComponent(\r\n      newPassword\r\n    )}&newPasswordConfirm=${encodeURIComponent(newPasswordConfirm)}`;\r\n    const options = {\r\n      headers: { 'Content-Type': 'application/json' },\r\n      method: 'POST',\r\n    };\r\n    return await SecurityApi.get(url, options);\r\n  }\r\n\r\n  static async ChangePasswordWithToken(token, newPassword, newPasswordConfirm) {\r\n    const url = `${CHANGE_PASSWORD_TOKEN_URI}?token=${token}&newPassword=${encodeURIComponent(\r\n      newPassword\r\n    )}&confirmPassword=${encodeURIComponent(newPasswordConfirm)}`;\r\n    const options = {\r\n      headers: { 'Content-Type': 'application/json' },\r\n      method: 'POST',\r\n    };\r\n    return await SecurityApi.get(url, options);\r\n  }\r\n\r\n  static async ForgotPassword(username, currentUrl) {\r\n    const url = `${FORGOT_PASSWORD_URI}?username=${encodeURIComponent(\r\n      username\r\n    )}&currentUrl=${encodeURIComponent(currentUrl)}`;\r\n    const options = {\r\n      headers: { 'Content-Type': 'application/json' },\r\n      method: 'POST',\r\n    };\r\n    return await SecurityApi.get(url, options);\r\n  }\r\n\r\n  static async get(url, options = BASE_OPTIONS) {\r\n    try {\r\n      const responseBody = await api(url, options);\r\n      if (responseBody) return responseBody;\r\n      return false;\r\n    } catch (error) {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nasync function api(url, options) {\r\n  return fetch(url, options)\r\n    .then(async response => {\r\n      setTimeout(() => null, 0);\r\n      if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n      }\r\n      return response.json().then(data => data);\r\n    })\r\n    .catch(error => {\r\n      //console.log(error);\r\n      throw error;\r\n    });\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","import { Client } from 'contensis-delivery-api';\r\nimport { setSurrogateKeys } from '../redux/actions/routing';\r\nimport { reduxStore } from '../redux/store';\r\n\r\nconst storeSurrogateKeys = response => {\r\n  const keys = response.headers.map['surrogate-key'];\r\n  if (keys) reduxStore.dispatch(setSurrogateKeys(keys));\r\n};\r\n\r\nconst getClientConfig = project => {\r\n  let config = DELIVERY_API_CONFIG; /* global DELIVERY_API_CONFIG */\r\n  config.responseHandler = {};\r\n\r\n  if (project) {\r\n    config.projectId = project;\r\n  }\r\n\r\n  // // we only want the surrogate key header in a server context\r\n  // if (typeof window === 'undefined')\r\n  config.defaultHeaders = {\r\n    'x-require-surrogate-key': true,\r\n  };\r\n  config.responseHandler[200] = storeSurrogateKeys;\r\n\r\n  if (\r\n    typeof window !== 'undefined' &&\r\n    PROXY_DELIVERY_API /* global PROXY_DELIVERY_API */\r\n  ) {\r\n    // ensure a relative url is used to bypass the need for CORS (separate OPTIONS calls)\r\n    config.rootUrl = '';\r\n    config.responseHandler[404] = () => null;\r\n  }\r\n  return config;\r\n};\r\n\r\nexport * from 'contensis-delivery-api';\r\n\r\nexport const GetResponseGuids = object => {\r\n  let Ids = [];\r\n  Object.keys(object).some(function(k) {\r\n    if (k === 'sys') {\r\n      //Should always have an ID, but lets check...\r\n      if (object[k].id && object[k].language) {\r\n        // We can exclude assets here i think... ?\r\n        if (object[k].dataFormat) {\r\n          if (object[k].dataFormat !== 'asset') {\r\n            Ids.push(`${object[k].id}_${object[k].language.toLowerCase()}`);\r\n          }\r\n        } else {\r\n          // If we don't have a dataformat add it anyhow, for safety\r\n          Ids.push(`${object[k].id}_${object[k].language.toLowerCase()}`);\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    if (object[k] && typeof object[k] === 'object') {\r\n      let subIds = GetResponseGuids(object[k]);\r\n      if (subIds.length > 0) {\r\n        Ids.push(...subIds);\r\n      }\r\n      return false;\r\n    }\r\n  });\r\n  return Ids;\r\n};\r\n\r\nexport const GetAllResponseGuids = object => {\r\n  if (!object) return [];\r\n  let returnItems = GetResponseGuids(object);\r\n  let unique = new Set(returnItems);\r\n  return unique;\r\n};\r\nclass DeliveryApi {\r\n  getClientSideVersionStatus = () => {\r\n    if (typeof window != 'undefined') {\r\n      const currentHostname = window.location.hostname;\r\n      return this.getVersionStatusFromHostname(currentHostname);\r\n    }\r\n    return null;\r\n  };\r\n  getVersionStatusFromHostname = currentHostname => {\r\n    if (currentHostname.indexOf('localhost') > -1) return 'latest';\r\n\r\n    if (currentHostname.endsWith('contensis.cloud')) {\r\n      if (currentHostname.indexOf('preview.') > -1) {\r\n        return 'latest';\r\n      } else {\r\n        return 'published';\r\n      }\r\n    }\r\n\r\n    if (currentHostname.endsWith('cloud.contensis.com')) {\r\n      if (currentHostname.indexOf('preview-') > -1) {\r\n        return 'latest';\r\n      } else {\r\n        return 'published';\r\n      }\r\n    }\r\n\r\n    return 'published';\r\n  };\r\n  search = (query, linkDepth, project, env) => {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return client.entries.search(\r\n      query,\r\n      typeof linkDepth !== 'undefined' ? linkDepth : 1\r\n    );\r\n  };\r\n  getClient = (deliveryApiStatus = 'published', project, env) => {\r\n    const baseConfig = getClientConfig(project, env);\r\n    baseConfig.versionStatus = deliveryApiStatus;\r\n    return Client.create(baseConfig);\r\n  };\r\n  getEntry = (\r\n    id,\r\n    linkDepth = 0,\r\n    deliveryApiStatus = 'published',\r\n    project,\r\n    env\r\n  ) => {\r\n    const baseConfig = getClientConfig(project, env);\r\n    baseConfig.versionStatus = deliveryApiStatus;\r\n    const client = Client.create(baseConfig);\r\n    // return client.entries.get(id, linkDepth);\r\n    return client.entries.get({ id, linkDepth });\r\n  };\r\n}\r\n\r\nexport const deliveryApi = new DeliveryApi();\r\n\r\nclass CacheNode {\r\n  constructor(key, value) {\r\n    this.key = key;\r\n    this.value = value;\r\n    this.next = null;\r\n    this.prev = null;\r\n  }\r\n}\r\n\r\nclass LruCache {\r\n  constructor(limit = 100) {\r\n    this.map = {};\r\n    this.head = null;\r\n    this.tail = null;\r\n    this.limit = limit || 100;\r\n    this.size = 0;\r\n  }\r\n\r\n  get(key) {\r\n    if (this.map[key]) {\r\n      let value = this.map[key].value;\r\n      let node = new CacheNode(key, value);\r\n      this.remove(key);\r\n      this.setHead(node);\r\n      return value;\r\n    }\r\n  }\r\n\r\n  set(key, value) {\r\n    let node = new CacheNode(key, value);\r\n    if (this.map[key]) {\r\n      this.remove(key);\r\n    } else {\r\n      if (this.size >= this.limit) {\r\n        delete this.map[this.tail.key];\r\n        this.size--;\r\n        this.tail = this.tail.prev;\r\n        this.tail.next = null;\r\n      }\r\n    }\r\n    this.setHead(node);\r\n  }\r\n\r\n  setHead(node) {\r\n    node.next = this.head;\r\n    node.prev = null;\r\n    if (this.head) {\r\n      this.head.prev = node;\r\n    }\r\n    this.head = node;\r\n    if (!this.tail) {\r\n      this.tail = node;\r\n    }\r\n    this.size++;\r\n    this.map[node.key] = node;\r\n  }\r\n\r\n  remove(key) {\r\n    let node = this.map[key];\r\n    if (node.prev) {\r\n      node.prev.next = node.next;\r\n    } else {\r\n      this.head = node.next;\r\n    }\r\n    if (node.next) {\r\n      node.next.prev = node.prev;\r\n    } else {\r\n      this.tail = node.prev;\r\n    }\r\n    delete this.map[key];\r\n    this.size--;\r\n  }\r\n}\r\n\r\nclass CachedSearch {\r\n  cache = new LruCache();\r\n  taxonomyLookup = {};\r\n\r\n  search(query, linkDepth, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      project + JSON.stringify(query) + linkDepth.toString(),\r\n      () => client.entries.search(query, linkDepth)\r\n    );\r\n  }\r\n\r\n  get(id, linkDepth, versionStatus, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    client.clientConfig.versionStatus = versionStatus;\r\n    return this.request(id, () => client.entries.get({ id, linkDepth }));\r\n  }\r\n\r\n  getContentType(id, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(`[CONTENT TYPE] ${id} ${project}`, () =>\r\n      client.contentTypes.get(id)\r\n    );\r\n  }\r\n\r\n  getTaxonomyNode(key, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(`[TAXONOMY NODE] ${key}`, () =>\r\n      client.taxonomy\r\n        .resolveChildren(key)\r\n        .then(node => this.extendTaxonomyNode(node))\r\n    );\r\n  }\r\n\r\n  getRootNode(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(`${project} / ${JSON.stringify(options)}`, () =>\r\n      client.nodes.getRoot(options)\r\n    );\r\n  }\r\n\r\n  getNode(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      `${project} ${(options && options.path) || options} ${JSON.stringify(\r\n        options\r\n      )}`,\r\n      () => client.nodes.get(options)\r\n    );\r\n  }\r\n\r\n  getAncestors(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      `${project} [A] ${(options && options.id) || options} ${JSON.stringify(\r\n        options\r\n      )}`,\r\n      () => client.nodes.getAncestors(options)\r\n    );\r\n  }\r\n\r\n  getChildren(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      `${project} [C] ${(options && options.id) || options} ${JSON.stringify(\r\n        options\r\n      )}`,\r\n      () => client.nodes.getChildren(options)\r\n    );\r\n  }\r\n\r\n  getSiblings(options, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      `${project} [S] ${(options && options.id) || options} ${JSON.stringify(\r\n        options\r\n      )}`,\r\n      () => client.nodes.getSiblings(options)\r\n    );\r\n  }\r\n\r\n  request(key, execute) {\r\n    if (!this.cache.get(key) || typeof window == 'undefined') {\r\n      let promise = execute();\r\n      this.cache.set(key, promise);\r\n      promise.catch(() => {\r\n        this.cache.remove(key);\r\n      });\r\n    }\r\n    return this.cache.get(key);\r\n  }\r\n\r\n  extendTaxonomyNode(node) {\r\n    let id = this.getTaxonomyId(node);\r\n    this.taxonomyLookup[id] = node.key;\r\n    return {\r\n      ...node,\r\n      id,\r\n      children: node.children\r\n        ? node.children.map(n => this.extendTaxonomyNode(n))\r\n        : null,\r\n    };\r\n  }\r\n\r\n  getTaxonomyId(node) {\r\n    if (node.key) {\r\n      let parts = node.key.split('/');\r\n      return parts[parts.length - 1];\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getTaxonomyKey(id) {\r\n    return this.taxonomyLookup[id];\r\n  }\r\n}\r\n\r\nexport const cachedSearch = new CachedSearch();\r\n","import { List, Map, fromJS } from 'immutable';\r\nimport {\r\n  UPDATE_USER,\r\n  TOGGLE_LOGIN_MODE,\r\n  SET_RECAPTCHA_KEY,\r\n  SET_RECAPTCHA_RESPONSE,\r\n} from './types';\r\n\r\nexport const initialUserState = Map({\r\n  loggedIn: false,\r\n  failedLogin: null,\r\n  username: null,\r\n  id: null,\r\n  securityToken: null,\r\n  logonResult: null,\r\n  groups: new List([]),\r\n  emailAddress: null,\r\n  fullName: null,\r\n  loginScreenMode: 'login',\r\n  passwordReset: false,\r\n  passwordResetMessage: null,\r\n  changePasswordMessage: null,\r\n  recaptcha: new Map({\r\n    key: null,\r\n    response: new Map({ isHuman: false, token: null }),\r\n  }),\r\n});\r\n\r\nexport default (state = initialUserState, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_USER: {\r\n      const { user } = action;\r\n      return state\r\n        .set(\r\n          'loggedIn',\r\n          typeof user.loggedIn !== 'undefined'\r\n            ? user.loggedIn\r\n            : state.get('loggedIn')\r\n        )\r\n        .set(\r\n          'failedLogin',\r\n          typeof user.failedLogin !== 'undefined'\r\n            ? user.failedLogin\r\n            : state.get('failedLogin')\r\n        )\r\n        .set('username', user.username || state.get('username'))\r\n        .set('id', user.id || state.get('id'))\r\n        .set('securityToken', user.securityToken || state.get('securityToken'))\r\n        .set('logonResult', user.logonResult || state.get('logonResult'))\r\n        .set('groups', fromJS(user.groups) || state.get('groups'))\r\n        .set('emailAddress', user.emailAddress || state.get('emailAddress'))\r\n        .set('fullName', user.fullName || state.get('fullName'))\r\n        .set(\r\n          'passwordReset',\r\n          typeof user.passwordReset !== 'undefined'\r\n            ? user.passwordReset\r\n            : state.get('passwordReset')\r\n        )\r\n        .set(\r\n          'passwordResetMessage',\r\n          user.passwordResetMessage || state.get('passwordResetMessage')\r\n        )\r\n        .set(\r\n          'changePasswordMessage',\r\n          user.changePasswordMessage || state.get('changePasswordMessage')\r\n        );\r\n    }\r\n    case TOGGLE_LOGIN_MODE: {\r\n      const newMode = action.loginMode;\r\n      return state.set('loginScreenMode', newMode);\r\n    }\r\n    case SET_RECAPTCHA_KEY: {\r\n      return state.setIn(['recaptcha', 'key'], action.key);\r\n    }\r\n    case SET_RECAPTCHA_RESPONSE: {\r\n      return state\r\n        .setIn(['recaptcha', 'response', 'isHuman'], action.isHuman)\r\n        .setIn(['recaptcha', 'response', 'token'], action.token);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","const ACTION_PREFIX = '@NAVIGATION/';\r\nexport const GET_NODE_TREE = `${ACTION_PREFIX}_GET_NODE_TREE`;\r\nexport const SET_NODE_TREE = `${ACTION_PREFIX}_SET_NODE_TREE`;\r\nexport const GET_NODE_TREE_ERROR = `${ACTION_PREFIX}_GET_NODE_TREE_ERROR`;\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__16__;","import { action } from '~/core/util/helpers';\r\nimport {\r\n  CHANGE_USER_PASSWORD,\r\n  CREATE_USER_ACCOUNT,\r\n  FORGOT_USER_PASSWORD,\r\n  LOGIN_USER,\r\n  LOGOUT_USER,\r\n  TOGGLE_LOGIN_MODE,\r\n  SET_RECAPTCHA_KEY,\r\n  SET_RECAPTCHA_RESPONSE,\r\n  VALIDATE_USER,\r\n} from './types';\r\n\r\nexport const loginUser = (username, password) =>\r\n  action(LOGIN_USER, { username, password });\r\nexport const validateUser = cookies => action(VALIDATE_USER, { cookies });\r\nexport const logoutUser = () => action(LOGOUT_USER);\r\n\r\nexport const toggleLoginMode = loginMode =>\r\n  action(TOGGLE_LOGIN_MODE, { loginMode });\r\nexport const createUserAccount = () => action(CREATE_USER_ACCOUNT);\r\nexport const forgotPassword = username =>\r\n  action(FORGOT_USER_PASSWORD, { username });\r\nexport const changePassword = (oldPassword, newPassword, newPasswordConfirm) =>\r\n  action(CHANGE_USER_PASSWORD, {\r\n    oldPassword,\r\n    newPassword,\r\n    newPasswordConfirm,\r\n  });\r\nexport const changePasswordWithToken = (\r\n  token,\r\n  newPassword,\r\n  newPasswordConfirm\r\n) => action(CHANGE_USER_PASSWORD, { token, newPassword, newPasswordConfirm });\r\nexport const setRecaptchaKey = key => action(SET_RECAPTCHA_KEY, { key });\r\nexport const setRecaptchaResponse = (isHuman, token) =>\r\n  action(SET_RECAPTCHA_RESPONSE, { isHuman, token });\r\n","import { connect } from 'react-redux';\r\nimport {\r\n  loginUser,\r\n  logoutUser,\r\n  toggleLoginMode,\r\n  forgotPassword,\r\n  changePassword,\r\n  changePasswordWithToken,\r\n  setRecaptchaResponse,\r\n} from '../redux/actions';\r\nimport {\r\n  selectUser,\r\n  selectUserMessage,\r\n  selectLoginScreenMode,\r\n  selectPasswordMessage,\r\n  selectChangePasswordMessage,\r\n  selectCaptchaSiteKey,\r\n  selectCaptchaResponse,\r\n  selectUserLoggedIn,\r\n} from '../redux/selectors';\r\nimport { toJS } from '~/core/util/ToJs';\r\nimport {\r\n  selectCurrentPath,\r\n  selectQueryStringAsObject,\r\n} from '~/core/redux/selectors/routing';\r\n\r\nconst getDisplayName = WrappedComponent => {\r\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\r\n};\r\n\r\nconst withLogin = WrappedComponent => {\r\n  // Returns a redux-connected component with the following props:\r\n  // this.propTypes = {\r\n  //   loginUser: PropTypes.func,\r\n  //   logoutUser: PropTypes.func,\r\n  //   user: PropTypes.object,\r\n  // };\r\n\r\n  const mapStateToProps = state => {\r\n    return {\r\n      user: selectUser(state),\r\n      userMessage: selectUserMessage(state),\r\n      screenMode: selectLoginScreenMode(state),\r\n      passwordMessage: selectPasswordMessage(state),\r\n      changePasswordMessage: selectChangePasswordMessage(state),\r\n      captchaSiteKey: selectCaptchaSiteKey(state),\r\n      isHuman: selectCaptchaResponse(state),\r\n      isLoggedIn: selectUserLoggedIn(state),\r\n      currentPath: selectCurrentPath(state),\r\n      queryString: selectQueryStringAsObject(state),\r\n    };\r\n  };\r\n\r\n  const mapDispatchToProps = {\r\n    loginUser,\r\n    logoutUser,\r\n    toggleLoginMode,\r\n    forgotPassword,\r\n    changePassword,\r\n    changePasswordWithToken,\r\n    captchaResponse: setRecaptchaResponse,\r\n  };\r\n\r\n  const ConnectedComponent = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(toJS(WrappedComponent));\r\n\r\n  ConnectedComponent.displayName = `${getDisplayName(WrappedComponent)}`;\r\n\r\n  return ConnectedComponent;\r\n};\r\n\r\nexport default withLogin;\r\n","import * as actions from './redux/actions';\r\nimport * as selectors from './redux/selectors';\r\nimport * as types from './redux/types';\r\nexport { actions, selectors, types };\r\n\r\nexport { default as reducer } from './redux/reducers';\r\nexport { userSagas as sagas } from './redux/sagas';\r\n\r\nexport { default as withLogin } from './components/withLogin';\r\n","import { action } from '~/core/util/helpers';\r\nimport {\r\n  SET_ENTRY,\r\n  SET_NAVIGATION_NOT_FOUND,\r\n  SET_NAVIGATION_PATH,\r\n  SET_TARGET_PROJECT,\r\n  SET_ROUTE,\r\n  SET_SURROGATE_KEYS,\r\n} from '~/core/redux/types/routing';\r\n\r\nexport const setNotFound = notFound =>\r\n  action(SET_NAVIGATION_NOT_FOUND, { notFound });\r\nexport const setNavigationPath = (\r\n  path,\r\n  location,\r\n  staticRoute,\r\n  withEvents,\r\n  statePath,\r\n  routes\r\n) =>\r\n  action(SET_NAVIGATION_PATH, {\r\n    path,\r\n    location,\r\n    staticRoute,\r\n    withEvents,\r\n    statePath,\r\n    routes,\r\n  });\r\nexport const setCurrentProject = (project, allowedGroups) =>\r\n  action(SET_TARGET_PROJECT, { project, allowedGroups });\r\nexport const setRoute = (path, state) => action(SET_ROUTE, { path, state });\r\nexport const setRouteEntry = entry => action(SET_ENTRY, { entry });\r\nexport const setSurrogateKeys = keys => action(SET_SURROGATE_KEYS, { keys });\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__19__;","const VERSION_PREFIX = '@VERSION/';\r\nexport const SET_VERSION = `${VERSION_PREFIX}SET_VERSION`;\r\nexport const SET_VERSION_STATUS = `${VERSION_PREFIX}SET_VERSION_STATUS`;\r\n","import queryString from 'query-string';\r\n\r\nexport function queryParams(search) {\r\n  return queryString.parse(\r\n    typeof window != 'undefined' ? window.location.search : search\r\n  );\r\n}\r\nexport const routeParams = staticRoute =>\r\n  staticRoute && staticRoute.match ? staticRoute.match.params : {};\r\n\r\nexport const buildUrl = (route, params) => {\r\n  const qs = queryString.stringify(params);\r\n  const path = qs ? `${route}?${qs}` : route;\r\n  return path;\r\n};\r\n\r\nexport const clientHostname = () =>\r\n  `${window.location.protocol}//${window.location.hostname}:${window.location.port}`;\r\n\r\nexport const addHostname =\r\n  typeof window == 'undefined' || window.location.host == 'localhost:3000'\r\n    ? `https://${PUBLIC_URI /* global PUBLIC_URI */}`\r\n    : clientHostname();\r\n","import React from 'react';\r\nimport { Iterable } from 'immutable';\r\n\r\nexport const toJS = WrappedComponent => wrappedComponentProps => {\r\n  const KEY = 0;\r\n  const VALUE = 1;\r\n\r\n  const propsJS = Object.entries(wrappedComponentProps).reduce(\r\n    (newProps, wrappedComponentProp) => {\r\n      newProps[wrappedComponentProp[KEY]] = Iterable.isIterable(\r\n        wrappedComponentProp[VALUE]\r\n      )\r\n        ? wrappedComponentProp[VALUE].toJS()\r\n        : wrappedComponentProp[VALUE];\r\n      return newProps;\r\n    },\r\n    {}\r\n  );\r\n\r\n  return <WrappedComponent {...propsJS} />;\r\n};\r\n","import { takeEvery, select, put, fork, call } from 'redux-saga/effects';\r\nimport queryString from 'query-string';\r\nimport {\r\n  LOGIN_USER,\r\n  LOGIN_SUCCESSFUL,\r\n  LOGIN_FAILED,\r\n  LOGOUT_USER,\r\n  CREATE_USER_ACCOUNT,\r\n  VALIDATE_USER,\r\n  VALIDATE_USER_SUCCESS,\r\n  VALIDATE_USER_FAILED,\r\n  UPDATE_USER,\r\n  FORGOT_USER_PASSWORD,\r\n  CHANGE_USER_PASSWORD,\r\n} from './types';\r\nimport { initialUserState } from './reducers';\r\nimport { SET_ROUTE } from '~/core/redux/types/routing';\r\nimport { selectCurrentSearch } from '~/core/redux/selectors/routing';\r\nimport { selectUser, selectUsername } from './selectors';\r\nimport { LoginHelper } from '../util/LoginHelper.class';\r\nimport { SecurityApi } from '../util/SecurityApi.class';\r\n\r\nexport const userSagas = [\r\n  takeEvery(LOGIN_USER, loginUserSaga),\r\n  takeEvery(LOGOUT_USER, logoutUserSaga),\r\n\r\n  takeEvery(VALIDATE_USER, validateUserSaga),\r\n\r\n  takeEvery(CREATE_USER_ACCOUNT, createUserAccountSaga),\r\n  takeEvery(FORGOT_USER_PASSWORD, forgotPassword),\r\n  takeEvery(CHANGE_USER_PASSWORD, changePassword),\r\n];\r\n\r\nfunction* loginUserSaga(action) {\r\n  const getGroups = true;\r\n\r\n  const { username, password } = action;\r\n  if (username && password) {\r\n    const user = yield LoginHelper.LoginUser(username, password, getGroups);\r\n\r\n    yield call(updateUserSaga, {\r\n      type: user.failedLogin ? LOGIN_FAILED : LOGIN_SUCCESSFUL,\r\n      user,\r\n      redirect: !user.failedLogin,\r\n    });\r\n  } else {\r\n    yield LoginHelper.ClientRedirectToLogin();\r\n  }\r\n}\r\n\r\nfunction* logoutUserSaga() {\r\n  const user = LoginHelper.LogoutUser();\r\n  yield fork(updateUserSaga, { user });\r\n  const state = yield select();\r\n\r\n  yield LoginHelper.ClientRedirectToHome(state.getIn(['router', 'location']));\r\n}\r\n\r\nexport function* validateUserSaga(action) {\r\n  const getGroups = true;\r\n\r\n  const state = yield select();\r\n  const currentQs = queryString.parse(\r\n    state.getIn(['router', 'location', 'search'])\r\n  );\r\n\r\n  const qsToken = currentQs.securityToken || currentQs.securitytoken;\r\n\r\n  if (qsToken) {\r\n    LoginHelper.SetLoginCookies({ securityToken: qsToken });\r\n  }\r\n\r\n  const cookies = !qsToken\r\n    ? action.cookies\r\n    : {\r\n        ContensisCMSUserName: encodeURIComponent(qsToken),\r\n        ...action.cookies,\r\n      };\r\n  const user = yield LoginHelper.ValidateUser(getGroups, cookies);\r\n\r\n  const type =\r\n    user && user.loggedIn ? VALIDATE_USER_SUCCESS : VALIDATE_USER_FAILED;\r\n\r\n  yield call(updateUserSaga, {\r\n    type,\r\n    user: user && !user.loggedIn ? initialUserState : user,\r\n  });\r\n}\r\n\r\nfunction* updateUserSaga(action) {\r\n  const userState = yield select(selectUser);\r\n  yield put({\r\n    type: UPDATE_USER,\r\n    from: action.type,\r\n    user: { ...userState.toJS(), ...action.user },\r\n  });\r\n  if (action.redirect) {\r\n    const currentSearch = yield select(selectCurrentSearch);\r\n    const qs = queryString.parse(currentSearch);\r\n    const redirectUri = qs.redirect_uri;\r\n    if (redirectUri) {\r\n      yield put({ type: SET_ROUTE, path: redirectUri });\r\n    }\r\n  }\r\n}\r\n\r\nfunction* forgotPassword(action) {\r\n  const message = yield LoginHelper.ForgotPassword(action.username);\r\n  yield put({\r\n    type: UPDATE_USER,\r\n    user: {\r\n      passwordReset: true,\r\n      passwordResetMessage: message,\r\n    },\r\n    history,\r\n  });\r\n}\r\n\r\nfunction* changePassword(action) {\r\n  const state = yield select();\r\n  const username = selectUsername(state);\r\n  let message = '';\r\n  if (action.token) {\r\n    message = yield LoginHelper.ChangePasswordWithToken(\r\n      action.token,\r\n      action.newPassword,\r\n      action.newPasswordConfirm\r\n    );\r\n  } else {\r\n    message = yield LoginHelper.ChangePassword(\r\n      username,\r\n      action.oldPassword,\r\n      action.newPassword,\r\n      action.newPasswordConfirm\r\n    );\r\n  }\r\n  yield put({\r\n    type: UPDATE_USER,\r\n    user: {\r\n      logonResult: message,\r\n    },\r\n    history,\r\n  });\r\n}\r\n\r\nfunction* createUserAccountSaga() {\r\n  const userState = yield select(selectUser);\r\n  if (userState.username && userState.password) {\r\n    // Call RegisterUser API\r\n    const registerResponse = yield SecurityApi.RegisterUser(\r\n      userState.username,\r\n      userState.password\r\n    );\r\n\r\n    if (registerResponse) {\r\n      const { securityToken, registrationResult, id } = registerResponse;\r\n\r\n      if (securityToken) {\r\n        const user = {\r\n          ...userState,\r\n          id,\r\n          securityToken,\r\n          password: null,\r\n          loggedIn: true,\r\n          verifiedEmail: false,\r\n          failedLogin: false,\r\n          failedToCreateAccount: false,\r\n          registrationResult,\r\n        };\r\n        yield put({ type: UPDATE_USER, user });\r\n      } else {\r\n        const user = {\r\n          ...userState,\r\n          securityToken: null,\r\n          loggedIn: false,\r\n          verifiedEmail: false,\r\n          failedLogin: true,\r\n          failedToCreateAccount: true,\r\n          registrationResult,\r\n        };\r\n        yield put({ type: UPDATE_USER, user });\r\n      }\r\n    } else {\r\n      yield put({\r\n        type: UPDATE_USER,\r\n        user: { ...userState, registrationResult: 'ServiceFault' },\r\n      });\r\n    }\r\n  }\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__24__;","module.exports = __WEBPACK_EXTERNAL_MODULE__25__;","module.exports = __WEBPACK_EXTERNAL_MODULE__26__;","module.exports = __WEBPACK_EXTERNAL_MODULE__27__;","module.exports = __WEBPACK_EXTERNAL_MODULE__28__;","import { Map, fromJS, List, Set } from 'immutable';\r\nimport {\r\n  SET_ENTRY_ID,\r\n  SET_ENTRY,\r\n  SET_NAVIGATION_PATH,\r\n  SET_NAVIGATION_NOT_FOUND,\r\n  SET_NODE,\r\n  SET_ANCESTORS,\r\n  SET_TARGET_PROJECT,\r\n  SET_ROUTE,\r\n  SET_SIBLINGS,\r\n  SET_SURROGATE_KEYS,\r\n} from '~/core/redux/types/routing';\r\nimport { GetAllResponseGuids } from '~/core/util/ContensisDeliveryApi';\r\n\r\nlet initialState = Map({\r\n  currentPath: '/',\r\n  currentNode: [],\r\n  currentProject: 'unknown',\r\n  notFound: false,\r\n  entryID: null,\r\n  entry: null,\r\n  entryDepends: new List(),\r\n  contentTypeId: null,\r\n  currentNodeAncestors: new List(),\r\n  currentTreeId: null,\r\n});\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_ANCESTORS: {\r\n      if (action.ancestors) {\r\n        let ancestorIDs = action.ancestors.map(node => {\r\n          return node.id;\r\n        });\r\n\r\n        let currentNodeDepends = state.get('nodeDepends');\r\n        const allNodeDepends = Set.union([\r\n          Set(ancestorIDs),\r\n          currentNodeDepends,\r\n        ]);\r\n        return state\r\n          .set('nodeDepends', allNodeDepends)\r\n          .set('currentNodeAncestors', fromJS(action.ancestors));\r\n      }\r\n      return state.set('currentNodeAncestors', fromJS(action.ancestors));\r\n    }\r\n    case SET_ENTRY: {\r\n      if (!action.entry)\r\n        return state\r\n          .set('entry', null)\r\n          .set('entryDepends', null)\r\n          .set('isLoading', action.isLoading);\r\n      const entryDepends = GetAllResponseGuids(action.entry);\r\n      return state\r\n        .set('entryDepends', fromJS(entryDepends))\r\n        .set('entry', fromJS(action.entry))\r\n        .set('isLoading', action.isLoading);\r\n    }\r\n    case SET_ENTRY_ID: {\r\n      if (action.id === '') {\r\n        return state;\r\n      }\r\n      return state.set('entryID', action.id);\r\n    }\r\n    case SET_NAVIGATION_PATH: {\r\n      let staticRoute = false;\r\n      if (action.staticRoute) {\r\n        staticRoute = { ...action.staticRoute };\r\n      }\r\n      if (action.path) {\r\n        // Don't run a path update on iniutial load as we allready should have it in redux\r\n        const entryUri = state.getIn(['entry', 'sys', 'uri']);\r\n        if (entryUri != action.path) {\r\n          return state\r\n            .set('currentPath', fromJS(action.path))\r\n            .set('location', fromJS(action.location))\r\n            .set(\r\n              'staticRoute',\r\n              fromJS({\r\n                ...staticRoute,\r\n                route: { ...staticRoute.route, component: null },\r\n              })\r\n            )\r\n            .set('isLoading', typeof window !== 'undefined');\r\n        } else {\r\n          return state.set('location', fromJS(action.location)).set(\r\n            'staticRoute',\r\n            fromJS({\r\n              ...staticRoute,\r\n              route: { ...staticRoute.route, component: null },\r\n            })\r\n          );\r\n        }\r\n      }\r\n      return state;\r\n    }\r\n    case SET_NAVIGATION_NOT_FOUND: {\r\n      return state\r\n        .set('notFound', fromJS(action.notFound))\r\n        .set('isLoading', false);\r\n    }\r\n    case SET_NODE: {\r\n      const { node } = action;\r\n      if (!node) return state;\r\n      // On Set Node, we reset all dependants.\r\n      const nodeDepends = Set([node.id]);\r\n      return state\r\n        .set('nodeDepends', nodeDepends)\r\n        .set('currentNode', fromJS(action.node))\r\n        .removeIn(['currentNode', 'entry']); // We have the entry stored elsewhere, so lets not keep it twice.\r\n    }\r\n    case SET_ROUTE: {\r\n      return state.set('nextPath', action.path);\r\n    }\r\n    case SET_SIBLINGS: {\r\n      // Can be null in some cases like the homepage.\r\n      let currentNodeSiblingParent = null;\r\n      let siblingIDs = [];\r\n      if (action.siblings && action.siblings.length > 0) {\r\n        currentNodeSiblingParent = action.siblings[0].parentId;\r\n        siblingIDs = action.siblings.map(node => {\r\n          return node.id;\r\n        });\r\n      }\r\n      let currentNodeDepends = state.get('nodeDepends');\r\n      const allNodeDepends = Set.union([Set(siblingIDs), currentNodeDepends]);\r\n      return state\r\n        .set('nodeDepends', allNodeDepends)\r\n        .set('currentNodeSiblings', fromJS(action.siblings))\r\n        .set('currentNodeSiblingsParent', currentNodeSiblingParent);\r\n    }\r\n    case SET_SURROGATE_KEYS: {\r\n      return state.set('surrogateKeys', action.keys);\r\n    }\r\n    case SET_TARGET_PROJECT: {\r\n      return state\r\n        .set('currentProject', action.project)\r\n        .set('currentTreeId', '') //getTreeID(action.project))\r\n        .set('allowedGroups', fromJS(action.allowedGroups));\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { Map } from 'immutable';\r\nimport { SET_VERSION, SET_VERSION_STATUS } from '~/core/redux/types/version';\r\n\r\nlet initialState = Map({\r\n  commitRef: null,\r\n  buildNo: null,\r\n  contensisVersionStatus: 'published',\r\n});\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_VERSION_STATUS: {\r\n      return state.set('contensisVersionStatus', action.status);\r\n    }\r\n    case SET_VERSION: {\r\n      return state\r\n        .set('commitRef', action.commitRef)\r\n        .set('buildNo', action.buildNo);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { Map, fromJS, List } from 'immutable';\r\n\r\nimport {\r\n  SET_NODE_TREE,\r\n  GET_NODE_TREE_ERROR,\r\n} from '~/core/redux/types/navigation';\r\n\r\nconst initialState = Map({\r\n  root: null,\r\n  treeDepends: new List([]),\r\n  isError: false,\r\n  isReady: false,\r\n});\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_NODE_TREE: {\r\n      return state.set('root', fromJS(action.nodes)).set('isReady', true);\r\n    }\r\n    case GET_NODE_TREE_ERROR: {\r\n      return state.set('isError', true);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { CALL_HISTORY_METHOD } from '~/core/redux/types/routing';\r\n\r\n/**\r\n * This middleware captures CALL_HISTORY_METHOD actions to redirect to the\r\n * provided history object. This will prevent these actions from reaching your\r\n * reducer or any middleware that comes after this one.\r\n */\r\n/* eslint-disable no-unused-vars */\r\nconst routerMiddleware = history => store => next => action => {\r\n  if (action.type !== CALL_HISTORY_METHOD) {\r\n    return next(action);\r\n  }\r\n\r\n  const {\r\n    payload: { method, args },\r\n  } = action;\r\n  history[method](...args);\r\n};\r\n\r\nexport default routerMiddleware;\r\n","import { compose, createStore, applyMiddleware } from 'redux';\r\nimport { combineReducers } from 'redux-immutable';\r\nimport thunk from 'redux-thunk';\r\nimport createSagaMiddleware, { END } from 'redux-saga';\r\n\r\n// Core reducers\r\nimport RoutingReducer from './reducers/routing';\r\nimport { reducer as UserReducer } from '~/features/login';\r\nimport VersionReducer from './reducers/version';\r\nimport NavigationReducer from './reducers/navigation';\r\nimport routerMiddleware from './routerMiddleware';\r\n\r\nexport let reduxStore = null;\r\n\r\nexport default (featureReducers, initialState, history) => {\r\n  const thunkMiddleware = [thunk];\r\n\r\n  let reduxDevToolsMiddleware = f => f;\r\n\r\n  if (typeof window != 'undefined') {\r\n    reduxDevToolsMiddleware = window.__REDUX_DEVTOOLS_EXTENSION__\r\n      ? window.__REDUX_DEVTOOLS_EXTENSION__()\r\n      : f => f;\r\n  }\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const middleware = compose(\r\n    applyMiddleware(\r\n      ...thunkMiddleware,\r\n      sagaMiddleware,\r\n      routerMiddleware(history)\r\n    ),\r\n    reduxDevToolsMiddleware\r\n  );\r\n\r\n  let reducers = {\r\n    navigation: NavigationReducer,\r\n    routing: RoutingReducer,\r\n    user: UserReducer,\r\n    version: VersionReducer,\r\n    ...featureReducers,\r\n  };\r\n\r\n  const combinedReducers = combineReducers(reducers);\r\n\r\n  const store = initialState => {\r\n    const store = createStore(combinedReducers, initialState, middleware);\r\n    store.runSaga = sagaMiddleware.run;\r\n    store.close = () => store.dispatch(END);\r\n    return store;\r\n  };\r\n\r\n  reduxStore = store(initialState);\r\n  return reduxStore;\r\n};\r\n","export const selectCommitRef = state => {\r\n  return state.getIn(['version', 'commitRef']);\r\n};\r\nexport const selectBuildNumber = state => {\r\n  return state.getIn(['version', 'buildNo']);\r\n};\r\n\r\nexport const selectVersionStatus = state => {\r\n  return state.getIn(['version', 'contensisVersionStatus']);\r\n};\r\n","export const hasNavigationTree = state => {\r\n  return state.getIn(['navigation', 'isReady']);\r\n};\r\n\r\nexport const selectNavigationRoot = state => {\r\n  return state.getIn(['navigation', 'root']);\r\n};\r\n\r\nexport const selectNavigationDepends = state => {\r\n  return state.getIn(['navigation', 'treeDepends']);\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__33__;","import { action } from '~/core/util/helpers';\r\nimport { SET_VERSION, SET_VERSION_STATUS } from '~/core/redux/types/version';\r\n\r\nexport const setVersion = (commitRef, buildNo) =>\r\n  action(SET_VERSION, { commitRef, buildNo });\r\n\r\nexport const setVersionStatus = status =>\r\n  action(SET_VERSION_STATUS, { status });\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__36__;","module.exports = __WEBPACK_EXTERNAL_MODULE__37__;","import React from 'react';\r\nconst NotFound = () => (\r\n  <>\r\n    <header>\r\n      <h1>404 Page Not Found</h1>\r\n    </header>\r\n  </>\r\n);\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route } from 'react-router-dom';\r\n\r\nexport const Status = ({ code, children }) => {\r\n  return (\r\n    <Route\r\n      render={({ staticContext }) => {\r\n        if (staticContext) staticContext.status = code;\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nStatus.propTypes = {\r\n  code: PropTypes.number.isRequired,\r\n  children: PropTypes.element,\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__40__;","import React, { useEffect, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { hot } from 'react-hot-loader';\r\nimport { Redirect, useLocation } from 'react-router-dom';\r\nimport { renderRoutes, matchRoutes } from 'react-router-config';\r\n\r\nimport {\r\n  selectRouteEntry,\r\n  selectRouteEntryContentTypeId,\r\n  selectRouteLoading,\r\n  selectIsNotFound,\r\n  selectCurrentProject,\r\n  selectCurrentPath,\r\n} from '~/core/redux/selectors/routing';\r\nimport { setNavigationPath } from '~/core/redux/actions/routing';\r\nimport NotFound from '~/pages/NotFound';\r\n\r\nimport { Status } from './Status';\r\nimport { toJS } from '../util/ToJs';\r\nimport { selectUserLoggedIn } from '~/features/login/redux/selectors';\r\n\r\nconst getTrimmedPath = path => {\r\n  if (path !== '/') {\r\n    const lastChar = path[path.length - 1];\r\n    if (lastChar == '/') {\r\n      return path.substring(0, path.length - 1);\r\n    }\r\n  }\r\n  return path;\r\n};\r\n\r\nconst RouteLoader = ({\r\n  statePath,\r\n  projectId,\r\n  contentTypeId,\r\n  entry,\r\n  isLoading,\r\n  isLoggedIn,\r\n  isNotFound,\r\n  loadingComponent,\r\n  notFoundComponent,\r\n  setNavigationPath,\r\n  routes,\r\n  withEvents,\r\n}) => {\r\n  const location = useLocation();\r\n\r\n  // Match any Static Routes a developer has defined\r\n  const matchedStaticRoute = () =>\r\n    matchRoutes(routes.StaticRoutes, location.pathname);\r\n  const isStaticRoute = () => matchedStaticRoute().length > 0;\r\n\r\n  const trimmedPath = getTrimmedPath(location.pathname);\r\n\r\n  const staticRoute = isStaticRoute() && matchedStaticRoute()[0];\r\n\r\n  const setPath = useCallback(() => {\r\n    let serverPath = null;\r\n    if (staticRoute && staticRoute.match && staticRoute.match.isExact) {\r\n      serverPath = staticRoute.route.path\r\n        .split('/')\r\n        .filter(p => !p.startsWith(':'))\r\n        .join('/');\r\n    }\r\n\r\n    setNavigationPath(\r\n      serverPath || trimmedPath,\r\n      location,\r\n      staticRoute,\r\n      withEvents,\r\n      statePath,\r\n      routes\r\n    );\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [\r\n    setNavigationPath,\r\n    // staticRoute,\r\n    withEvents,\r\n    location,\r\n    routes,\r\n    // statePath,\r\n    trimmedPath,\r\n  ]);\r\n\r\n  if (typeof window == 'undefined') setPath();\r\n\r\n  useEffect(() => {\r\n    setPath();\r\n  }, [location, setPath]);\r\n\r\n  // Need to redirect when url endswith a /\r\n  if (location.pathname.length > trimmedPath.length) {\r\n    return <Redirect to={trimmedPath} />;\r\n  }\r\n  // Render any Static Routes a developer has defined\r\n  if (isStaticRoute(trimmedPath)) {\r\n    return renderRoutes(routes.StaticRoutes, {\r\n      projectId,\r\n      contentTypeId,\r\n      entry,\r\n      isLoggedIn,\r\n    });\r\n  }\r\n\r\n  // Render a supplied Loading component if the route\r\n  // is not a static route and is in a loading state\r\n  if (isLoading && !isNotFound && loadingComponent) {\r\n    const LoadingComponent = loadingComponent;\r\n    return <LoadingComponent />;\r\n  }\r\n\r\n  // Match any defined Content Type Mappings\r\n  if (contentTypeId) {\r\n    const MatchedComponent = routes.ContentTypeMappings.find(\r\n      item => item.contentTypeID == contentTypeId\r\n    );\r\n\r\n    if (MatchedComponent) {\r\n      return (\r\n        <MatchedComponent.component\r\n          projectId={projectId}\r\n          contentTypeId={contentTypeId}\r\n          entry={entry}\r\n          isLoggedIn={isLoggedIn}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  const NotFoundComponent = notFoundComponent ? notFoundComponent : NotFound;\r\n  if (isNotFound) {\r\n    return (\r\n      <Status code={404}>\r\n        <NotFoundComponent />\r\n      </Status>\r\n    );\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nRouteLoader.propTypes = {\r\n  contentTypeId: PropTypes.string,\r\n  entry: PropTypes.object,\r\n  isLoading: PropTypes.bool,\r\n  isLoggedIn: PropTypes.bool,\r\n  isNotFound: PropTypes.bool,\r\n  loadingComponent: PropTypes.func,\r\n  notFoundComponent: PropTypes.func,\r\n  projectId: PropTypes.string,\r\n  routes: PropTypes.objectOf(PropTypes.array, PropTypes.array),\r\n  setNavigationPath: PropTypes.func,\r\n  statePath: PropTypes.string,\r\n  withEvents: PropTypes.object,\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    statePath: selectCurrentPath(state),\r\n    projectId: selectCurrentProject(state),\r\n    entry: selectRouteEntry(state),\r\n    contentTypeId: selectRouteEntryContentTypeId(state),\r\n    isNotFound: selectIsNotFound(state),\r\n    isLoggedIn: selectUserLoggedIn(state),\r\n    isLoading: selectRouteLoading(state),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setNavigationPath,\r\n};\r\n\r\nexport default hot(module)(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(toJS(RouteLoader))\r\n);\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__42__;","import { createBrowserHistory, createMemoryHistory } from 'history';\r\n\r\n// Create a history depending on the environment\r\nconst selectedHistory =\r\n  typeof window !== 'undefined' ? createBrowserHistory : createMemoryHistory;\r\n\r\nexport const history = (options = {}) => selectedHistory(options);\r\nexport const browserHistory = selectedHistory();\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__44__;","const servers = SERVERS; /* global SERVERS */\r\nconst alias = servers.alias.toLowerCase();\r\nconst publicUri = PUBLIC_URI; /* global PUBLIC_URI */\r\nconst projects = PROJECTS; /* global PROJECTS */\r\n\r\n// return a projectId via the request hostname\r\nconst pickProject = (hostname, query) => {\r\n  // if localhost we can only infer via a querystring, and take your word for it\r\n  if (hostname == 'localhost') {\r\n    return (query && query.p) || projects[0].id;\r\n  }\r\n\r\n  // if hostname is the actual public uri we can return the first project from the list\r\n  if (hostname == publicUri) {\r\n    return projects[0].id;\r\n  }\r\n\r\n  let project = 'unknown';\r\n\r\n  // // go through all the defined projects\r\n  // Object.entries(projects).map(([, p]) => {\r\n  const p = projects[0];\r\n\r\n  // check if we're accessing via the project's public uri\r\n  if (hostname.includes(p.publicUri)) project = p.id;\r\n\r\n  // the url structure is different for website (we don't prefix)\r\n  if (p.id.startsWith('website')) {\r\n    // check for internal and external hostnames\r\n    // we check live and preview distinctly so our rule does not clash with\r\n    // hostnames that use a project prefix\r\n    if (\r\n      hostname.includes(`live-${alias}.cloud.contensis.com`) ||\r\n      hostname.includes(`live.${alias}.contensis.cloud`) ||\r\n      hostname.includes(`preview-${alias}.cloud.contensis.com`) ||\r\n      hostname.includes(`preview.${alias}.contensis.cloud`)\r\n    )\r\n      project = p.id;\r\n  } else {\r\n    // check for internal and external hostnames, prefixed with the projectId\r\n    if (\r\n      hostname.includes(`${p.id.toLowerCase()}-${alias}.cloud.contensis.com`) ||\r\n      hostname.includes(`${p.id.toLowerCase()}.${alias}.contensis.cloud`)\r\n    )\r\n      project = p.id;\r\n  }\r\n  // });\r\n  return project === 'unknown' ? p.id : project;\r\n};\r\n\r\nexport default pickProject;\r\n","export const DataFormats = {\r\n  entry: 'entry',\r\n  webpage: 'webpage',\r\n};\r\n\r\nconst sys = {\r\n  contentTypeId: 'sys.contentTypeId',\r\n  dataFormat: 'sys.dataFormat',\r\n  filename: 'sys.properties.filename',\r\n  id: 'sys.id',\r\n  includeInSearch: 'sys.metadata.includeInSearch',\r\n  slug: 'sys.slug',\r\n  uri: 'sys.uri',\r\n  versionStatus: 'sys.versionStatus',\r\n};\r\n\r\nexport const Fields = {\r\n  entryTitle: 'entryTitle',\r\n  entryDescription: 'entryDescription',\r\n  keywords: 'keywords',\r\n  sys,\r\n  contentTypeId: 'sys.contentTypeId',\r\n  wildcard: '*',\r\n};\r\n\r\nexport const Projects = {\r\n  website: 'website',\r\n};\r\n\r\nexport const VersionStatus = {\r\n  published: 'published',\r\n  latest: 'latest',\r\n};\r\n\r\nexport const ContentTypes = {\r\n  contentPage: 'contentPage',\r\n};\r\n\r\nexport const WebpageFormats = {};\r\n\r\nexport const FilterExpressionTypes = {\r\n  contentType: 'contentType',\r\n  field: 'field',\r\n};\r\n","export const now = () => {\r\n  if (typeof window == 'undefined') {\r\n    return Date.now();\r\n  }\r\n  return window.performance.now();\r\n};\r\n","import { now } from '~/core/util/performance';\r\nimport { cachedSearch } from '~/core/util/ContensisDeliveryApi';\r\nimport { buildUrl } from '~/core/util/navigation';\r\n\r\nexport function fixFreeTextForElastic(s) {\r\n  let illegalChars = ['>', '<'];\r\n  let encodedChars = [\r\n    '+',\r\n    '-',\r\n    '=',\r\n    '&',\r\n    '|',\r\n    '!',\r\n    '(',\r\n    ')',\r\n    '{',\r\n    '}',\r\n    '[',\r\n    ']',\r\n    '^',\r\n    '\"',\r\n    '~',\r\n    '*',\r\n    '?',\r\n    ':',\r\n    '\\\\',\r\n    '/',\r\n  ];\r\n\r\n  let illegalRegEx = new RegExp(illegalChars.map(c => '\\\\' + c).join('|'), 'g');\r\n  let encodedRegEx = new RegExp(encodedChars.map(c => '\\\\' + c).join('|'), 'g');\r\n\r\n  s = s.replace(illegalRegEx, '');\r\n  s = s.replace(encodedRegEx, ''); // (m) => '\\\\\\\\' + m);\r\n  return s;\r\n}\r\n\r\nexport const timedSearch = async (query, linkDepth, projectId) => {\r\n  let duration = 0;\r\n\r\n  const start = now();\r\n  const payload = await cachedSearch.search(query, linkDepth, projectId);\r\n  const end = now();\r\n\r\n  duration = end - start;\r\n\r\n  return { duration, payload };\r\n};\r\n\r\nexport const extractQuotedPhrases = searchTerm => {\r\n  const pattern = new RegExp(\r\n    /(?=[\"'])(?:\"[^\"\\\\]*(?:\\\\[\\s\\S][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\s\\S][^'\\\\]*)*')/gm\r\n  );\r\n\r\n  return (searchTerm.match(pattern) || []).map(match =>\r\n    match.replace(/\"/g, '')\r\n  );\r\n};\r\n\r\nexport const callCustomApi = async (customApi, filters) => {\r\n  let uri = buildUrl(customApi.get('uri'), filters);\r\n  if (!uri) return null;\r\n  if (typeof window == 'undefined' && uri.startsWith('/'))\r\n    uri = `http://localhost:3001${uri}`;\r\n\r\n  const response = await fetch(uri);\r\n  return await response.json();\r\n};\r\n","import { Op, OrderBy } from 'contensis-delivery-api';\r\nimport { Fields, DataFormats } from '~/core/schema';\r\nimport {\r\n  fixFreeTextForElastic,\r\n  extractQuotedPhrases,\r\n} from '~/core/search/util';\r\n\r\nexport const fieldExpression = (\r\n  field,\r\n  value,\r\n  operator = 'equalTo',\r\n  weight = null\r\n) => {\r\n  if (!field || !value) return [];\r\n  if (Array.isArray(value)) return equalToOrIn(field, value, operator);\r\n  else\r\n    return !weight\r\n      ? [Op[operator](field, value)]\r\n      : [Op[operator](field, value).weight(weight)];\r\n};\r\n\r\nexport const contentTypeIdExpression = (contentTypeIds, webpageTemplates) => {\r\n  const expressions = [];\r\n  if (!contentTypeIds && !webpageTemplates) return expressions;\r\n\r\n  if (contentTypeIds && contentTypeIds.length > 0) {\r\n    expressions.push(\r\n      ...dataFormatExpression(contentTypeIds, DataFormats.entry)\r\n    );\r\n  }\r\n\r\n  if (webpageTemplates && webpageTemplates.length > 0) {\r\n    expressions.push(\r\n      ...dataFormatExpression(webpageTemplates, DataFormats.webpage)\r\n    );\r\n  }\r\n\r\n  if (expressions.length > 1) return [Op.or(...expressions)];\r\n\r\n  return expressions;\r\n};\r\n\r\nexport const filterExpressions = filters => {\r\n  if (!filters) return [];\r\n  const expressions = [];\r\n\r\n  filters.map(param => {\r\n    expressions.push(...fieldExpression(param.key, param.value, 'contains'));\r\n  });\r\n\r\n  return expressions;\r\n};\r\n\r\nexport const dataFormatExpression = (\r\n  contentTypeIds,\r\n  dataFormat = DataFormats.entry\r\n) => {\r\n  if (contentTypeIds && contentTypeIds.length > 0) {\r\n    /**\r\n     * We have an array of contentTypeIds some may be prefixed with a \"!\"\r\n     * to indicate this is a \"not\" expression\r\n     */\r\n    const withContentTypeIds = contentTypeIds.filter(c => !c.startsWith('!'));\r\n    const notContentTypeIds = contentTypeIds\r\n      .filter(c => c.startsWith('!'))\r\n      .map(id => id.substring(1));\r\n\r\n    const andExpr = Op.and();\r\n\r\n    const dataFormatExpr = fieldExpression(Fields.sys.dataFormat, dataFormat);\r\n\r\n    const withExpr = fieldExpression(\r\n      Fields.sys.contentTypeId,\r\n      withContentTypeIds\r\n    );\r\n\r\n    const notExpr = [\r\n      Op.not(...fieldExpression(Fields.sys.contentTypeId, notContentTypeIds)),\r\n    ];\r\n\r\n    andExpr.add(...dataFormatExpr);\r\n    if (withContentTypeIds.length > 0) andExpr.add(...withExpr);\r\n    if (notContentTypeIds.length > 0) andExpr.add(...notExpr);\r\n\r\n    return [andExpr];\r\n  }\r\n  return [];\r\n};\r\n\r\nexport const defaultExpressions = versionStatus => {\r\n  return [Op.equalTo(Fields.sys.versionStatus, versionStatus)];\r\n};\r\n\r\nexport const defaultSearchExpressions = versionStatus => {\r\n  return [\r\n    ...defaultExpressions(versionStatus),\r\n    ...includeInSearchExpressions(),\r\n  ];\r\n};\r\nexport const includeInSearchExpressions = () => [\r\n  Op.or(\r\n    Op.and(\r\n      Op.exists(Fields.sys.includeInSearch, true),\r\n      Op.equalTo(Fields.sys.includeInSearch, true)\r\n    ),\r\n    Op.exists(Fields.sys.includeInSearch, false)\r\n  ),\r\n];\r\n\r\nexport const orderByExpression = orderBy => {\r\n  let expression = OrderBy;\r\n  if (orderBy && orderBy.length > 0) {\r\n    orderBy.map(\r\n      ob =>\r\n        (expression = ob.startsWith('-')\r\n          ? expression.desc(ob.substring(1))\r\n          : expression.asc(ob))\r\n    );\r\n  }\r\n  return expression;\r\n};\r\n\r\nconst equalToOrIn = (field, arr, operator = 'equalTo') =>\r\n  arr.length === 0\r\n    ? []\r\n    : arr.length === 1\r\n    ? [Op[operator](field, arr[0])]\r\n    : [Op.in(field, ...arr)];\r\n\r\nexport const customWhereExpressions = where => {\r\n  if (!where || !Array.isArray(where)) return [];\r\n\r\n  // Accept HTTP style objects and map them to\r\n  // their equivalent JS client \"Op\" expressions\r\n  return where.map(clause => {\r\n    let expression;\r\n    Object.keys(clause).map((key, idx) => {\r\n      if (idx === 1) {\r\n        const operator = key;\r\n        const value = clause[key];\r\n        expression = Op[operator](clause.field, value, clause.weight);\r\n      }\r\n    });\r\n    return expression;\r\n  });\r\n};\r\n\r\nexport const termExpressions = (searchTerm, weightedSearchFields) => {\r\n  if (searchTerm && weightedSearchFields && weightedSearchFields.length > 0) {\r\n    // Extract any phrases in quotes to array\r\n    const quotedPhrases = extractQuotedPhrases(searchTerm);\r\n\r\n    // Modify the search term to remove any quoted phrases to leave any remaining terms\r\n    let modifiedSearchTerm = searchTerm;\r\n    quotedPhrases.forEach(\r\n      qp =>\r\n        (modifiedSearchTerm = modifiedSearchTerm\r\n          .replace(qp, '')\r\n          .replace('\"\"', '')\r\n          .trim())\r\n    );\r\n\r\n    // Push to the operators array to include in the query\r\n    const operators = [];\r\n\r\n    // Helper functions to generate Op expressions\r\n    const containsOp = (f, term) =>\r\n      fieldExpression(\r\n        f.fieldId,\r\n        fixFreeTextForElastic(term),\r\n        'contains',\r\n        f.weight\r\n      );\r\n    const freeTextOp = (f, term) =>\r\n      fieldExpression(\r\n        f.fieldId,\r\n        fixFreeTextForElastic(term),\r\n        'freeText',\r\n        f.weight\r\n      );\r\n\r\n    // For each weighted search field\r\n    weightedSearchFields.forEach(f => {\r\n      // Push to field operators\r\n      const fieldOperators = [];\r\n\r\n      // Add operator expressions for modified search term\r\n      if (modifiedSearchTerm) {\r\n        if (\r\n          [Fields.keywords, Fields.sys.filename, Fields.sys.uri].includes(\r\n            f.fieldId\r\n          )\r\n        ) {\r\n          fieldOperators.push(...containsOp(f, modifiedSearchTerm));\r\n        } else {\r\n          if ([Fields.entryTitle].includes(f.fieldId)) {\r\n            fieldOperators.push(\r\n              Op.or(\r\n                ...containsOp(f, modifiedSearchTerm),\r\n                ...freeTextOp(f, modifiedSearchTerm)\r\n              )\r\n            );\r\n          } else {\r\n            fieldOperators.push(...freeTextOp(f, modifiedSearchTerm));\r\n          }\r\n        }\r\n      }\r\n\r\n      // Add operator expressions for any quoted phrases\r\n      quotedPhrases.forEach(qp => fieldOperators.push(...containsOp(f, qp)));\r\n\r\n      // If we are using multiple operators for a field we will\r\n      // wrap each field inside an And operator so we will match\r\n      // all terms/phrases rather than any terms/phrases\r\n      if (fieldOperators.length > 1) {\r\n        operators.push(Op.and(...fieldOperators));\r\n      } else {\r\n        operators.push(...fieldOperators);\r\n      }\r\n    });\r\n\r\n    // Wrap operators in an Or operator\r\n    return [Op.or().addRange(operators)];\r\n  } else if (searchTerm) {\r\n    return [Op.contains(Fields.wildcard, searchTerm)];\r\n  } else {\r\n    return [];\r\n  }\r\n};\r\n","// eslint-disable-next-line import/named\r\nimport { Query } from '~/core/util/ContensisDeliveryApi';\r\nimport { fieldExpression, defaultExpressions } from '~/core/search/expressions';\r\n\r\nexport const routeEntryByFields = (\r\n  id,\r\n  fields = [],\r\n  versionStatus = 'published'\r\n) => {\r\n  const query = new Query(\r\n    ...[...fieldExpression('sys.id', id), ...defaultExpressions(versionStatus)]\r\n  );\r\n  query.fields = fields;\r\n  return query;\r\n};\r\n","// load-entries.js\r\nimport * as log from 'loglevel';\r\nimport { takeEvery, put, select, call, all } from 'redux-saga/effects';\r\nimport {\r\n  SET_ENTRY_ID,\r\n  SET_ENTRY,\r\n  SET_NAVIGATION_NOT_FOUND,\r\n  SET_NODE,\r\n  SET_ANCESTORS,\r\n  SET_NAVIGATION_PATH,\r\n  SET_ROUTE,\r\n  CALL_HISTORY_METHOD,\r\n  SET_SIBLINGS,\r\n} from '~/core/redux/types/routing';\r\nimport { cachedSearch, deliveryApi } from '~/core/util/ContensisDeliveryApi';\r\nimport { selectVersionStatus } from '~/core/redux/selectors/version';\r\nimport {\r\n  selectCurrentPath,\r\n  selectCurrentProject,\r\n  selectRouteEntry,\r\n} from '~/core/redux/selectors/routing';\r\nimport { GET_NODE_TREE } from '../types/navigation';\r\nimport { hasNavigationTree } from '../selectors/navigation';\r\nimport { routeEntryByFields } from './queries';\r\n\r\nexport const routingSagas = [\r\n  takeEvery(SET_NAVIGATION_PATH, getRouteSaga),\r\n  takeEvery(SET_ROUTE, setRouteSaga),\r\n];\r\n\r\n/**\r\n * To navigate / push a specific route via redux middleware\r\n * @param {path, state} action\r\n */\r\nfunction* setRouteSaga(action) {\r\n  yield put({\r\n    type: CALL_HISTORY_METHOD,\r\n    payload: {\r\n      method: 'push',\r\n      args: [action.path, action.state],\r\n    },\r\n  });\r\n}\r\n\r\n// function* deliveryApiResponseHandler(response) {\r\n//   debugger;\r\n\r\n//   yield put({ type: 'HANDLE_RESPONSE', headers: response.headers });\r\n// }\r\n\r\nfunction* getRouteSaga(action) {\r\n  let entry = null;\r\n  try {\r\n    const { withEvents, routes, staticRoute } = action;\r\n    let appsays;\r\n    if (withEvents && withEvents.onRouteLoad) {\r\n      appsays = yield withEvents.onRouteLoad(action);\r\n    }\r\n    // if appsays customNavigation: true, we will set doNavigation to false\r\n    // if appsays customNavigation: { ... }, we will set doNavigation to the customNavigation object and check for child elements\r\n    // if appsays nothing we will set doNavigation to true and continue to do navigation calls\r\n    const doNavigation =\r\n      !appsays ||\r\n      (appsays && appsays.customNavigation === true\r\n        ? false\r\n        : (appsays && appsays.customNavigation) || true);\r\n\r\n    const entryLinkDepth = (appsays && appsays.entryLinkDepth) || 3;\r\n    const setContentTypeLimits =\r\n      routes &&\r\n      routes.ContentTypeMappings &&\r\n      !!routes.ContentTypeMappings.find(ct => ct.fields || ct.linkDepth);\r\n\r\n    const state = yield select();\r\n    const routeEntry = selectRouteEntry(state);\r\n    const currentPath = selectCurrentPath(state);\r\n    const deliveryApiStatus = selectVersionStatus(state);\r\n    const project = selectCurrentProject(state);\r\n    const isHome = currentPath === '/';\r\n    const isPreview = currentPath && currentPath.startsWith('/preview/');\r\n    if (\r\n      !isPreview &&\r\n      ((appsays && appsays.customRouting) ||\r\n        (staticRoute && !staticRoute.route.fetchNode) ||\r\n        (routeEntry && action.statePath === action.path))\r\n    ) {\r\n      // To prevent erroneous 404s and wasted network calls, this covers\r\n      // - appsays customRouting and does SET_ENTRY etc. via the consuming app\r\n      // - all staticRoutes (where custom 'route.fetchNode' attribute is falsey)\r\n      // - standard Contensis SiteView Routing where we already have that entry in state\r\n      if (\r\n        routeEntry &&\r\n        (!staticRoute || (staticRoute.route && staticRoute.route.fetchNode))\r\n      ) {\r\n        // entry = routeEntry.toJS();\r\n        // yield put({\r\n        //   type: SET_ENTRY,\r\n        //   entry,\r\n        //   isLoading: false,\r\n        // });\r\n        //Do nothing, the entry is allready the right one.\r\n      } else yield call(setRouteEntry);\r\n    } else {\r\n      let pathNode = null,\r\n        ancestors = null,\r\n        siblings = null;\r\n\r\n      // Handle homepage\r\n      if (isHome) {\r\n        pathNode = yield cachedSearch.getRootNode(\r\n          {\r\n            depth: 0,\r\n            entryFields: '*',\r\n            entryLinkDepth,\r\n            language: 'en-GB',\r\n            versionStatus: deliveryApiStatus,\r\n          },\r\n          project\r\n        );\r\n      } else {\r\n        // Handle preview routes\r\n        if (isPreview) {\r\n          let splitPath = currentPath.split('/');\r\n          let entryGuid = splitPath[2];\r\n          if (splitPath.length == 3) {\r\n            // According to product dev we cannot use Node API\r\n            // for previewing entries as it gives a response of []\r\n            // -- apparently it is not correct to request latest content\r\n            // with Node API\r\n            let previewEntry = yield deliveryApi\r\n              .getClient(deliveryApiStatus, project)\r\n              .entries.get({ id: entryGuid, linkDepth: 3 });\r\n            if (previewEntry) {\r\n              pathNode = { entry: previewEntry };\r\n              // yield call(setRouteEntry, previewEntry);\r\n              // } else {\r\n              // yield call(do404);\r\n            }\r\n          }\r\n        } else {\r\n          // Handle all other routes\r\n          pathNode = yield cachedSearch.getNode(\r\n            {\r\n              depth:\r\n                doNavigation === true || doNavigation.children === true\r\n                  ? 3\r\n                  : (doNavigation && doNavigation.children) || 0,\r\n              path: currentPath,\r\n              entryFields: setContentTypeLimits\r\n                ? ['sys.contentTypeId', 'sys.id']\r\n                : '*',\r\n              entryLinkDepth: setContentTypeLimits ? 0 : entryLinkDepth,\r\n              versionStatus: deliveryApiStatus,\r\n            },\r\n            project\r\n          );\r\n          if (\r\n            setContentTypeLimits &&\r\n            pathNode &&\r\n            pathNode.entry &&\r\n            pathNode.entry.sys &&\r\n            pathNode.entry.sys.id\r\n          ) {\r\n            const contentType =\r\n              routes &&\r\n              routes.ContentTypeMappings &&\r\n              routes.ContentTypeMappings.find(\r\n                ct => ct.contentTypeID === pathNode.entry.sys.contentTypeId\r\n              );\r\n            const query = routeEntryByFields(\r\n              pathNode.entry.sys.id,\r\n              contentType && contentType.fields,\r\n              deliveryApiStatus\r\n            );\r\n            const payload = yield cachedSearch.search(\r\n              query,\r\n              contentType && typeof contentType.linkDepth !== 'undefined'\r\n                ? contentType.linkDepth\r\n                : 3,\r\n              project\r\n            );\r\n            if (payload && payload.items && payload.items.length > 0) {\r\n              pathNode.entry = payload.items[0];\r\n            }\r\n          }\r\n        }\r\n\r\n        if (\r\n          pathNode &&\r\n          pathNode.id &&\r\n          (doNavigation === true || doNavigation.ancestors)\r\n        ) {\r\n          ancestors = yield cachedSearch.getAncestors(pathNode.id, project);\r\n\r\n          if (doNavigation === true || doNavigation.siblings) {\r\n            siblings = yield cachedSearch.getSiblings(\r\n              {\r\n                id: pathNode.id,\r\n                entryFields: ['sys.contentTypeId', 'url'],\r\n              },\r\n              project\r\n            );\r\n          }\r\n        }\r\n      }\r\n\r\n      if (\r\n        pathNode &&\r\n        pathNode.entry &&\r\n        pathNode.entry.sys &&\r\n        pathNode.entry.sys.id\r\n      ) {\r\n        entry = pathNode.entry;\r\n        yield call(setRouteEntry, entry, pathNode, ancestors, siblings);\r\n      } else {\r\n        yield call(do404);\r\n      }\r\n      if (!appsays || !appsays.preventScrollTop) {\r\n        // Scroll into View\r\n        if (typeof window !== 'undefined') {\r\n          window.scroll({\r\n            top: 0,\r\n          });\r\n        }\r\n      }\r\n    }\r\n    if (withEvents && withEvents.onRouteLoaded) {\r\n      yield withEvents.onRouteLoaded({ ...action, entry });\r\n    }\r\n\r\n    if (\r\n      !hasNavigationTree(state) &&\r\n      (doNavigation === true || doNavigation.tree)\r\n    )\r\n      // Load navigation clientside only, a put() should help that work\r\n      yield put({\r\n        type: GET_NODE_TREE,\r\n        treeDepth:\r\n          doNavigation === true ||\r\n          !doNavigation.tree ||\r\n          doNavigation.tree === true\r\n            ? 2\r\n            : doNavigation.tree,\r\n      });\r\n  } catch (e) {\r\n    log.error(...['Error running route saga:', e, e.stack]);\r\n    yield call(do404);\r\n  }\r\n}\r\n\r\nfunction* setRouteEntry(entry, node, ancestors, siblings) {\r\n  yield all([\r\n    put({\r\n      type: SET_NAVIGATION_NOT_FOUND,\r\n      notFound: !(entry && entry.sys.id),\r\n    }),\r\n    put({\r\n      type: SET_NODE,\r\n      node,\r\n    }),\r\n    put({\r\n      type: SET_ENTRY,\r\n      entry: entry,\r\n    }),\r\n    put({\r\n      type: SET_ENTRY_ID,\r\n      id: (entry && entry.sys.id) || null,\r\n    }),\r\n    put({\r\n      type: SET_ANCESTORS,\r\n      ancestors,\r\n    }),\r\n    put({\r\n      type: SET_SIBLINGS,\r\n      siblings,\r\n    }),\r\n  ]);\r\n}\r\n\r\nfunction* do404() {\r\n  yield put({\r\n    type: SET_NAVIGATION_NOT_FOUND,\r\n    notFound: true,\r\n  });\r\n  yield put({\r\n    type: SET_ENTRY_ID,\r\n    id: null,\r\n  });\r\n  yield put({\r\n    type: SET_ENTRY,\r\n    entry: null,\r\n  });\r\n}\r\n","import { takeEvery, put, select } from 'redux-saga/effects';\r\n\r\nimport { deliveryApi } from '~/core/util/ContensisDeliveryApi';\r\nimport {\r\n  GET_NODE_TREE,\r\n  SET_NODE_TREE,\r\n  GET_NODE_TREE_ERROR,\r\n} from '~/core/redux/types/navigation';\r\nimport { hasNavigationTree } from '~/core/redux/selectors/navigation';\r\nimport { selectVersionStatus } from '../selectors/version';\r\nimport { selectCurrentProject } from '../selectors/routing';\r\n\r\nexport const navigationSagas = [takeEvery(GET_NODE_TREE, ensureNodeTreeSaga)];\r\n\r\nexport function* ensureNodeTreeSaga(action) {\r\n  const state = yield select();\r\n  try {\r\n    if (!hasNavigationTree(state)) {\r\n      const deliveryApiVersionStatus = yield select(selectVersionStatus);\r\n      const project = yield select(selectCurrentProject);\r\n      const nodes = yield deliveryApi\r\n        .getClient(deliveryApiVersionStatus, project)\r\n        .nodes.getRoot({\r\n          depth: action.treeDepth || 2,\r\n          entryFields: 'entryTitle, metaInformation, sys.contentTypeId',\r\n        });\r\n      if (nodes) {\r\n        yield put({ type: SET_NODE_TREE, nodes });\r\n      } else {\r\n        yield put({ type: GET_NODE_TREE_ERROR });\r\n      }\r\n    }\r\n  } catch (ex) {\r\n    yield put({ type: GET_NODE_TREE_ERROR, error: ex.toString() });\r\n  }\r\n}\r\n","// index.js\r\nimport { all } from 'redux-saga/effects';\r\nimport { routingSagas } from './routing';\r\nimport { sagas as userSagas } from '~/features/login';\r\nimport { navigationSagas } from './navigation';\r\nimport { validateUserSaga } from '~/features/login/redux/sagas';\r\n\r\nexport default function(featureSagas = []) {\r\n  return function* rootSaga() {\r\n    const subSagas = [...routingSagas, ...navigationSagas, ...userSagas];\r\n    yield all([validateUserSaga({}), ...subSagas, ...featureSagas]);\r\n  };\r\n}\r\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__51__;","import React from 'react';\r\nimport { hot } from 'react-hot-loader';\r\nimport RouteLoader from '~/core/routes/RouteLoader';\r\n\r\nconst AppRoot = props => {\r\n  return <RouteLoader {...props} />;\r\n};\r\n\r\nexport default hot(module)(AppRoot);\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__58__;","const client = require('../client/client').default;\r\nexport const ReactApp = require('~/App').default;\r\n\r\nexport default client;\r\n","import { Seq } from 'immutable';\r\n\r\nconst fromJSOrdered = js => {\r\n  return typeof js !== 'object' || js === null\r\n    ? js\r\n    : Array.isArray(js)\r\n    ? Seq(js)\r\n        .map(fromJSOrdered)\r\n        .toList()\r\n    : Seq(js)\r\n        .map(fromJSOrdered)\r\n        .toOrderedMap();\r\n};\r\n\r\nexport default fromJSOrdered;\r\n","import 'isomorphic-fetch';\r\nimport React from 'react';\r\nimport { render, hydrate } from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport { preloadReady } from 'react-loadable';\r\nimport { AppContainer } from 'react-hot-loader';\r\nimport { Provider as ReduxProvider } from 'react-redux';\r\nimport queryString from 'query-string';\r\nimport { fromJS } from 'immutable';\r\n\r\nimport createStore from '~/core/redux/store';\r\nimport rootSaga from '~/core/redux/sagas/index.js';\r\n\r\nimport { setVersionStatus } from '~/core/redux/actions/version';\r\nimport { deliveryApi } from '~/core/util/ContensisDeliveryApi';\r\nimport { setCurrentProject } from '~/core/redux/actions/routing';\r\nimport pickProject from '~/core/util/pickProject';\r\nimport fromJSOrdered from '~/core/util/fromJSOrdered';\r\nimport { browserHistory as history } from '~/core/redux/history';\r\n\r\nclass ClientApp {\r\n  constructor(ReactApp, config) {\r\n    const documentRoot = document.getElementById('root');\r\n\r\n    const { routes, withReducers, withSagas, withEvents } = config;\r\n\r\n    const GetClientJSX = store => {\r\n      const ClientJsx = (\r\n        <AppContainer>\r\n          <ReduxProvider store={store}>\r\n            <Router history={history}>\r\n              <ReactApp routes={routes} withEvents={withEvents} />\r\n            </Router>\r\n          </ReduxProvider>\r\n        </AppContainer>\r\n      );\r\n      return ClientJsx;\r\n    };\r\n\r\n    const isProduction = !(process.env.NODE_ENV != 'production');\r\n\r\n    /**\r\n     * Webpack HMR Setup.\r\n     */\r\n    const HMRRenderer = Component => {\r\n      preloadReady().then(() => {\r\n        isProduction\r\n          ? hydrate(Component, documentRoot)\r\n          : render(Component, documentRoot);\r\n      });\r\n    };\r\n    let store = null;\r\n    const qs = queryString.parse(window.location.search);\r\n\r\n    const versionStatusFromHostname = deliveryApi.getClientSideVersionStatus();\r\n    if (\r\n      window.isDynamic ||\r\n      window.REDUX_DATA ||\r\n      process.env.NODE_ENV !== 'production'\r\n    ) {\r\n      store = createStore(\r\n        withReducers,\r\n        fromJSOrdered(window.REDUX_DATA),\r\n        history\r\n      );\r\n      store.dispatch(\r\n        setVersionStatus(qs.versionStatus || versionStatusFromHostname)\r\n      );\r\n\r\n      /* eslint-disable no-console */\r\n      console.log('Hydrating from inline Redux');\r\n      /* eslint-enable no-console */\r\n      store.runSaga(rootSaga(withSagas));\r\n      store.dispatch(\r\n        setCurrentProject(pickProject(window.location.hostname, qs))\r\n      );\r\n\r\n      delete window.REDUX_DATA;\r\n      HMRRenderer(GetClientJSX(store));\r\n    } else {\r\n      fetch(`${window.location.pathname}?redux=true`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          /* eslint-disable no-console */\r\n          //console.log('Got Data Back');\r\n          // console.log(data);\r\n          /* eslint-enable no-console */\r\n          const ssRedux = JSON.parse(data);\r\n          store = createStore(withReducers, fromJS(ssRedux), history);\r\n          // store.dispatch(setVersionStatus(versionStatusFromHostname));\r\n\r\n          store.runSaga(rootSaga(withSagas));\r\n          store.dispatch(\r\n            setCurrentProject(\r\n              pickProject(\r\n                window.location.hostname,\r\n                queryString.parse(window.location.search)\r\n              )\r\n            )\r\n          );\r\n          // if (typeof window != 'undefined') {\r\n          //   store.dispatch(checkUserLoggedIn());\r\n          // }\r\n          HMRRenderer(GetClientJSX(store));\r\n        });\r\n    }\r\n\r\n    // webpack Hot Module Replacement API\r\n    if (module.hot) {\r\n      module.hot.accept('~/App', () => {\r\n        // if you are using harmony modules ({modules:false})\r\n        HMRRenderer(GetClientJSX(store));\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default ClientApp;\r\n"],"sourceRoot":""}