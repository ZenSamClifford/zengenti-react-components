{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///external \"react\"","webpack:///external \"immutable\"","webpack:///./src/app/core/util/ContensisDeliveryApi.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./src/app/core/redux/types/routing.js","webpack:///./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./src/app/core/redux/selectors/routing.js","webpack:///external \"react-router-dom\"","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireWildcard.js","webpack:///./node_modules/@redux-saga/symbols/dist/redux-saga-symbols.esm.js","webpack:///./node_modules/@redux-saga/is/dist/redux-saga-is.esm.js","webpack:///./node_modules/@redux-saga/delay-p/dist/redux-saga-delay-p.esm.js","webpack:///./node_modules/@redux-saga/core/dist/io-427945dd.js","webpack:///./node_modules/@redux-saga/core/dist/redux-saga-effects.esm.js","webpack:///./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.esm.js","webpack:///./src/app/core/redux/selectors/navigation.js","webpack:///external \"react-hot-loader\"","webpack:///external \"react-redux\"","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./src/app/core/redux/actions/routing.js","webpack:///./src/app/core/util/helpers.js","webpack:///./src/app/core/redux/types/version.js","webpack:///./src/app/core/redux/types/navigation.js","webpack:///./src/app/core/redux/selectors/version.js","webpack:///./src/app/core/redux/sagas/navigation.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/prop-types/index.js","webpack:///external \"react-loadable\"","webpack:///./src/app/core/routes/RouteLoader.js","webpack:///external \"isomorphic-fetch\"","webpack:///./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///./src/app/core/util/pickProject.js","webpack:///external \"contensis-delivery-api\"","webpack:///external \"regenerator-runtime\"","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./src/app/core/redux/actions/version.js","webpack:///./src/app/core/redux/store.js","webpack:///external \"redux\"","webpack:///external \"redux-immutable\"","webpack:///external \"redux-thunk\"","webpack:///external \"redux-saga\"","webpack:///./src/app/core/redux/reducers/routing.js","webpack:///./src/app/core/redux/reducers/version.js","webpack:///./src/app/core/redux/reducers/navigation.js","webpack:///./src/app/core/redux/routerMiddleware.js","webpack:///./src/app/core/redux/sagas/index.js","webpack:///./src/app/core/redux/sagas/routing.js","webpack:///external \"loglevel\"","webpack:///./src/app/App.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///external \"react-router-config\"","webpack:///./src/app/pages/NotFound.js","webpack:///./src/app/core/routes/Status.js","webpack:///./src/app/core/util/ToJs.js","webpack:///./src/app/lib-client.js","webpack:///./src/client/client.js","webpack:///external \"react-dom\"","webpack:///external \"query-string\"","webpack:///./src/app/core/redux/history.js","webpack:///./node_modules/resolve-pathname/esm/resolve-pathname.js","webpack:///./node_modules/value-equal/esm/value-equal.js","webpack:///./node_modules/tiny-invariant/dist/tiny-invariant.esm.js","webpack:///./node_modules/history/esm/history.js"],"names":["getClientConfig","project","config","DELIVERY_API_CONFIG","projectId","window","PROXY_DELIVERY_API","rootUrl","responseHandler","GetClientSideDeliveryApiStatus","currentHostname","location","hostname","GetDeliveryApiStatusFromHostname","indexOf","endsWith","fixImageUri","object","Object","keys","some","k","sys","id","userTransforms","transformations","uri","version","versionNo","GetResponseGuids","Ids","language","dataFormat","push","toLowerCase","subIds","length","GetAllResponseGuids","returnItems","unique","Set","DeliveryApi","query","linkDepth","env","client","Client","create","entries","search","deliveryApiStatus","baseConfig","versionStatus","get","deliveryApi","CacheNode","key","value","next","prev","LruCache","limit","map","head","tail","size","node","remove","setHead","CachedSearch","request","JSON","stringify","toString","clientConfig","contentTypes","taxonomy","resolveChildren","then","extendTaxonomyNode","execute","cache","promise","set","catch","getTaxonomyId","taxonomyLookup","children","n","parts","split","cachedSearch","ROUTING_PREFIX","GET_ENTRY","SET_ENTRY","SET_NODE","SET_ANCESTORS","SET_ENTRY_ID","SET_ENTRY_RELATED_ARTICLES","SET_NAVIGATION_NOT_FOUND","SET_NAVIGATION_PATH","SET_ROUTE_LOADING","SET_TARGET_PROJECT","SET_ROUTE","CALL_HISTORY_METHOD","selectRouteEntry","state","getIn","selectRouteEntryDepends","List","selectRouteEntryEntryId","selectRouteEntryContentTypeId","selectRouteEntrySlug","selectRouteEntryID","selectCurrentPath","selectCurrentProject","selectIsNotFound","selectCurrentAncestors","selectRouteLoading","selectRouteEntryRelatedArticles","hasNavigationTree","selectNavigationRoot","selectNavigationDepends","setNotFound","notFound","setNavigationPath","path","setRoute","setRouteEntry","entry","setRouteEntryRelatedArticles","relatedArticles","setCurrentProject","allowedGroups","ProjectHelper","val","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","format","e","preventDefault","document","getElementById","display","str","replace","letter","index","toUpperCase","stringToTrim","s","c","RegExp","arr","connector","slice","join","composer","fieldName","composerField","filter","type","work","uriParts","part","elem","pos","seperator","item","trim","forEach","cfi","getComposerContent","component","find","fileSize","kb","Math","ceil","mb","round","parseFloat","pow","toFixed","re","ext","exec","imageUrl","newImageUrl","includes","encodedString","translate_re","translate","nbsp","amp","quot","lt","gt","match","entity","numStr","num","parseInt","String","fromCharCode","event","action","code","keyCode","which","list","keyGetter","Map","has","payload","getWebPImageUri","formatedUri","resizeImage","image","height","width","asset","resizeImageUri","paramDelimeter","flattenArray","reduce","acc","concat","api","url","options","fetch","response","setTimeout","ok","Error","statusText","json","data","error","dynamicSort","property","sortOrder","substr","a","b","result","randomString","text","possible","i","charAt","floor","random","VERSION_PREFIX","SET_VERSION","SET_VERSION_STATUS","ACTION_PREFIX","GET_NODE_TREE","SET_NODE_TREE","GET_NODE_TREE_ERROR","selectCommitRef","selectBuildNumber","selectVersionStatus","ensureNodeTreeSaga","navigationSagas","deliveryApiVersionStatus","getClient","nodes","getRoot","depth","entryFields","getTrimmedPath","lastChar","substring","RouteLoader","MatchedStaticRoute","props","routes","StaticRoutes","pathname","currentPath","trimmedCurrentPath","contentTypeId","MatchedComponent","ContentTypeMappings","contentTypeID","isNotFound","trimmedPath","nextProps","nextPath","trimmedNextPath","trimmedPreviousPath","Component","PropTypes","objectOf","array","string","isRequired","history","bool","func","mapStateToProps","mapDispatchToProps","dispatch","module","servers","SERVERS","alias","publicUri","PUBLIC_URI","projects","PROJECTS","pickProject","p","setVersion","commitRef","buildNo","setVersionStatus","status","featureReducers","initialState","thunkMiddleware","thunk","reduxDevToolsMiddleware","f","__REDUX_DEVTOOLS_EXTENSION__","sagaMiddleware","middleware","applyMiddleware","reducers","navigation","NavigationReducer","routing","RoutingReducer","VersionReducer","store","combinedReducers","runSaga","run","close","END","currentNode","currentProject","entryID","entryDepends","currentNodeAncestors","ancestors","depends","loading","contensisVersionStatus","root","treeDepends","isError","isReady","routerMiddleware","method","args","featureSagas","rootSaga","subSagas","routingSagas","setRouteSaga","getRouteSaga","ensureNavigationTree","do404","console","log","pathNode","scroll","top","entryLinkDepth","startsWith","splitPath","entryGuid","getByEntry","entryId","getAncestors","info","treeLoaded","AppRoot","NotFound","Status","staticContext","propTypes","number","element","toJS","WrappedComponent","wrappedComponentProps","KEY","VALUE","propsJS","newProps","wrappedComponentProp","Iterable","isIterable","require","default","ClientApp","documentRoot","withReducers","withSagas","GetClientJSX","ClientJsx","HMRRenderer","process","versionStatusFromHostname","isDynamic","REDUX_DATA","queryString","parse","ssRedux","selectedHistory","createBrowserHistory","createMemoryHistory","browserHistory"],"mappings":"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AAgB,IAAI;AACpB;AACA,IAAI,4BAAU;AACd,wBAAwB,WAAW;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,yBAAO;AACX;AACA;AACA,IAAI,yBAAO;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,2BAAS;AACb,SAAS,yBAAO,WAAW,SAAS;AACpC;AACA,IAAI,wBAAM;AACV,oBAAoB,EAAE;AACtB;;AAEgM;;;AC7DnJ;;AAE7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH,UAAU,MAAM;AAChB;AACA;;AAEA;AACA;;AAEe,iEAAM,EAAC;;;ACnB0F;AACtD;AAC+D;AAChF;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,IAAI,KAAqE,EAAE,EAQ1E;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,6BAAiB;AACrB,EAAE,sCAAQ;;AAEV;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6lBAA6lB;;AAE7lB;AACA;AACA;AACA,IAAI,4BAAgB;AACpB;AACA,QAAQ,KAAqC,EAAE,EAI1C;;AAEL,kDAAkD,WAAW;AAC7D;AACA,KAAK;AACL;AACA;AACA,IAAI,2BAAe;AACnB,iBAAiB,SAAS;AAC1B;AACA,IAAI,wBAAY;AAChB,iBAAiB,WAAW;AAC5B;AACA;AACA,SAAS,2BAAe,SAAS,wBAAY;AAC7C;AACA;AACA;AACA;;AAEA,MAAM,KAAqC,EAAE,EAI1C;;AAEH;AACA;AACA,gBAAgB,KAAK;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,aAAa;AACnC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,kBAAM;AACV;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,kBAAM;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA,IAAI,sBAAU;AACd;;AAEA,kBAAkB,OAAO,EAAE;AAC3B;;AAEA,IAAI,wBAAY;AAChB,oBAAoB,EAAE;AACtB;;AAEA,IAAI,kBAAM;AACV,MAAM,KAAqC,EAAE,EAE1C;;AAEH,SAAS,sBAAU,OAAO,sCAAQ,GAAG;AACrC;AACA,GAAG;AACH;A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;AACA,WAAW,IAAI;AACf;;AAEA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,wFAAwF,aAAa;AACrG;AACA;;AAEA;AACA;AACA,WAAW,IAAI;AACf;;AAEA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA;;AAEA;AACA;AACA;AACA,aAAa,MAAM;AACnB;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,wFAAwF,aAAa;AACrG;AACA;;AAEA;AACA;AACA,WAAW,IAAI;AACf;;AAEA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,wFAAwF,aAAa;AACrG;AACA;;AAEA;AACA;AACA;AACA,WAAW,aAAa,UAAU,OAAO;AACzC;;AAEA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA;;AAEA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA;;AAEA;AACA;AACA,WAAW,KAAK;AAChB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA,wFAAwF,aAAa;AACrG;AACA;;AAEA;AACA;AACA,WAAW,IAAI;A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A,CAAhB;;;AACA,IAAM0L,cAAc,GAAGH,eAAe,EAAtC;;;;;;;;;;;;;;;;ACPP;AACA;AACA;;AAEA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,gCAAgC,QAAQ;AACxC;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,yBAAyB,MAAM;;AAE/B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEe,oEAAe,EAAC;;;AC1E/B,SAAS,mBAAO;AAChB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,iBAAiB,mBAAO;AACxB,iBAAiB,mBAAO;;AAExB;;AAEA,uCAAuC;AACvC;AACA,KAAK;AACL;;AAEA;AACA;;AAEe,0DAAU,EAAC;;;ACnC1B,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEe,gEAAS,EAAC;;;ACdzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0D;AACX;AACV;AACF;AACI;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,eAAe,sCAAQ,GAAG;AAC1B;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,0BAA0B,gBAAe;AACzC;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uGAAuG,WAAU;AACjH;;AAEA;AACA;;AAEA;AACA,IAAI,MAAqC,GAAG,SAAuE;AACnH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,UAAU,MAAqC,GAAG,SAAiG;AACnJ;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,eAAe,MAAqC,GAAG,SAA+C,GAAG,kBAAS;AAClH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI,MAAqC,GAAG,SAAwN;AACpQ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,sCAAQ;;AAEZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC;;AAEtC;AACA;AACA;;AAEA;AACA,IAAI,MAAqC,GAAG,SAA6O;AACzR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,QAAQ,MAAqC,GAAG,SAA+G;AAC/J;AACA;AACA,KAAK;AACL;;AAEA;AACA,IAAI,MAAqC,GAAG,SAAgP;AAC5R;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,QAAQ,MAAqC,GAAG,SAAkH;AAClK;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,eAAe,MAAqC,GAAG,SAA4C,GAAG,kBAAS;AAC/G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI,MAAqC,GAAG,SAAwN;AACpQ;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,sCAAQ;;AAEZ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,gFAAgF;;AAEhF,sDAAsD,uBAAuB;;AAE7E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,sCAAsC;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;;AAGH;AACA;AACA;AACA;AACA,+CAA+C;;AAE/C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,IAAI,MAAqC,GAAG,SAA6E;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,QAAQ,MAAqC,GAAG,SAA4G;AAC5J;AACA;AACA,KAAK;AACL;;AAEA;AACA,IAAI,MAAqC,GAAG,SAAgF;AAC5H;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,IAAI,MAAqC,GAAG,SAA2F;AACvI;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI,sCAAQ;;AAEZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG,EAAE;;AAEL;;AAEA;AACA,IAAI,MAAqC,GAAG,SAA6O;AACzR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,IAAI,MAAqC,GAAG,SAAgP;AAC5R;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEkI","file":"client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"immutable\"), require(\"react-router-dom\"), require(\"react-hot-loader\"), require(\"react-redux\"), require(\"react-loadable\"), require(\"isomorphic-fetch\"), require(\"contensis-delivery-api\"), require(\"regenerator-runtime\"), require(\"redux\"), require(\"redux-immutable\"), require(\"redux-thunk\"), require(\"redux-saga\"), require(\"loglevel\"), require(\"react-router-config\"), require(\"react-dom\"), require(\"query-string\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"immutable\", \"react-router-dom\", \"react-hot-loader\", \"react-redux\", \"react-loadable\", \"isomorphic-fetch\", \"contensis-delivery-api\", \"regenerator-runtime\", \"redux\", \"redux-immutable\", \"redux-thunk\", \"redux-saga\", \"loglevel\", \"react-router-config\", \"react-dom\", \"query-string\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"immutable\"), require(\"react-router-dom\"), require(\"react-hot-loader\"), require(\"react-redux\"), require(\"react-loadable\"), require(\"isomorphic-fetch\"), require(\"contensis-delivery-api\"), require(\"regenerator-runtime\"), require(\"redux\"), require(\"redux-immutable\"), require(\"redux-thunk\"), require(\"redux-saga\"), require(\"loglevel\"), require(\"react-router-config\"), require(\"react-dom\"), require(\"query-string\")) : factory(root[\"react\"], root[\"immutable\"], root[\"react-router-dom\"], root[\"react-hot-loader\"], root[\"react-redux\"], root[\"react-loadable\"], root[\"isomorphic-fetch\"], root[\"contensis-delivery-api\"], root[\"regenerator-runtime\"], root[\"redux\"], root[\"redux-immutable\"], root[\"redux-thunk\"], root[\"redux-saga\"], root[\"loglevel\"], root[\"react-router-config\"], root[\"react-dom\"], root[\"query-string\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(global, function(__WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__11__, __WEBPACK_EXTERNAL_MODULE__16__, __WEBPACK_EXTERNAL_MODULE__17__, __WEBPACK_EXTERNAL_MODULE__27__, __WEBPACK_EXTERNAL_MODULE__29__, __WEBPACK_EXTERNAL_MODULE__34__, __WEBPACK_EXTERNAL_MODULE__35__, __WEBPACK_EXTERNAL_MODULE__39__, __WEBPACK_EXTERNAL_MODULE__40__, __WEBPACK_EXTERNAL_MODULE__41__, __WEBPACK_EXTERNAL_MODULE__42__, __WEBPACK_EXTERNAL_MODULE__49__, __WEBPACK_EXTERNAL_MODULE__58__, __WEBPACK_EXTERNAL_MODULE__82__, __WEBPACK_EXTERNAL_MODULE__83__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 80);\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","import { Client } from 'contensis-delivery-api';\r\n\r\nconst getClientConfig = project => {\r\n  let config = DELIVERY_API_CONFIG; /* global DELIVERY_API_CONFIG */\r\n  if (project) {\r\n    config.projectId = project;\r\n  }\r\n\r\n  if (\r\n    typeof window != 'undefined' &&\r\n    PROXY_DELIVERY_API /* global PROXY_DELIVERY_API */\r\n  ) {\r\n    // ensure a relative url is used to bypass the need for CORS (separate OPTIONS calls)\r\n    config.rootUrl = '';\r\n    config.responseHandler = {\r\n      404: () => null,\r\n    };\r\n  }\r\n  return config;\r\n};\r\nexport * from 'contensis-delivery-api';\r\n\r\n// This should only be executed on the client as it relies on the window.\r\nexport const GetClientSideDeliveryApiStatus = () => {\r\n  if (typeof window != 'undefined') {\r\n    const currentHostname = window.location.hostname;\r\n    return GetDeliveryApiStatusFromHostname(currentHostname);\r\n  }\r\n  return null;\r\n};\r\n\r\nexport const GetDeliveryApiStatusFromHostname = currentHostname => {\r\n  if (currentHostname.indexOf('localhost') > -1) return 'latest';\r\n\r\n  if (currentHostname.endsWith('contensis.cloud')) {\r\n    if (currentHostname.indexOf('preview.') > -1) {\r\n      return 'latest';\r\n    } else {\r\n      return 'published';\r\n    }\r\n  }\r\n\r\n  if (currentHostname.endsWith('cloud.contensis.com')) {\r\n    if (currentHostname.indexOf('preview-') > -1) {\r\n      return 'latest';\r\n    } else {\r\n      return 'published';\r\n    }\r\n  }\r\n\r\n  return 'published';\r\n};\r\n\r\nexport const fixImageUri = object => {\r\n  Object.keys(object).some(function(k) {\r\n    if (k === 'asset') {\r\n      //Should always have an ID, but lets check...\r\n      if (object[k].sys && object[k].sys.id) {\r\n        // We can exclude assets here i think... ?\r\n        let userTransforms = object[k].transformations\r\n          ? `&${object[k].transformations}`\r\n          : '';\r\n\r\n        object[k].sys.uri = `/api/image/${\r\n          object[k].sys.id\r\n        }?invalidationKey=${object[k].sys &&\r\n          object[k].sys.version.versionNo}${userTransforms}`;\r\n      }\r\n      return false;\r\n    }\r\n    if (object[k] && typeof object[k] === 'object') {\r\n      fixImageUri(object[k]);\r\n      return false;\r\n    }\r\n  });\r\n};\r\n\r\nexport const GetResponseGuids = object => {\r\n  let Ids = [];\r\n  Object.keys(object).some(function(k) {\r\n    if (k === 'sys') {\r\n      //Should always have an ID, but lets check...\r\n      if (object[k].id && object[k].language) {\r\n        // We can exclude assets here i think... ?\r\n        if (object[k].dataFormat) {\r\n          if (object[k].dataFormat !== 'asset') {\r\n            Ids.push(`${object[k].id}_${object[k].language.toLowerCase()}`);\r\n          }\r\n        } else {\r\n          // If we don't have a dataformat add it anyhow, for safety\r\n          Ids.push(`${object[k].id}_${object[k].language.toLowerCase()}`);\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    if (object[k] && typeof object[k] === 'object') {\r\n      let subIds = GetResponseGuids(object[k]);\r\n      if (subIds.length > 0) {\r\n        Ids.push(...subIds);\r\n      }\r\n      return false;\r\n    }\r\n  });\r\n  return Ids;\r\n};\r\n\r\nexport const GetAllResponseGuids = object => {\r\n  if (!object) return [];\r\n  let returnItems = GetResponseGuids(object);\r\n  let unique = [...new Set(returnItems)];\r\n  return unique;\r\n};\r\nclass DeliveryApi {\r\n  search(query, linkDepth, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return client.entries.search(query, linkDepth || 1);\r\n  }\r\n\r\n  getClient(deliveryApiStatus = 'published', project, env) {\r\n    const baseConfig = getClientConfig(project, env);\r\n    baseConfig.versionStatus = deliveryApiStatus;\r\n    return Client.create(baseConfig);\r\n  }\r\n  getEntry(id, linkDepth = 1, deliveryApiStatus = 'published', project, env) {\r\n    const baseConfig = getClientConfig(project, env);\r\n    baseConfig.versionStatus = deliveryApiStatus;\r\n    const client = Client.create(baseConfig);\r\n    // return client.entries.get(id, linkDepth);\r\n    return client.entries.get({ id, linkDepth });\r\n  }\r\n}\r\n\r\nexport const deliveryApi = new DeliveryApi();\r\n\r\nclass CacheNode {\r\n  constructor(key, value) {\r\n    this.key = key;\r\n    this.value = value;\r\n    this.next = null;\r\n    this.prev = null;\r\n  }\r\n}\r\n\r\nclass LruCache {\r\n  constructor(limit = 100) {\r\n    this.map = {};\r\n    this.head = null;\r\n    this.tail = null;\r\n    this.limit = limit || 100;\r\n    this.size = 0;\r\n  }\r\n\r\n  get(key) {\r\n    if (this.map[key]) {\r\n      let value = this.map[key].value;\r\n      let node = new CacheNode(key, value);\r\n      this.remove(key);\r\n      this.setHead(node);\r\n      return value;\r\n    }\r\n  }\r\n\r\n  set(key, value) {\r\n    let node = new CacheNode(key, value);\r\n    if (this.map[key]) {\r\n      this.remove(key);\r\n    } else {\r\n      if (this.size >= this.limit) {\r\n        delete this.map[this.tail.key];\r\n        this.size--;\r\n        this.tail = this.tail.prev;\r\n        this.tail.next = null;\r\n      }\r\n    }\r\n    this.setHead(node);\r\n  }\r\n\r\n  setHead(node) {\r\n    node.next = this.head;\r\n    node.prev = null;\r\n    if (this.head) {\r\n      this.head.prev = node;\r\n    }\r\n    this.head = node;\r\n    if (!this.tail) {\r\n      this.tail = node;\r\n    }\r\n    this.size++;\r\n    this.map[node.key] = node;\r\n  }\r\n\r\n  remove(key) {\r\n    let node = this.map[key];\r\n    if (node.prev) {\r\n      node.prev.next = node.next;\r\n    } else {\r\n      this.head = node.next;\r\n    }\r\n    if (node.next) {\r\n      node.next.prev = node.prev;\r\n    } else {\r\n      this.tail = node.prev;\r\n    }\r\n    delete this.map[key];\r\n    this.size--;\r\n  }\r\n}\r\n\r\nclass CachedSearch {\r\n  cache = new LruCache();\r\n  taxonomyLookup = {};\r\n\r\n  search(query, linkDepth, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(\r\n      project + JSON.stringify(query) + linkDepth.toString(),\r\n      () => client.entries.search(query, linkDepth)\r\n    );\r\n  }\r\n\r\n  get(id, linkDepth, versionStatus, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    client.clientConfig.versionStatus = versionStatus;\r\n    return this.request(id, () => client.entries.get({ id, linkDepth }));\r\n  }\r\n\r\n  getContentType(id, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(`[CONTENT TYPE] ${id} ${project}`, () =>\r\n      client.contentTypes.get(id)\r\n    );\r\n  }\r\n\r\n  getTaxonomyNode(key, project, env) {\r\n    const client = Client.create(getClientConfig(project, env));\r\n    return this.request(`[TAXONOMY NODE] ${key}`, () =>\r\n      client.taxonomy\r\n        .resolveChildren(key)\r\n        .then(node => this.extendTaxonomyNode(node))\r\n    );\r\n  }\r\n\r\n  request(key, execute) {\r\n    if (!this.cache.get(key) || typeof window == 'undefined') {\r\n      let promise = execute();\r\n      this.cache.set(key, promise);\r\n      promise.catch(() => {\r\n        this.cache.remove(key);\r\n      });\r\n    }\r\n    return this.cache.get(key);\r\n  }\r\n\r\n  extendTaxonomyNode(node) {\r\n    let id = this.getTaxonomyId(node);\r\n    this.taxonomyLookup[id] = node.key;\r\n    return {\r\n      ...node,\r\n      id,\r\n      children: node.children\r\n        ? node.children.map(n => this.extendTaxonomyNode(n))\r\n        : null,\r\n    };\r\n  }\r\n\r\n  getTaxonomyId(node) {\r\n    if (node.key) {\r\n      let parts = node.key.split('/');\r\n      return parts[parts.length - 1];\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getTaxonomyKey(id) {\r\n    return this.taxonomyLookup[id];\r\n  }\r\n}\r\n\r\nexport const cachedSearch = new CachedSearch();\r\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","module.exports = require(\"regenerator-runtime\");\n","const ROUTING_PREFIX = '@ROUTING/';\r\nexport const GET_ENTRY = `${ROUTING_PREFIX}_GET_ENTRY`;\r\nexport const SET_ENTRY = `${ROUTING_PREFIX}_SET_ENTRY`;\r\nexport const SET_NODE = `${ROUTING_PREFIX}_SET_NODE`;\r\nexport const SET_ANCESTORS = `${ROUTING_PREFIX}_SET_ANCESTORS`;\r\nexport const SET_ENTRY_ID = `${ROUTING_PREFIX}_SET_ENTRY_ID`;\r\nexport const SET_ENTRY_RELATED_ARTICLES = `${ROUTING_PREFIX}_SET_ENTRY_RELATED_ARTICLES`;\r\n\r\nexport const SET_NAVIGATION_NOT_FOUND = `${ROUTING_PREFIX}_SET_NOT_FOUND`;\r\nexport const SET_NAVIGATION_PATH = `${ROUTING_PREFIX}_SET_NAVIGATION_PATH`;\r\nexport const SET_ROUTE_LOADING = `${ROUTING_PREFIX}_SET_ROUTE_LOADING`;\r\n\r\nexport const SET_TARGET_PROJECT = `${ROUTING_PREFIX}_SET_TARGET_PROJECT`;\r\n\r\nexport const SET_ROUTE = `${ROUTING_PREFIX}_SET_ROUTE`;\r\nexport const CALL_HISTORY_METHOD = `${ROUTING_PREFIX}_CALL_HISTORY_METHOD`;\r\n","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","import { List } from 'immutable';\r\n\r\nexport const selectRouteEntry = state => {\r\n  return state.getIn(['routing', 'entry']);\r\n};\r\nexport const selectRouteEntryDepends = state => {\r\n  return state.getIn(['routing', 'entryDepends'], new List());\r\n};\r\nexport const selectRouteEntryEntryId = state => {\r\n  return state.getIn(['routing', 'entry', 'sys', 'id'], null);\r\n};\r\nexport const selectRouteEntryContentTypeId = state => {\r\n  return state.getIn(['routing', 'entry', 'sys', 'contentTypeId'], null);\r\n};\r\nexport const selectRouteEntrySlug = state => {\r\n  return state.getIn(['routing', 'entry', 'sys', 'slug'], null);\r\n};\r\nexport const selectRouteEntryID = state => {\r\n  return state.getIn(['routing', 'entryID']);\r\n};\r\nexport const selectCurrentPath = state => {\r\n  return state.getIn(['routing', 'currentPath']);\r\n};\r\nexport const selectCurrentProject = state => {\r\n  return state.getIn(['routing', 'currentProject']);\r\n};\r\nexport const selectIsNotFound = state => {\r\n  return state.getIn(['routing', 'notFound']);\r\n};\r\nexport const selectCurrentAncestors = state => {\r\n  return state.getIn(['routing', 'currentNodeAncestors']);\r\n};\r\n\r\nexport const selectRouteLoading = state => {\r\n  return state.getIn(['routing', 'routeLoading']);\r\n};\r\n\r\nexport const selectRouteEntryRelatedArticles = state => {\r\n  return state.getIn(['routing', 'relatedArticles']);\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;","var createSymbol = function createSymbol(name) {\n  return \"@@redux-saga/\" + name;\n};\n\nvar CANCEL =\n/*#__PURE__*/\ncreateSymbol('CANCEL_PROMISE');\nvar CHANNEL_END_TYPE =\n/*#__PURE__*/\ncreateSymbol('CHANNEL_END');\nvar IO =\n/*#__PURE__*/\ncreateSymbol('IO');\nvar MATCH =\n/*#__PURE__*/\ncreateSymbol('MATCH');\nvar MULTICAST =\n/*#__PURE__*/\ncreateSymbol('MULTICAST');\nvar SAGA_ACTION =\n/*#__PURE__*/\ncreateSymbol('SAGA_ACTION');\nvar SELF_CANCELLATION =\n/*#__PURE__*/\ncreateSymbol('SELF_CANCELLATION');\nvar TASK =\n/*#__PURE__*/\ncreateSymbol('TASK');\nvar TASK_CANCEL =\n/*#__PURE__*/\ncreateSymbol('TASK_CANCEL');\nvar TERMINATE =\n/*#__PURE__*/\ncreateSymbol('TERMINATE');\nvar SAGA_LOCATION =\n/*#__PURE__*/\ncreateSymbol('LOCATION');\n\nexport { CANCEL, CHANNEL_END_TYPE, IO, MATCH, MULTICAST, SAGA_ACTION, SAGA_LOCATION, SELF_CANCELLATION, TASK, TASK_CANCEL, TERMINATE };\n","import { TASK, SAGA_ACTION, MULTICAST, IO } from '@redux-saga/symbols';\n\nvar undef = function undef(v) {\n  return v === null || v === undefined;\n};\nvar notUndef = function notUndef(v) {\n  return v !== null && v !== undefined;\n};\nvar func = function func(f) {\n  return typeof f === 'function';\n};\nvar number = function number(n) {\n  return typeof n === 'number';\n};\nvar string = function string(s) {\n  return typeof s === 'string';\n};\nvar array = Array.isArray;\nvar object = function object(obj) {\n  return obj && !array(obj) && typeof obj === 'object';\n};\nvar promise = function promise(p) {\n  return p && func(p.then);\n};\nvar iterator = function iterator(it) {\n  return it && func(it.next) && func(it.throw);\n};\nvar iterable = function iterable(it) {\n  return it && func(Symbol) ? func(it[Symbol.iterator]) : array(it);\n};\nvar task = function task(t) {\n  return t && t[TASK];\n};\nvar sagaAction = function sagaAction(a) {\n  return Boolean(a && a[SAGA_ACTION]);\n};\nvar observable = function observable(ob) {\n  return ob && func(ob.subscribe);\n};\nvar buffer = function buffer(buf) {\n  return buf && func(buf.isEmpty) && func(buf.take) && func(buf.put);\n};\nvar pattern = function pattern(pat) {\n  return pat && (string(pat) || symbol(pat) || func(pat) || array(pat) && pat.every(pattern));\n};\nvar channel = function channel(ch) {\n  return ch && func(ch.take) && func(ch.close);\n};\nvar stringableFunc = function stringableFunc(f) {\n  return func(f) && f.hasOwnProperty('toString');\n};\nvar symbol = function symbol(sym) {\n  return Boolean(sym) && typeof Symbol === 'function' && sym.constructor === Symbol && sym !== Symbol.prototype;\n};\nvar multicast = function multicast(ch) {\n  return channel(ch) && ch[MULTICAST];\n};\nvar effect = function effect(eff) {\n  return eff && eff[IO];\n};\n\nexport { array, buffer, channel, effect, func, iterable, iterator, multicast, notUndef, number, object, observable, pattern, promise, sagaAction, string, stringableFunc, symbol, task, undef };\n","import { CANCEL } from '@redux-saga/symbols';\n\nfunction delayP(ms, val) {\n  if (val === void 0) {\n    val = true;\n  }\n\n  var timeoutId;\n  var promise = new Promise(function (resolve) {\n    timeoutId = setTimeout(resolve, ms, val);\n  });\n\n  promise[CANCEL] = function () {\n    clearTimeout(timeoutId);\n  };\n\n  return promise;\n}\n\nexport default delayP;\n","import { TASK_CANCEL, TERMINATE, SAGA_LOCATION, SAGA_ACTION, IO, SELF_CANCELLATION } from '@redux-saga/symbols';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport { array, notUndef, pattern, multicast, channel, undef, task, func, buffer, string, object } from '@redux-saga/is';\nimport delayP from '@redux-saga/delay-p';\n\nvar konst = function konst(v) {\n  return function () {\n    return v;\n  };\n};\nvar kTrue =\n/*#__PURE__*/\nkonst(true);\n\nvar noop = function noop() {};\n\nif (process.env.NODE_ENV !== 'production' && typeof Proxy !== 'undefined') {\n  noop =\n  /*#__PURE__*/\n  new Proxy(noop, {\n    set: function set() {\n      throw internalErr('There was an attempt to assign a property to internal `noop` function.');\n    }\n  });\n}\nvar identity = function identity(v) {\n  return v;\n};\nvar hasSymbol = typeof Symbol === 'function';\nvar asyncIteratorSymbol = hasSymbol && Symbol.asyncIterator ? Symbol.asyncIterator : '@@asyncIterator';\nfunction check(value, predicate, error) {\n  if (!predicate(value)) {\n    throw new Error(error);\n  }\n}\nvar assignWithSymbols = function assignWithSymbols(target, source) {\n  _extends(target, source);\n\n  if (Object.getOwnPropertySymbols) {\n    Object.getOwnPropertySymbols(source).forEach(function (s) {\n      target[s] = source[s];\n    });\n  }\n};\nvar flatMap = function flatMap(mapper, arr) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, arr.map(mapper));\n};\nfunction remove(array, item) {\n  var index = array.indexOf(item);\n\n  if (index >= 0) {\n    array.splice(index, 1);\n  }\n}\nfunction once(fn) {\n  var called = false;\n  return function () {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    fn();\n  };\n}\n\nvar kThrow = function kThrow(err) {\n  throw err;\n};\n\nvar kReturn = function kReturn(value) {\n  return {\n    value: value,\n    done: true\n  };\n};\n\nfunction makeIterator(next, thro, name) {\n  if (thro === void 0) {\n    thro = kThrow;\n  }\n\n  if (name === void 0) {\n    name = 'iterator';\n  }\n\n  var iterator = {\n    meta: {\n      name: name\n    },\n    next: next,\n    throw: thro,\n    return: kReturn,\n    isSagaIterator: true\n  };\n\n  if (typeof Symbol !== 'undefined') {\n    iterator[Symbol.iterator] = function () {\n      return iterator;\n    };\n  }\n\n  return iterator;\n}\nfunction logError(error, _ref2) {\n  var sagaStack = _ref2.sagaStack;\n\n  /*eslint-disable no-console*/\n  console.error(error);\n  console.error(sagaStack);\n}\nvar internalErr = function internalErr(err) {\n  return new Error(\"\\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\\n  Error: \" + err + \"\\n\");\n};\nvar createSetContextWarning = function createSetContextWarning(ctx, props) {\n  return (ctx ? ctx + '.' : '') + \"setContext(props): argument \" + props + \" is not a plain object\";\n};\nvar FROZEN_ACTION_ERROR = \"You can't put (a.k.a. dispatch from saga) frozen actions.\\nWe have to define a special non-enumerable property on those actions for scheduling purposes.\\nOtherwise you wouldn't be able to communicate properly between sagas & other subscribers (action ordering would become far less predictable).\\nIf you are using redux and you care about this behaviour (frozen actions),\\nthen you might want to switch to freezing actions in a middleware rather than in action creator.\\nExample implementation:\\n\\nconst freezeActions = store => next => action => next(Object.freeze(action))\\n\"; // creates empty, but not-holey array\n\nvar createEmptyArray = function createEmptyArray(n) {\n  return Array.apply(null, new Array(n));\n};\nvar wrapSagaDispatch = function wrapSagaDispatch(dispatch) {\n  return function (action) {\n    if (process.env.NODE_ENV !== 'production') {\n      check(action, function (ac) {\n        return !Object.isFrozen(ac);\n      }, FROZEN_ACTION_ERROR);\n    }\n\n    return dispatch(Object.defineProperty(action, SAGA_ACTION, {\n      value: true\n    }));\n  };\n};\nvar shouldTerminate = function shouldTerminate(res) {\n  return res === TERMINATE;\n};\nvar shouldCancel = function shouldCancel(res) {\n  return res === TASK_CANCEL;\n};\nvar shouldComplete = function shouldComplete(res) {\n  return shouldTerminate(res) || shouldCancel(res);\n};\nfunction createAllStyleChildCallbacks(shape, parentCallback) {\n  var keys = Object.keys(shape);\n  var totalCount = keys.length;\n\n  if (process.env.NODE_ENV !== 'production') {\n    check(totalCount, function (c) {\n      return c > 0;\n    }, 'createAllStyleChildCallbacks: get an empty array or object');\n  }\n\n  var completedCount = 0;\n  var completed;\n  var results = array(shape) ? createEmptyArray(totalCount) : {};\n  var childCallbacks = {};\n\n  function checkEnd() {\n    if (completedCount === totalCount) {\n      completed = true;\n      parentCallback(results);\n    }\n  }\n\n  keys.forEach(function (key) {\n    var chCbAtKey = function chCbAtKey(res, isErr) {\n      if (completed) {\n        return;\n      }\n\n      if (isErr || shouldComplete(res)) {\n        parentCallback.cancel();\n        parentCallback(res, isErr);\n      } else {\n        results[key] = res;\n        completedCount++;\n        checkEnd();\n      }\n    };\n\n    chCbAtKey.cancel = noop;\n    childCallbacks[key] = chCbAtKey;\n  });\n\n  parentCallback.cancel = function () {\n    if (!completed) {\n      completed = true;\n      keys.forEach(function (key) {\n        return childCallbacks[key].cancel();\n      });\n    }\n  };\n\n  return childCallbacks;\n}\nfunction getMetaInfo(fn) {\n  return {\n    name: fn.name || 'anonymous',\n    location: getLocation(fn)\n  };\n}\nfunction getLocation(instrumented) {\n  return instrumented[SAGA_LOCATION];\n}\n\nvar BUFFER_OVERFLOW = \"Channel's Buffer overflow!\";\nvar ON_OVERFLOW_THROW = 1;\nvar ON_OVERFLOW_DROP = 2;\nvar ON_OVERFLOW_SLIDE = 3;\nvar ON_OVERFLOW_EXPAND = 4;\nvar zeroBuffer = {\n  isEmpty: kTrue,\n  put: noop,\n  take: noop\n};\n\nfunction ringBuffer(limit, overflowAction) {\n  if (limit === void 0) {\n    limit = 10;\n  }\n\n  var arr = new Array(limit);\n  var length = 0;\n  var pushIndex = 0;\n  var popIndex = 0;\n\n  var push = function push(it) {\n    arr[pushIndex] = it;\n    pushIndex = (pushIndex + 1) % limit;\n    length++;\n  };\n\n  var take = function take() {\n    if (length != 0) {\n      var it = arr[popIndex];\n      arr[popIndex] = null;\n      length--;\n      popIndex = (popIndex + 1) % limit;\n      return it;\n    }\n  };\n\n  var flush = function flush() {\n    var items = [];\n\n    while (length) {\n      items.push(take());\n    }\n\n    return items;\n  };\n\n  return {\n    isEmpty: function isEmpty() {\n      return length == 0;\n    },\n    put: function put(it) {\n      if (length < limit) {\n        push(it);\n      } else {\n        var doubledLimit;\n\n        switch (overflowAction) {\n          case ON_OVERFLOW_THROW:\n            throw new Error(BUFFER_OVERFLOW);\n\n          case ON_OVERFLOW_SLIDE:\n            arr[pushIndex] = it;\n            pushIndex = (pushIndex + 1) % limit;\n            popIndex = pushIndex;\n            break;\n\n          case ON_OVERFLOW_EXPAND:\n            doubledLimit = 2 * limit;\n            arr = flush();\n            length = arr.length;\n            pushIndex = arr.length;\n            popIndex = 0;\n            arr.length = doubledLimit;\n            limit = doubledLimit;\n            push(it);\n            break;\n\n          default: // DROP\n\n        }\n      }\n    },\n    take: take,\n    flush: flush\n  };\n}\n\nvar none = function none() {\n  return zeroBuffer;\n};\nvar fixed = function fixed(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_THROW);\n};\nvar dropping = function dropping(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_DROP);\n};\nvar sliding = function sliding(limit) {\n  return ringBuffer(limit, ON_OVERFLOW_SLIDE);\n};\nvar expanding = function expanding(initialSize) {\n  return ringBuffer(initialSize, ON_OVERFLOW_EXPAND);\n};\n\nvar buffers = /*#__PURE__*/Object.freeze({\n  none: none,\n  fixed: fixed,\n  dropping: dropping,\n  sliding: sliding,\n  expanding: expanding\n});\n\nvar TAKE = 'TAKE';\nvar PUT = 'PUT';\nvar ALL = 'ALL';\nvar RACE = 'RACE';\nvar CALL = 'CALL';\nvar CPS = 'CPS';\nvar FORK = 'FORK';\nvar JOIN = 'JOIN';\nvar CANCEL = 'CANCEL';\nvar SELECT = 'SELECT';\nvar ACTION_CHANNEL = 'ACTION_CHANNEL';\nvar CANCELLED = 'CANCELLED';\nvar FLUSH = 'FLUSH';\nvar GET_CONTEXT = 'GET_CONTEXT';\nvar SET_CONTEXT = 'SET_CONTEXT';\n\nvar effectTypes = /*#__PURE__*/Object.freeze({\n  TAKE: TAKE,\n  PUT: PUT,\n  ALL: ALL,\n  RACE: RACE,\n  CALL: CALL,\n  CPS: CPS,\n  FORK: FORK,\n  JOIN: JOIN,\n  CANCEL: CANCEL,\n  SELECT: SELECT,\n  ACTION_CHANNEL: ACTION_CHANNEL,\n  CANCELLED: CANCELLED,\n  FLUSH: FLUSH,\n  GET_CONTEXT: GET_CONTEXT,\n  SET_CONTEXT: SET_CONTEXT\n});\n\nvar TEST_HINT = '\\n(HINT: if you are getting these errors in tests, consider using createMockTask from @redux-saga/testing-utils)';\n\nvar makeEffect = function makeEffect(type, payload) {\n  var _ref;\n\n  return _ref = {}, _ref[IO] = true, _ref.combinator = false, _ref.type = type, _ref.payload = payload, _ref;\n};\n\nvar isForkEffect = function isForkEffect(eff) {\n  return eff && eff[IO] && eff.type === FORK;\n};\n\nvar detach = function detach(eff) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(eff, isForkEffect, 'detach(eff): argument must be a fork effect');\n  }\n\n  return makeEffect(FORK, _extends({}, eff.payload, {\n    detached: true\n  }));\n};\nfunction take(patternOrChannel, multicastPattern) {\n  if (patternOrChannel === void 0) {\n    patternOrChannel = '*';\n  }\n\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], notUndef, 'take(patternOrChannel): patternOrChannel is undefined');\n  }\n\n  if (pattern(patternOrChannel)) {\n    return makeEffect(TAKE, {\n      pattern: patternOrChannel\n    });\n  }\n\n  if (multicast(patternOrChannel) && notUndef(multicastPattern) && pattern(multicastPattern)) {\n    return makeEffect(TAKE, {\n      channel: patternOrChannel,\n      pattern: multicastPattern\n    });\n  }\n\n  if (channel(patternOrChannel)) {\n    return makeEffect(TAKE, {\n      channel: patternOrChannel\n    });\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    throw new Error(\"take(patternOrChannel): argument \" + patternOrChannel + \" is not valid channel or a valid pattern\");\n  }\n}\nvar takeMaybe = function takeMaybe() {\n  var eff = take.apply(void 0, arguments);\n  eff.payload.maybe = true;\n  return eff;\n};\nfunction put(channel$1, action) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      check(channel$1, notUndef, 'put(channel, action): argument channel is undefined');\n      check(channel$1, channel, \"put(channel, action): argument \" + channel$1 + \" is not a valid channel\");\n      check(action, notUndef, 'put(channel, action): argument action is undefined');\n    } else {\n      check(channel$1, notUndef, 'put(action): argument action is undefined');\n    }\n  }\n\n  if (undef(action)) {\n    action = channel$1; // `undefined` instead of `null` to make default parameter work\n\n    channel$1 = undefined;\n  }\n\n  return makeEffect(PUT, {\n    channel: channel$1,\n    action: action\n  });\n}\nvar putResolve = function putResolve() {\n  var eff = put.apply(void 0, arguments);\n  eff.payload.resolve = true;\n  return eff;\n};\nfunction all(effects) {\n  var eff = makeEffect(ALL, effects);\n  eff.combinator = true;\n  return eff;\n}\nfunction race(effects) {\n  var eff = makeEffect(RACE, effects);\n  eff.combinator = true;\n  return eff;\n} // this match getFnCallDescriptor logic\n\nvar validateFnDescriptor = function validateFnDescriptor(effectName, fnDescriptor) {\n  check(fnDescriptor, notUndef, effectName + \": argument fn is undefined or null\");\n\n  if (func(fnDescriptor)) {\n    return;\n  }\n\n  var context = null;\n  var fn;\n\n  if (array(fnDescriptor)) {\n    context = fnDescriptor[0];\n    fn = fnDescriptor[1];\n    check(fn, notUndef, effectName + \": argument of type [context, fn] has undefined or null `fn`\");\n  } else if (object(fnDescriptor)) {\n    context = fnDescriptor.context;\n    fn = fnDescriptor.fn;\n    check(fn, notUndef, effectName + \": argument of type {context, fn} has undefined or null `fn`\");\n  } else {\n    check(fnDescriptor, func, effectName + \": argument fn is not function\");\n    return;\n  }\n\n  if (context && string(fn)) {\n    check(context[fn], func, effectName + \": context arguments has no such method - \\\"\" + fn + \"\\\"\");\n    return;\n  }\n\n  check(fn, func, effectName + \": unpacked fn argument (from [context, fn] or {context, fn}) is not a function\");\n};\n\nfunction getFnCallDescriptor(fnDescriptor, args) {\n  var context = null;\n  var fn;\n\n  if (func(fnDescriptor)) {\n    fn = fnDescriptor;\n  } else {\n    if (array(fnDescriptor)) {\n      context = fnDescriptor[0];\n      fn = fnDescriptor[1];\n    } else {\n      context = fnDescriptor.context;\n      fn = fnDescriptor.fn;\n    }\n\n    if (context && string(fn) && func(context[fn])) {\n      fn = context[fn];\n    }\n  }\n\n  return {\n    context: context,\n    fn: fn,\n    args: args\n  };\n}\n\nvar isNotDelayEffect = function isNotDelayEffect(fn) {\n  return fn !== delay;\n};\n\nfunction call(fnDescriptor) {\n  for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    args[_key - 1] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    var arg0 = typeof args[0] === 'number' ? args[0] : 'ms';\n    check(fnDescriptor, isNotDelayEffect, \"instead of writing `yield call(delay, \" + arg0 + \")` where delay is an effect from `redux-saga/effects` you should write `yield delay(\" + arg0 + \")`\");\n    validateFnDescriptor('call', fnDescriptor);\n  }\n\n  return makeEffect(CALL, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction apply(context, fn, args) {\n  if (args === void 0) {\n    args = [];\n  }\n\n  var fnDescriptor = [context, fn];\n\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('apply', fnDescriptor);\n  }\n\n  return makeEffect(CALL, getFnCallDescriptor([context, fn], args));\n}\nfunction cps(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('cps', fnDescriptor);\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n\n  return makeEffect(CPS, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction fork(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('fork', fnDescriptor);\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n    args[_key3 - 1] = arguments[_key3];\n  }\n\n  return makeEffect(FORK, getFnCallDescriptor(fnDescriptor, args));\n}\nfunction spawn(fnDescriptor) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateFnDescriptor('spawn', fnDescriptor);\n  }\n\n  for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n    args[_key4 - 1] = arguments[_key4];\n  }\n\n  return detach(fork.apply(void 0, [fnDescriptor].concat(args)));\n}\nfunction join(taskOrTasks) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error('join(...tasks) is not supported any more. Please use join([...tasks]) to join multiple tasks.');\n    }\n\n    if (array(taskOrTasks)) {\n      taskOrTasks.forEach(function (t) {\n        check(t, task, \"join([...tasks]): argument \" + t + \" is not a valid Task object \" + TEST_HINT);\n      });\n    } else {\n      check(taskOrTasks, task, \"join(task): argument \" + taskOrTasks + \" is not a valid Task object \" + TEST_HINT);\n    }\n  }\n\n  return makeEffect(JOIN, taskOrTasks);\n}\nfunction cancel(taskOrTasks) {\n  if (taskOrTasks === void 0) {\n    taskOrTasks = SELF_CANCELLATION;\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (arguments.length > 1) {\n      throw new Error('cancel(...tasks) is not supported any more. Please use cancel([...tasks]) to cancel multiple tasks.');\n    }\n\n    if (array(taskOrTasks)) {\n      taskOrTasks.forEach(function (t) {\n        check(t, task, \"cancel([...tasks]): argument \" + t + \" is not a valid Task object \" + TEST_HINT);\n      });\n    } else if (taskOrTasks !== SELF_CANCELLATION && notUndef(taskOrTasks)) {\n      check(taskOrTasks, task, \"cancel(task): argument \" + taskOrTasks + \" is not a valid Task object \" + TEST_HINT);\n    }\n  }\n\n  return makeEffect(CANCEL, taskOrTasks);\n}\nfunction select(selector) {\n  if (selector === void 0) {\n    selector = identity;\n  }\n\n  for (var _len5 = arguments.length, args = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n    args[_key5 - 1] = arguments[_key5];\n  }\n\n  if (process.env.NODE_ENV !== 'production' && arguments.length) {\n    check(arguments[0], notUndef, 'select(selector, [...]): argument selector is undefined');\n    check(selector, func, \"select(selector, [...]): argument \" + selector + \" is not a function\");\n  }\n\n  return makeEffect(SELECT, {\n    selector: selector,\n    args: args\n  });\n}\n/**\n  channel(pattern, [buffer])    => creates a proxy channel for store actions\n**/\n\nfunction actionChannel(pattern$1, buffer$1) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(pattern$1, pattern, 'actionChannel(pattern,...): argument pattern is not valid');\n\n    if (arguments.length > 1) {\n      check(buffer$1, notUndef, 'actionChannel(pattern, buffer): argument buffer is undefined');\n      check(buffer$1, buffer, \"actionChannel(pattern, buffer): argument \" + buffer$1 + \" is not a valid buffer\");\n    }\n  }\n\n  return makeEffect(ACTION_CHANNEL, {\n    pattern: pattern$1,\n    buffer: buffer$1\n  });\n}\nfunction cancelled() {\n  return makeEffect(CANCELLED, {});\n}\nfunction flush(channel$1) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(channel$1, channel, \"flush(channel): argument \" + channel$1 + \" is not valid channel\");\n  }\n\n  return makeEffect(FLUSH, channel$1);\n}\nfunction getContext(prop) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(prop, string, \"getContext(prop): argument \" + prop + \" is not a string\");\n  }\n\n  return makeEffect(GET_CONTEXT, prop);\n}\nfunction setContext(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(props, object, createSetContextWarning(null, props));\n  }\n\n  return makeEffect(SET_CONTEXT, props);\n}\nvar delay =\n/*#__PURE__*/\ncall.bind(null, delayP);\n\nexport { apply as $, ALL as A, logError as B, CALL as C, wrapSagaDispatch as D, identity as E, FORK as F, GET_CONTEXT as G, buffers as H, detach as I, JOIN as J, take as K, fork as L, cancel as M, call as N, actionChannel as O, PUT as P, sliding as Q, RACE as R, SELECT as S, TAKE as T, delay as U, race as V, effectTypes as W, takeMaybe as X, put as Y, putResolve as Z, all as _, CPS as a, cps as a0, spawn as a1, join as a2, select as a3, cancelled as a4, flush as a5, getContext as a6, setContext as a7, CANCEL as b, check as c, ACTION_CHANNEL as d, expanding as e, CANCELLED as f, FLUSH as g, SET_CONTEXT as h, internalErr as i, getMetaInfo as j, kTrue as k, createAllStyleChildCallbacks as l, createEmptyArray as m, none as n, once as o, assignWithSymbols as p, makeIterator as q, remove as r, shouldComplete as s, noop as t, flatMap as u, getLocation as v, createSetContextWarning as w, asyncIteratorSymbol as x, shouldCancel as y, shouldTerminate as z };\n","import '@redux-saga/symbols';\nimport '@babel/runtime/helpers/esm/extends';\nimport { channel, stringableFunc, func, notUndef } from '@redux-saga/is';\nimport { q as makeIterator, K as take, L as fork, M as cancel, N as call, O as actionChannel, Q as sliding, U as delay, V as race, c as check } from './io-427945dd.js';\nexport { O as actionChannel, _ as all, $ as apply, N as call, M as cancel, a4 as cancelled, a0 as cps, U as delay, W as effectTypes, a5 as flush, L as fork, a6 as getContext, a2 as join, Y as put, Z as putResolve, V as race, a3 as select, a7 as setContext, a1 as spawn, K as take, X as takeMaybe } from './io-427945dd.js';\nimport '@redux-saga/delay-p';\n\nvar done = function done(value) {\n  return {\n    done: true,\n    value: value\n  };\n};\n\nvar qEnd = {};\nfunction safeName(patternOrChannel) {\n  if (channel(patternOrChannel)) {\n    return 'channel';\n  }\n\n  if (stringableFunc(patternOrChannel)) {\n    return String(patternOrChannel);\n  }\n\n  if (func(patternOrChannel)) {\n    return patternOrChannel.name;\n  }\n\n  return String(patternOrChannel);\n}\nfunction fsmIterator(fsm, startState, name) {\n  var stateUpdater,\n      errorState,\n      effect,\n      nextState = startState;\n\n  function next(arg, error) {\n    if (nextState === qEnd) {\n      return done(arg);\n    }\n\n    if (error && !errorState) {\n      nextState = qEnd;\n      throw error;\n    } else {\n      stateUpdater && stateUpdater(arg);\n      var currentState = error ? fsm[errorState](error) : fsm[nextState]();\n      nextState = currentState.nextState;\n      effect = currentState.effect;\n      stateUpdater = currentState.stateUpdater;\n      errorState = currentState.errorState;\n      return nextState === qEnd ? done(arg) : effect;\n    }\n  }\n\n  return makeIterator(next, function (error) {\n    return next(null, error);\n  }, name);\n}\n\nfunction takeEvery(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var action,\n      setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action)\n      };\n    }\n  }, 'q1', \"takeEvery(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction takeLatest(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yCancel = function yCancel(task) {\n    return {\n      done: false,\n      value: cancel(task)\n    };\n  };\n\n  var task, action;\n\n  var setTask = function setTask(t) {\n    return task = t;\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return task ? {\n        nextState: 'q3',\n        effect: yCancel(task)\n      } : {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    },\n    q3: function q3() {\n      return {\n        nextState: 'q1',\n        effect: yFork(action),\n        stateUpdater: setTask\n      };\n    }\n  }, 'q1', \"takeLatest(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction takeLeading(patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n\n  var yCall = function yCall(ac) {\n    return {\n      done: false,\n      value: call.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var action;\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q1',\n        effect: yCall(action)\n      };\n    }\n  }, 'q1', \"takeLeading(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nfunction throttle(delayLength, pattern, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var action, channel;\n  var yActionChannel = {\n    done: false,\n    value: actionChannel(pattern, sliding(1))\n  };\n\n  var yTake = function yTake() {\n    return {\n      done: false,\n      value: take(channel)\n    };\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yDelay = {\n    done: false,\n    value: delay(delayLength)\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  var setChannel = function setChannel(ch) {\n    return channel = ch;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yActionChannel,\n        stateUpdater: setChannel\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q3',\n        effect: yTake(),\n        stateUpdater: setAction\n      };\n    },\n    q3: function q3() {\n      return {\n        nextState: 'q4',\n        effect: yFork(action)\n      };\n    },\n    q4: function q4() {\n      return {\n        nextState: 'q2',\n        effect: yDelay\n      };\n    }\n  }, 'q1', \"throttle(\" + safeName(pattern) + \", \" + worker.name + \")\");\n}\n\nfunction retry(maxTries, delayLength, fn) {\n  var counter = maxTries;\n\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var yCall = {\n    done: false,\n    value: call.apply(void 0, [fn].concat(args))\n  };\n  var yDelay = {\n    done: false,\n    value: delay(delayLength)\n  };\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yCall,\n        errorState: 'q10'\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: qEnd\n      };\n    },\n    q10: function q10(error) {\n      counter -= 1;\n\n      if (counter <= 0) {\n        throw error;\n      }\n\n      return {\n        nextState: 'q1',\n        effect: yDelay\n      };\n    }\n  }, 'q1', \"retry(\" + fn.name + \")\");\n}\n\nfunction debounceHelper(delayLength, patternOrChannel, worker) {\n  for (var _len = arguments.length, args = new Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {\n    args[_key - 3] = arguments[_key];\n  }\n\n  var action, raceOutput;\n  var yTake = {\n    done: false,\n    value: take(patternOrChannel)\n  };\n  var yRace = {\n    done: false,\n    value: race({\n      action: take(patternOrChannel),\n      debounce: delay(delayLength)\n    })\n  };\n\n  var yFork = function yFork(ac) {\n    return {\n      done: false,\n      value: fork.apply(void 0, [worker].concat(args, [ac]))\n    };\n  };\n\n  var yNoop = function yNoop(value) {\n    return {\n      done: false,\n      value: value\n    };\n  };\n\n  var setAction = function setAction(ac) {\n    return action = ac;\n  };\n\n  var setRaceOutput = function setRaceOutput(ro) {\n    return raceOutput = ro;\n  };\n\n  return fsmIterator({\n    q1: function q1() {\n      return {\n        nextState: 'q2',\n        effect: yTake,\n        stateUpdater: setAction\n      };\n    },\n    q2: function q2() {\n      return {\n        nextState: 'q3',\n        effect: yRace,\n        stateUpdater: setRaceOutput\n      };\n    },\n    q3: function q3() {\n      return raceOutput.debounce ? {\n        nextState: 'q1',\n        effect: yFork(action)\n      } : {\n        nextState: 'q2',\n        effect: yNoop(raceOutput.action),\n        stateUpdater: setAction\n      };\n    }\n  }, 'q1', \"debounce(\" + safeName(patternOrChannel) + \", \" + worker.name + \")\");\n}\n\nvar validateTakeEffect = function validateTakeEffect(fn, patternOrChannel, worker) {\n  check(patternOrChannel, notUndef, fn.name + \" requires a pattern or channel\");\n  check(worker, notUndef, fn.name + \" requires a saga parameter\");\n};\n\nfunction takeEvery$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeEvery$1, patternOrChannel, worker);\n  }\n\n  for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  return fork.apply(void 0, [takeEvery, patternOrChannel, worker].concat(args));\n}\nfunction takeLatest$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLatest$1, patternOrChannel, worker);\n  }\n\n  for (var _len2 = arguments.length, args = new Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n    args[_key2 - 2] = arguments[_key2];\n  }\n\n  return fork.apply(void 0, [takeLatest, patternOrChannel, worker].concat(args));\n}\nfunction takeLeading$1(patternOrChannel, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    validateTakeEffect(takeLeading$1, patternOrChannel, worker);\n  }\n\n  for (var _len3 = arguments.length, args = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n    args[_key3 - 2] = arguments[_key3];\n  }\n\n  return fork.apply(void 0, [takeLeading, patternOrChannel, worker].concat(args));\n}\nfunction throttle$1(ms, pattern, worker) {\n  if (process.env.NODE_ENV !== 'production') {\n    check(pattern, notUndef, 'throttle requires a pattern');\n    check(worker, notUndef, 'throttle requires a saga parameter');\n  }\n\n  for (var _len4 = arguments.length, args = new Array(_len4 > 3 ? _len4 - 3 : 0), _key4 = 3; _key4 < _len4; _key4++) {\n    args[_key4 - 3] = arguments[_key4];\n  }\n\n  return fork.apply(void 0, [throttle, ms, pattern, worker].concat(args));\n}\nfunction retry$1(maxTries, delayLength, worker) {\n  for (var _len5 = arguments.length, args = new Array(_len5 > 3 ? _len5 - 3 : 0), _key5 = 3; _key5 < _len5; _key5++) {\n    args[_key5 - 3] = arguments[_key5];\n  }\n\n  return call.apply(void 0, [retry, maxTries, delayLength, worker].concat(args));\n}\nfunction debounce(delayLength, pattern, worker) {\n  for (var _len6 = arguments.length, args = new Array(_len6 > 3 ? _len6 - 3 : 0), _key6 = 3; _key6 < _len6; _key6++) {\n    args[_key6 - 3] = arguments[_key6];\n  }\n\n  return fork.apply(void 0, [debounceHelper, delayLength, pattern, worker].concat(args));\n}\n\nexport { debounce, retry$1 as retry, takeEvery$1 as takeEvery, takeLatest$1 as takeLatest, takeLeading$1 as takeLeading, throttle$1 as throttle };\n","export * from '@redux-saga/core/effects';\n","export const hasNavigationTree = state => {\r\n  return state.getIn(['navigation', 'isReady']);\r\n};\r\n\r\nexport const selectNavigationRoot = state => {\r\n  return state.getIn(['navigation', 'root']);\r\n};\r\n\r\nexport const selectNavigationDepends = state => {\r\n  return state.getIn(['navigation', 'treeDepends']);\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__16__;","module.exports = __WEBPACK_EXTERNAL_MODULE__17__;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","import { action } from '~/core/util/helpers';\r\nimport {\r\n  SET_ENTRY,\r\n  SET_NAVIGATION_NOT_FOUND,\r\n  SET_NAVIGATION_PATH,\r\n  SET_ENTRY_RELATED_ARTICLES,\r\n  SET_TARGET_PROJECT,\r\n  SET_ROUTE,\r\n} from '~/core/redux/types/routing';\r\n\r\nexport const setNotFound = notFound =>\r\n  action(SET_NAVIGATION_NOT_FOUND, { notFound });\r\nexport const setNavigationPath = path => action(SET_NAVIGATION_PATH, { path });\r\nexport const setRoute = (path, state) => action(SET_ROUTE, { path, state });\r\nexport const setRouteEntry = entry => action(SET_ENTRY, { entry });\r\nexport const setRouteEntryRelatedArticles = relatedArticles =>\r\n  action(SET_ENTRY_RELATED_ARTICLES, { relatedArticles });\r\n\r\nexport const setCurrentProject = (project, allowedGroups) =>\r\n  action(SET_TARGET_PROJECT, { project, allowedGroups });\r\n","export default class ProjectHelper {\r\n  static currencyFormat(val) {\r\n    const formatter = new Intl.NumberFormat('en-GB', {\r\n      style: 'currency',\r\n      currency: 'GBP',\r\n      minimumFractionDigits: 0,\r\n    });\r\n    return formatter.format(val);\r\n  }\r\n\r\n  static showChildren(e) {\r\n    e.preventDefault;\r\n\r\n    let children = document.getElementById(e);\r\n    if (children.style.display == 'block') {\r\n      children.style.display = 'none';\r\n    } else {\r\n      children.style.display = 'block';\r\n    }\r\n  }\r\n\r\n  static camelize(str) {\r\n    return str\r\n      .replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (letter, index) => {\r\n        return index == 0 ? letter.toLowerCase() : letter.toUpperCase();\r\n      })\r\n      .replace(/\\s+/g, '');\r\n  }\r\n\r\n  static ltrim(stringToTrim) {\r\n    return stringToTrim.replace(/^\\s+/, '');\r\n  }\r\n\r\n  static trim(s, c = ' ') {\r\n    if (c === ']') c = '\\\\]';\r\n    if (c === '\\\\') c = '\\\\\\\\';\r\n    return s.replace(new RegExp('^[' + c + ']+|[' + c + ']+$', 'g'), '');\r\n  }\r\n\r\n  static ArrayToSentence(arr, connector = 'and') {\r\n    return arr.length > 1\r\n      ? arr.slice(0, -1).join(', ') + ' ' + connector + ' ' + arr.slice(-1)\r\n      : arr.toString();\r\n  }\r\n\r\n  static GetComposerContent(composer, fieldName) {\r\n    if (composer) {\r\n      let composerField = composer\r\n        .filter(c => c.type === fieldName)\r\n        .map(c => {\r\n          return c.value;\r\n        });\r\n      return composerField;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  static dedupeUriSlashes(uri) {\r\n    const work = uri.replace('//', '~~'); // replace first instance of double slash with tildes to switch out again for slashes later\r\n    const uriParts = work.split('/').filter(part => part); // split the working url into parts and filter any null parts\r\n    return uriParts.join('/').replace('~~', '//');\r\n  }\r\n\r\n  static dedupeArray(arr) {\r\n    // remove duplicates from simple array\r\n    return arr.filter((elem, pos, arr) => arr.indexOf(elem) == pos);\r\n  }\r\n\r\n  static stringToArray(s, seperator = ',') {\r\n    return typeof s === 'string'\r\n      ? s.split(seperator).map(item => ProjectHelper.trim(item))\r\n      : s;\r\n  }\r\n\r\n  static composedFieldToObject(composer) {\r\n    // convert array of [ { type: 'type', value: composerItem } ]\r\n    // to plain object of { type: composerItem }\r\n    const object = {};\r\n    composer.forEach(\r\n      cfi =>\r\n        (object[cfi.type] = ProjectHelper.getComposerContent(\r\n          cfi.type,\r\n          composer\r\n        ))\r\n    );\r\n    return object;\r\n  }\r\n\r\n  static getComposerContent(type, composer) {\r\n    const component = composer.find(c => c.type === type);\r\n    return component && component.value;\r\n  }\r\n\r\n  static getFileSize(fileSize) {\r\n    const kb = Math.ceil(fileSize * 0.0009765625);\r\n    const mb =\r\n      Math.round(\r\n        parseFloat((fileSize * 0.00000095367432 * Math.pow(10, 2)).toFixed(2))\r\n      ) / Math.pow(10, 2);\r\n\r\n    if (kb < 1000) {\r\n      return kb + 'KB';\r\n    }\r\n    return mb + 'MB';\r\n  }\r\n\r\n  static getFileExtension(uri) {\r\n    const re = /(?:\\.([^.]+))?$/;\r\n    const ext = re.exec(uri)[1];\r\n\r\n    if (ext) {\r\n      return ext.toUpperCase();\r\n    }\r\n    return '';\r\n  }\r\n  static renderImageAsWebP(imageUrl) {\r\n    //Set new url to current url by default\r\n    let newImageUrl = imageUrl;\r\n    //First check if image has has webp referenced in url\r\n    if (imageUrl && !imageUrl.includes('webp')) {\r\n      //Check if image already has transformations\r\n      if (!imageUrl.includes('?')) {\r\n        //If not load image as webp\r\n        newImageUrl = imageUrl + '?f=webp';\r\n      } else {\r\n        //Otherwise append webp format to existing transformations\r\n        newImageUrl = imageUrl + '&f=webp';\r\n      }\r\n    }\r\n    return newImageUrl;\r\n  }\r\n\r\n  static decodeEntities(encodedString) {\r\n    var translate_re = /&(nbsp|amp|quot|lt|gt);/g;\r\n    var translate = {\r\n      nbsp: ' ',\r\n      amp: '&',\r\n      quot: '\"',\r\n      lt: '<',\r\n      gt: '>',\r\n    };\r\n    return encodedString\r\n      .replace(translate_re, function(match, entity) {\r\n        return translate[entity];\r\n      })\r\n      .replace(/&#(\\d+);/gi, function(match, numStr) {\r\n        var num = parseInt(numStr, 10);\r\n        return String.fromCharCode(num);\r\n      });\r\n  }\r\n\r\n  static keyPress(event, action) {\r\n    var code = event.keyCode || event.which;\r\n    if (code === 13) {\r\n      action;\r\n    }\r\n  }\r\n\r\n  static GroupBy(list, keyGetter) {\r\n    const map = new Map();\r\n    list.forEach(item => {\r\n      const key = keyGetter(item);\r\n      if (!map.has(key)) {\r\n        map.set(key, [item]);\r\n      } else {\r\n        map.get(key).push(item);\r\n      }\r\n    });\r\n    return map;\r\n  }\r\n}\r\nexport function action(type, payload = {}) {\r\n  return { type, ...payload };\r\n}\r\n\r\nexport const getWebPImageUri = uri => {\r\n  let formatedUri = uri;\r\n  if (uri.indexOf('.gif') == -1) {\r\n    if (uri.indexOf('f=') == -1 && uri.indexOf('format=') == -1) {\r\n      if (uri.indexOf('?') > -1) {\r\n        formatedUri = `${uri}&f=webp`;\r\n      } else {\r\n        formatedUri = `${uri}?f=webp`;\r\n      }\r\n    }\r\n    if (\r\n      formatedUri.indexOf('q=') == -1 &&\r\n      formatedUri.indexOf('quality=') == -1\r\n    ) {\r\n      if (formatedUri.indexOf('?') > -1) {\r\n        formatedUri = `${formatedUri}&q=70`;\r\n      } else {\r\n        formatedUri = `${formatedUri}?q=70`;\r\n      }\r\n    }\r\n  }\r\n  return formatedUri;\r\n};\r\n\r\nexport const resizeImage = (image, height, width) => {\r\n  if (image.asset && image.asset.sys && image.asset.sys.uri) {\r\n    image.asset.sys.uri = resizeImageUri(image.asset.sys.uri, height, width);\r\n  }\r\n};\r\nexport const resizeImageUri = (uri, height, width) => {\r\n  let formatedUri = uri;\r\n  let paramDelimeter = '?';\r\n  if (uri.indexOf('?') > -1) {\r\n    paramDelimeter = '&';\r\n  }\r\n  if (width) {\r\n    if (\r\n      formatedUri.indexOf('w=') == -1 &&\r\n      formatedUri.indexOf('width=') == -1\r\n    ) {\r\n      formatedUri = `${formatedUri}${paramDelimeter}w=${width}`;\r\n      paramDelimeter = '&';\r\n    }\r\n  }\r\n  if (height) {\r\n    if (\r\n      formatedUri.indexOf('h=') == -1 &&\r\n      formatedUri.indexOf('height=') == -1\r\n    ) {\r\n      formatedUri = `${formatedUri}${paramDelimeter}h=${height}`;\r\n    }\r\n  }\r\n\r\n  return formatedUri;\r\n};\r\n\r\nexport function flattenArray(arr) {\r\n  // flatten arrays inside the supplied array and\r\n  // remove duplicates from the result\r\n  return arr\r\n    .reduce((acc, val) => acc.concat(val), [])\r\n    .filter((elem, pos, arr) => arr.indexOf(elem) == pos);\r\n}\r\n\r\nexport async function api(url, options) {\r\n  return fetch(url, options)\r\n    .then(async response => {\r\n      setTimeout(() => null, 0);\r\n      if (!response.ok) {\r\n        throw new Error(response.statusText);\r\n      }\r\n      return response.json().then(data => data);\r\n    })\r\n    .catch(error => {\r\n      //console.log(error);\r\n      throw error;\r\n    });\r\n}\r\n\r\nexport function dynamicSort(property) {\r\n  var sortOrder = 1;\r\n  if (property[0] === '-') {\r\n    sortOrder = -1;\r\n    property = property.substr(1);\r\n  }\r\n  return function(a, b) {\r\n    /* next line works with strings and numbers,\r\n     * and you may want to customize it to your needs\r\n     */\r\n    var result =\r\n      a[property] < b[property] ? -1 : a[property] > b[property] ? 1 : 0;\r\n    return result * sortOrder;\r\n  };\r\n}\r\n\r\nexport const randomString = length => {\r\n  let text = '';\r\n  const possible =\r\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n  for (var i = 0; i < length; i++) {\r\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n  }\r\n  return text;\r\n};\r\n","const VERSION_PREFIX = '@VERSION/';\r\nexport const SET_VERSION = `${VERSION_PREFIX}SET_VERSION`;\r\nexport const SET_VERSION_STATUS = `${VERSION_PREFIX}SET_VERSION_STATUS`;\r\n","const ACTION_PREFIX = '@NAVIGATION/';\r\nexport const GET_NODE_TREE = `${ACTION_PREFIX}_GET_NODE_TREE`;\r\nexport const SET_NODE_TREE = `${ACTION_PREFIX}_SET_NODE_TREE`;\r\nexport const GET_NODE_TREE_ERROR = `${ACTION_PREFIX}_GET_NODE_TREE_ERROR`;\r\n","export const selectCommitRef = state => {\r\n  return state.getIn(['version', 'commitRef']);\r\n};\r\nexport const selectBuildNumber = state => {\r\n  return state.getIn(['version', 'buildNo']);\r\n};\r\n\r\nexport const selectVersionStatus = state => {\r\n  return state.getIn(['version', 'contensisVersionStatus']);\r\n};\r\n","import { takeEvery, put, select } from 'redux-saga/effects';\r\n\r\nimport { deliveryApi } from '~/core/util/ContensisDeliveryApi';\r\nimport {\r\n  GET_NODE_TREE,\r\n  SET_NODE_TREE,\r\n  GET_NODE_TREE_ERROR,\r\n} from '~/core/redux/types/navigation';\r\nimport { hasNavigationTree } from '~/core/redux/selectors/navigation';\r\nimport { selectVersionStatus } from '../selectors/version';\r\nimport { selectCurrentProject } from '../selectors/routing';\r\n\r\nexport const navigationSagas = [takeEvery(GET_NODE_TREE, ensureNodeTreeSaga)];\r\n\r\nexport function* ensureNodeTreeSaga() {\r\n  const state = yield select();\r\n  try {\r\n    if (!hasNavigationTree(state)) {\r\n      const deliveryApiVersionStatus = yield select(selectVersionStatus);\r\n      const project = yield select(selectCurrentProject);\r\n      const nodes = yield deliveryApi\r\n        .getClient(deliveryApiVersionStatus, project)\r\n        .nodes.getRoot({\r\n          depth: 8,\r\n          entryFields: 'entryTitle, metaInformation, sys.contentTypeId',\r\n        });\r\n      if (nodes) {\r\n        yield put({ type: SET_NODE_TREE, nodes });\r\n      } else {\r\n        yield put({ type: GET_NODE_TREE_ERROR });\r\n      }\r\n    }\r\n  } catch (ex) {\r\n    yield put({ type: GET_NODE_TREE_ERROR, error: ex.toString() });\r\n  }\r\n}\r\n","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__27__;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { hot } from 'react-hot-loader';\r\nimport { withRouter, Redirect } from 'react-router-dom';\r\nimport { renderRoutes, matchRoutes } from 'react-router-config';\r\n\r\nimport {\r\n  selectRouteEntry,\r\n  selectRouteEntryContentTypeId,\r\n  selectIsNotFound,\r\n} from '~/core/redux/selectors/routing';\r\nimport { setNavigationPath } from '~/core/redux/actions/routing';\r\nimport NotFound from '~/pages/NotFound';\r\n\r\nimport { Status } from './Status';\r\nimport { toJS } from '../util/ToJs';\r\n\r\nconst getTrimmedPath = path => {\r\n  if (path !== '/') {\r\n    const lastChar = path[path.length - 1];\r\n    if (lastChar == '/') {\r\n      return path.substring(0, path.length - 1);\r\n    }\r\n  }\r\n  return path;\r\n};\r\n\r\nclass RouteLoader extends Component {\r\n  static propTypes = {\r\n    routes: PropTypes.objectOf(PropTypes.array, PropTypes.array),\r\n    currentPath: PropTypes.string,\r\n    location: PropTypes.object.isRequired,\r\n    history: PropTypes.object.isRequired,\r\n    match: PropTypes.object.isRequired,\r\n    entry: PropTypes.object,\r\n    isNotFound: PropTypes.bool,\r\n    setNavigationPath: PropTypes.func,\r\n    contentTypeId: PropTypes.string,\r\n  };\r\n  static defaultProps = {};\r\n\r\n  componentWillMount() {\r\n    const trimmedPath = getTrimmedPath(this.props.location.pathname);\r\n    this.props.setNavigationPath(trimmedPath);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    const nextPath = nextProps.location.pathname;\r\n    const trimmedNextPath = getTrimmedPath(nextPath);\r\n    const trimmedPreviousPath = getTrimmedPath(this.props.location.pathname);\r\n    if (trimmedPreviousPath !== trimmedNextPath) {\r\n      this.props.setNavigationPath(trimmedNextPath);\r\n    }\r\n  }\r\n\r\n  render = () => {\r\n    // Match Any Static Routes a developer has defined\r\n\r\n    const MatchedStaticRoute = matchRoutes(\r\n      this.props.routes.StaticRoutes,\r\n      typeof window != 'undefined'\r\n        ? window.location.pathname\r\n        : this.props.location.pathname\r\n    );\r\n\r\n    if (MatchedStaticRoute.length > 0) {\r\n      // debugger;\r\n      return renderRoutes(this.props.routes.StaticRoutes, {\r\n        entry: this.props.entry,\r\n      });\r\n    }\r\n\r\n    // Need to redirect when url endswith a /\r\n    const currentPath = this.props.location.pathname;\r\n    const trimmedCurrentPath = getTrimmedPath(this.props.location.pathname);\r\n    if (currentPath.length > trimmedCurrentPath.length) {\r\n      return <Redirect to={trimmedCurrentPath} />;\r\n    }\r\n    // Match Any Defined Content Type Mappings\r\n    if (this.props.contentTypeId) {\r\n      const MatchedComponent = this.props.routes.ContentTypeMappings.find(\r\n        item => item.contentTypeID == this.props.contentTypeId\r\n      );\r\n\r\n      if (MatchedComponent) {\r\n        return <MatchedComponent.component entry={this.props.entry} />;\r\n      }\r\n    }\r\n\r\n    if (this.props.isNotFound) {\r\n      return (\r\n        <Status code={404}>\r\n          <NotFound />\r\n        </Status>\r\n      );\r\n    }\r\n    return null;\r\n  };\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    entry: selectRouteEntry(state),\r\n    contentTypeId: selectRouteEntryContentTypeId(state),\r\n    isNotFound: selectIsNotFound(state),\r\n  };\r\n};\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setNavigationPath: path => dispatch(setNavigationPath(path)),\r\n  };\r\n}\r\n\r\nexport default hot(module)(\r\n  withRouter(\r\n    connect(\r\n      mapStateToProps,\r\n      mapDispatchToProps\r\n    )(toJS(RouteLoader))\r\n  )\r\n);\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__29__;","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","const servers = SERVERS; /* global SERVERS */\r\nconst alias = servers.alias;\r\nconst publicUri = PUBLIC_URI; /* global PUBLIC_URI */\r\nconst projects = PROJECTS; /* global PROJECTS */\r\n\r\n// return a projectId via the request hostname\r\nconst pickProject = (hostname, query) => {\r\n  // if localhost we can only infer via a querystring, and take your word for it\r\n  if (hostname == 'localhost') {\r\n    return (query && query.p) || projects[0].id;\r\n  }\r\n\r\n  // if hostname is the actual public uri we can return the first project from the list\r\n  if (hostname == publicUri) {\r\n    return projects[0].id;\r\n  }\r\n\r\n  let project = 'unknown';\r\n\r\n  // go through all the defined projects\r\n  projects.forEach(p => {\r\n    // check if we're accessing via the project's public uri\r\n    if (hostname.includes(p.publicUri)) project = p.id;\r\n\r\n    // the url structure is different for website (we don't prefix)\r\n    if (p.id == 'website') {\r\n      // check for internal and external hostnames\r\n      // we check live and preview distinctly so our rule does not clash with\r\n      // hostnames that use a project prefix\r\n      if (\r\n        hostname.includes(`live-${alias}.cloud.contensis.com`) ||\r\n        hostname.includes(`live.${alias}.contensis.cloud`) ||\r\n        hostname.includes(`preview-${alias}.cloud.contensis.com`) ||\r\n        hostname.includes(`preview.${alias}.contensis.cloud`)\r\n      )\r\n        project = p.id;\r\n    } else {\r\n      // check for internal and external hostnames, prefixed with the projectId\r\n      if (\r\n        hostname.includes(`${p.id}-${alias}.cloud.contensis.com`) ||\r\n        hostname.includes(`${p.id}.${alias}.contensis.cloud`)\r\n      )\r\n        project = p.id;\r\n    }\r\n  });\r\n  return project;\r\n};\r\n\r\nexport default pickProject;\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__34__;","module.exports = __WEBPACK_EXTERNAL_MODULE__35__;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","import { action } from '~/core/util/helpers';\r\nimport { SET_VERSION, SET_VERSION_STATUS } from '~/core/redux/types/version';\r\n\r\nexport const setVersion = (commitRef, buildNo) =>\r\n  action(SET_VERSION, { commitRef, buildNo });\r\n\r\nexport const setVersionStatus = status =>\r\n  action(SET_VERSION_STATUS, { status });\r\n","import { compose, createStore, applyMiddleware } from 'redux';\r\nimport { combineReducers } from 'redux-immutable';\r\nimport thunk from 'redux-thunk';\r\nimport createSagaMiddleware, { END } from 'redux-saga';\r\n\r\n// Core reducers\r\nimport RoutingReducer from './reducers/routing';\r\nimport VersionReducer from './reducers/version';\r\nimport NavigationReducer from './reducers/navigation';\r\nimport routerMiddleware from './routerMiddleware';\r\n\r\nexport default (featureReducers, initialState, history) => {\r\n  const thunkMiddleware = [thunk];\r\n\r\n  let reduxDevToolsMiddleware = f => f;\r\n\r\n  if (typeof window != 'undefined') {\r\n    reduxDevToolsMiddleware = window.__REDUX_DEVTOOLS_EXTENSION__\r\n      ? window.__REDUX_DEVTOOLS_EXTENSION__()\r\n      : f => f;\r\n  }\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n  const middleware = compose(\r\n    applyMiddleware(\r\n      ...thunkMiddleware,\r\n      sagaMiddleware,\r\n      routerMiddleware(history)\r\n    ),\r\n    reduxDevToolsMiddleware\r\n  );\r\n\r\n  let reducers = {\r\n    navigation: NavigationReducer,\r\n    routing: RoutingReducer,\r\n    version: VersionReducer,\r\n  };\r\n\r\n  const store = (featureReducers, initialState) => {\r\n    const combinedReducers = combineReducers({\r\n      ...reducers,\r\n      ...featureReducers,\r\n    });\r\n    const store = createStore(combinedReducers, initialState, middleware);\r\n    store.runSaga = sagaMiddleware.run;\r\n    store.close = () => store.dispatch(END);\r\n    return store;\r\n  };\r\n\r\n  return store(featureReducers, initialState);\r\n};\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__39__;","module.exports = __WEBPACK_EXTERNAL_MODULE__40__;","module.exports = __WEBPACK_EXTERNAL_MODULE__41__;","module.exports = __WEBPACK_EXTERNAL_MODULE__42__;","import { Map, fromJS, List } from 'immutable';\r\nimport {\r\n  SET_ENTRY_ID,\r\n  SET_ENTRY,\r\n  SET_NAVIGATION_PATH,\r\n  SET_NAVIGATION_NOT_FOUND,\r\n  SET_NODE,\r\n  SET_ANCESTORS,\r\n  SET_ROUTE_LOADING,\r\n  SET_ENTRY_RELATED_ARTICLES,\r\n  SET_TARGET_PROJECT,\r\n  SET_ROUTE,\r\n} from '~/core/redux/types/routing';\r\nimport {\r\n  GetAllResponseGuids,\r\n  // fixImageUri,\r\n} from '~/core/util/ContensisDeliveryApi';\r\n\r\nlet initialState = Map({\r\n  currentPath: [],\r\n  currentNode: [],\r\n  currentProject: 'unknown',\r\n  notFound: false,\r\n  entryID: null,\r\n  entry: null,\r\n  entryDepends: new List(),\r\n  contentTypeId: null,\r\n  currentNodeAncestors: new List(),\r\n});\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_ENTRY_ID: {\r\n      if (action.id === '') {\r\n        return state;\r\n      }\r\n      return state.set('entryID', action.id);\r\n    }\r\n    case SET_ANCESTORS: {\r\n      return state.set('currentNodeAncestors', fromJS(action.ancestors));\r\n    }\r\n    case SET_NODE: {\r\n      // We have the entry stored elsewhere, so lets not keep it twice.\r\n      if (action.node && action.node.entry) delete action.node.entry;\r\n      return state.set('currentNode', fromJS(action.node));\r\n    }\r\n    case SET_ENTRY: {\r\n      // Get Depends for entry\r\n      var depends = GetAllResponseGuids(action.entry);\r\n      // if (action.entry) {\r\n      //   fixImageUri(action.entry);\r\n      // }\r\n      return state\r\n        .set('entryDepends', fromJS(depends))\r\n        .set('entry', fromJS(action.entry));\r\n    }\r\n    case SET_NAVIGATION_PATH: {\r\n      if (action.path) {\r\n        return state.set('currentPath', fromJS(action.path));\r\n      }\r\n      return state;\r\n    }\r\n    case SET_ROUTE: {\r\n      return state.set('nextPath', action.path);\r\n    }\r\n    case SET_NAVIGATION_NOT_FOUND: {\r\n      return state.set('notFound', fromJS(action.notFound));\r\n    }\r\n    case SET_ROUTE_LOADING: {\r\n      return state.set('routeLoading', action.loading);\r\n    }\r\n    case SET_ENTRY_RELATED_ARTICLES: {\r\n      return state.set('relatedArticles', fromJS(action.relatedArticles));\r\n    }\r\n    case SET_TARGET_PROJECT: {\r\n      return state\r\n        .set('currentProject', action.project)\r\n        .set('allowedGroups', fromJS(action.allowedGroups));\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { Map } from 'immutable';\r\nimport { SET_VERSION, SET_VERSION_STATUS } from '~/core/redux/types/version';\r\n\r\nlet initialState = Map({\r\n  commitRef: null,\r\n  buildNo: null,\r\n  contensisVersionStatus: 'published',\r\n});\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_VERSION_STATUS: {\r\n      return state.set('contensisVersionStatus', action.status);\r\n    }\r\n    case SET_VERSION: {\r\n      return state\r\n        .set('commitRef', action.commitRef)\r\n        .set('buildNo', action.buildNo);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { Map, fromJS, List } from 'immutable';\r\n\r\nimport {\r\n  SET_NODE_TREE,\r\n  GET_NODE_TREE_ERROR,\r\n} from '~/core/redux/types/navigation';\r\n\r\nconst initialState = Map({\r\n  root: null,\r\n  treeDepends: new List([]),\r\n  isError: false,\r\n  isReady: false,\r\n});\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_NODE_TREE: {\r\n      return state.set('root', fromJS(action.nodes)).set('isReady', true);\r\n    }\r\n    case GET_NODE_TREE_ERROR: {\r\n      return state.set('isError', true);\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { CALL_HISTORY_METHOD } from '~/core/redux/types/routing';\r\n\r\n/**\r\n * This middleware captures CALL_HISTORY_METHOD actions to redirect to the\r\n * provided history object. This will prevent these actions from reaching your\r\n * reducer or any middleware that comes after this one.\r\n */\r\n/* eslint-disable no-unused-vars */\r\nconst routerMiddleware = history => store => next => action => {\r\n  if (action.type !== CALL_HISTORY_METHOD) {\r\n    return next(action);\r\n  }\r\n\r\n  const {\r\n    payload: { method, args },\r\n  } = action;\r\n  history[method](...args);\r\n};\r\n\r\nexport default routerMiddleware;\r\n","// index.js\r\nimport { all } from 'redux-saga/effects';\r\nimport { routingSagas } from './routing';\r\nimport { navigationSagas } from './navigation';\r\nexport default function(featureSagas = []) {\r\n  return function* rootSaga() {\r\n    const subSagas = [...routingSagas, ...navigationSagas];\r\n    yield all([...subSagas, ...featureSagas]);\r\n  };\r\n}\r\n","// load-entries.js\r\nimport * as log from 'loglevel';\r\nimport { takeEvery, put, select, call, all } from 'redux-saga/effects';\r\nimport {\r\n  SET_ENTRY_ID,\r\n  SET_ENTRY,\r\n  SET_NAVIGATION_NOT_FOUND,\r\n  SET_NODE,\r\n  SET_ANCESTORS,\r\n  SET_NAVIGATION_PATH,\r\n  SET_ROUTE,\r\n  CALL_HISTORY_METHOD,\r\n} from '~/core/redux/types/routing';\r\nimport { deliveryApi } from '~/core/util/ContensisDeliveryApi';\r\nimport { selectVersionStatus } from '~/core/redux/selectors/version';\r\nimport {\r\n  selectCurrentPath,\r\n  selectCurrentProject,\r\n} from '~/core/redux/selectors/routing';\r\nimport { hasNavigationTree } from '../selectors/navigation';\r\nimport { ensureNodeTreeSaga } from './navigation';\r\n\r\nexport const routingSagas = [\r\n  takeEvery(SET_NAVIGATION_PATH, getRouteSaga),\r\n  takeEvery(SET_ROUTE, setRouteSaga),\r\n];\r\n\r\nfunction* setRouteSaga(action) {\r\n  /* eslint-disable no-console */\r\n  console.log(action);\r\n  yield put({\r\n    type: CALL_HISTORY_METHOD,\r\n    payload: {\r\n      method: 'push',\r\n      args: [action.path, action.state],\r\n    },\r\n  });\r\n  yield put({ type: SET_NAVIGATION_PATH, path: action.path });\r\n}\r\n\r\nfunction* getRouteSaga() {\r\n  try {\r\n    yield ensureNavigationTree();\r\n    const state = yield select();\r\n    const currentPath = selectCurrentPath(state);\r\n    const deliveryApiStatus = selectVersionStatus(state);\r\n    const project = selectCurrentProject(state);\r\n\r\n    let pathNode = null;\r\n    let ancestors = null;\r\n    // Scroll into View\r\n    if (typeof window !== 'undefined') {\r\n      window.scroll({\r\n        top: 0,\r\n      });\r\n    }\r\n    if (currentPath === '/') {\r\n      pathNode = yield deliveryApi\r\n        .getClient(deliveryApiStatus, project)\r\n        .nodes.getRoot({\r\n          entryFields: '*',\r\n          entryLinkDepth: 4,\r\n          language: 'en-GB',\r\n        });\r\n    } else {\r\n      if (currentPath.startsWith('/preview/')) {\r\n        let splitPath = currentPath.split('/');\r\n        let entryGuid = splitPath[2];\r\n        pathNode = yield deliveryApi\r\n          .getClient(deliveryApiStatus, project)\r\n          .nodes.getByEntry({\r\n            entryId: entryGuid,\r\n            entryFields: '*',\r\n            entryLinkDepth: 4,\r\n          });\r\n        pathNode = pathNode[0];\r\n      } else {\r\n        pathNode = yield deliveryApi\r\n          .getClient(deliveryApiStatus, project)\r\n          .nodes.get({\r\n            path: currentPath,\r\n            entryFields: '*',\r\n            entryLinkDepth: 4,\r\n          });\r\n      }\r\n\r\n      ancestors = yield deliveryApi\r\n        .getClient(deliveryApiStatus, project)\r\n        .nodes.getAncestors(pathNode.id);\r\n    }\r\n\r\n    if (\r\n      pathNode &&\r\n      pathNode.entry &&\r\n      pathNode.entry.sys &&\r\n      pathNode.entry.sys.id\r\n    ) {\r\n      yield call(setRouteEntry, pathNode.entry, pathNode, ancestors);\r\n    } else {\r\n      yield call(do404);\r\n    }\r\n  } catch (e) {\r\n    log.info(`Error running route saga: ${e}`);\r\n    yield call(do404);\r\n  }\r\n}\r\n\r\nfunction* ensureNavigationTree() {\r\n  const treeLoaded = yield select(hasNavigationTree);\r\n  if (!treeLoaded) {\r\n    yield call(ensureNodeTreeSaga);\r\n  }\r\n}\r\n\r\nfunction* setRouteEntry(entry, node, ancestors) {\r\n  yield all([\r\n    put({\r\n      type: SET_NAVIGATION_NOT_FOUND,\r\n      notFound: false,\r\n    }),\r\n    put({\r\n      type: SET_NODE,\r\n      node,\r\n    }),\r\n    put({\r\n      type: SET_ENTRY,\r\n      entry: entry,\r\n    }),\r\n    put({\r\n      type: SET_ENTRY_ID,\r\n      id: entry.sys.id,\r\n    }),\r\n    put({\r\n      type: SET_ANCESTORS,\r\n      ancestors,\r\n    }),\r\n  ]);\r\n}\r\n\r\nfunction* do404() {\r\n  yield put({\r\n    type: SET_NAVIGATION_NOT_FOUND,\r\n    notFound: true,\r\n  });\r\n  yield put({\r\n    type: SET_ENTRY_ID,\r\n    id: null,\r\n  });\r\n}\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__49__;","import React from 'react';\r\nimport { hot } from 'react-hot-loader';\r\nimport RouteLoader from '~/core/routes/RouteLoader';\r\n\r\nconst AppRoot = props => {\r\n  return <RouteLoader {...props} />;\r\n};\r\n\r\nexport default hot(module)(AppRoot);\r\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__58__;","import React from 'react';\r\nconst NotFound = () => (\r\n  <>\r\n    <header>\r\n      <h1>404 Page Not Found</h1>\r\n    </header>\r\n  </>\r\n);\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Route } from 'react-router-dom';\r\n\r\nexport const Status = ({ code, children }) => {\r\n  return (\r\n    <Route\r\n      render={({ staticContext }) => {\r\n        if (staticContext) staticContext.status = code;\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nStatus.propTypes = {\r\n  code: PropTypes.number.isRequired,\r\n  children: PropTypes.element,\r\n};\r\n","import React from 'react';\r\nimport { Iterable } from 'immutable';\r\n\r\nexport const toJS = WrappedComponent => wrappedComponentProps => {\r\n  const KEY = 0;\r\n  const VALUE = 1;\r\n\r\n  const propsJS = Object.entries(wrappedComponentProps).reduce(\r\n    (newProps, wrappedComponentProp) => {\r\n      newProps[wrappedComponentProp[KEY]] = Iterable.isIterable(\r\n        wrappedComponentProp[VALUE]\r\n      )\r\n        ? wrappedComponentProp[VALUE].toJS()\r\n        : wrappedComponentProp[VALUE];\r\n      return newProps;\r\n    },\r\n    {}\r\n  );\r\n\r\n  return <WrappedComponent {...propsJS} />;\r\n};\r\n","const client = require('../client/client').default;\r\n\r\nexport default client;\r\n","import 'isomorphic-fetch';\r\nimport React from 'react';\r\nimport { render, hydrate } from 'react-dom';\r\nimport { Router } from 'react-router-dom';\r\nimport { preloadReady } from 'react-loadable';\r\nimport { AppContainer } from 'react-hot-loader';\r\nimport { Provider as ReduxProvider } from 'react-redux';\r\nimport queryString from 'query-string';\r\nimport { fromJS } from 'immutable';\r\n\r\nimport createStore from '~/core/redux/store';\r\nimport rootSaga from '~/core/redux/sagas';\r\n\r\nimport App from '~/App';\r\nimport { setVersionStatus } from '~/core/redux/actions/version';\r\nimport { GetClientSideDeliveryApiStatus } from '~/core/util/ContensisDeliveryApi';\r\nimport { setCurrentProject } from '~/core/redux/actions/routing';\r\nimport pickProject from '~/core/util/pickProject';\r\nimport { browserHistory as history } from '~/core/redux/history';\r\n\r\nclass ClientApp {\r\n  constructor(config) {\r\n    const documentRoot = document.getElementById('root');\r\n\r\n    const { routes, withReducers, withSagas } = config;\r\n\r\n    const GetClientJSX = store => {\r\n      const ClientJsx = (\r\n        <AppContainer>\r\n          <ReduxProvider store={store}>\r\n            <Router history={history}>\r\n              <App routes={routes} />\r\n            </Router>\r\n          </ReduxProvider>\r\n        </AppContainer>\r\n      );\r\n      return ClientJsx;\r\n    };\r\n\r\n    /**\r\n     * Webpack HMR Setup.\r\n     */\r\n    const HMRRenderer = Component => {\r\n      preloadReady().then(() => {\r\n        process.env.NODE_ENV != 'production'\r\n          ? render(Component, documentRoot)\r\n          : hydrate(Component, documentRoot);\r\n      });\r\n    };\r\n    let store = null;\r\n    const versionStatusFromHostname = GetClientSideDeliveryApiStatus();\r\n    if (\r\n      window.isDynamic ||\r\n      window.REDUX_DATA ||\r\n      process.env.NODE_ENV !== 'production'\r\n    ) {\r\n      store = createStore({}, fromJS(window.REDUX_DATA), history);\r\n      store.dispatch(setVersionStatus(versionStatusFromHostname));\r\n\r\n      /* eslint-disable no-console */\r\n      console.log('Hydrating from inline Redux');\r\n      /* eslint-enable no-console */\r\n      store.runSaga(rootSaga(withSagas));\r\n      store.dispatch(\r\n        setCurrentProject(\r\n          pickProject(\r\n            window.location.hostname,\r\n            queryString.parse(window.location.search)\r\n          )\r\n        )\r\n      );\r\n\r\n      delete window.REDUX_DATA;\r\n      HMRRenderer(GetClientJSX(store));\r\n    } else {\r\n      fetch(`${window.location.pathname}?redux=true`)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          /* eslint-disable no-console */\r\n          //console.log('Got Data Back');\r\n          // console.log(data);\r\n          /* eslint-enable no-console */\r\n          const ssRedux = JSON.parse(data);\r\n          store = createStore(withReducers, fromJS(ssRedux), history);\r\n          // store.dispatch(setVersionStatus(versionStatusFromHostname));\r\n\r\n          store.runSaga(rootSaga(withSagas));\r\n          store.dispatch(\r\n            setCurrentProject(\r\n              pickProject(\r\n                window.location.hostname,\r\n                queryString.parse(window.location.search)\r\n              )\r\n            )\r\n          );\r\n          // if (typeof window != 'undefined') {\r\n          //   store.dispatch(checkUserLoggedIn());\r\n          // }\r\n          HMRRenderer(GetClientJSX(store));\r\n        });\r\n    }\r\n\r\n    // webpack Hot Module Replacement API\r\n    if (module.hot) {\r\n      module.hot.accept('~/App', () => {\r\n        // if you are using harmony modules ({modules:false})\r\n        HMRRenderer(GetClientJSX(store));\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport default ClientApp;\r\n","module.exports = __WEBPACK_EXTERNAL_MODULE__82__;","module.exports = __WEBPACK_EXTERNAL_MODULE__83__;","import { createBrowserHistory, createMemoryHistory } from 'history';\r\n\r\n// Create a history depending on the environment\r\nconst selectedHistory =\r\n  typeof window !== 'undefined' ? createBrowserHistory : createMemoryHistory;\r\n\r\nexport const history = (options = {}) => selectedHistory(options);\r\nexport const browserHistory = selectedHistory();\r\n","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n","function valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true;\n\n  // Otherwise, if either of them == null they are not equal.\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return (\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every(function(item, index) {\n        return valueEqual(item, b[index]);\n      })\n    );\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = valueOf(a);\n    var bValue = valueOf(b);\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    return Object.keys(Object.assign({}, a, b)).every(function(key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction) {\n    throw new Error(prefix);\n  } else {\n    throw new Error(prefix + \": \" + (message || ''));\n  }\n}\n\nexport default invariant;\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction stripHash(url) {\n  var hashIndex = url.indexOf('#');\n  return hashIndex === -1 ? url : url.slice(0, hashIndex);\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(stripHash(window.location.href) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    var baseTag = document.querySelector('base');\n    var href = '';\n\n    if (baseTag && baseTag.getAttribute('href')) {\n      href = stripHash(window.location.href);\n    }\n\n    return href + '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };\n"],"sourceRoot":""}